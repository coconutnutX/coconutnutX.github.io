<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CoCoNutNut&#39;s NoteBook</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-09-28T13:26:42.554Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>coconutnut</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>AR FoundationÁ¨îËÆ∞04 Tap to Place Objects in AR</title>
    <link href="http://yoursite.com/2020/09/28/note-arfoundation-04/"/>
    <id>http://yoursite.com/2020/09/28/note-arfoundation-04/</id>
    <published>2020-09-28T13:05:16.000Z</published>
    <updated>2020-09-28T13:26:42.554Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.youtube.com/watch?v=xguiSueY1Lw&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=5&amp;ab_channel=DineshPunni" target="_blank" rel="noopener">https://www.youtube.com/watch?v=xguiSueY1Lw&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=5&amp;ab_channel=DineshPunni</a></p></blockquote><hr><p>(Êé•Á¨îËÆ∞03)</p><p>Create New Folder (Scripts)</p><p>Create C# Script</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.XR.ARFoundation;</span><br><span class="line">using UnityEngine.XR.ARSubsystems;</span><br><span class="line"></span><br><span class="line">[RequireComponent(typeof(ARRaycastManager))]</span><br><span class="line">public class ARTapToPlaceObject : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    public GameObject gameObjectToInstantiate;</span><br><span class="line">    </span><br><span class="line">    private GameObject spawnedObject;</span><br><span class="line">    private ARRaycastManager arRaycastManager;</span><br><span class="line">    private Vector2 touchPosition;</span><br><span class="line">    </span><br><span class="line">    static List&lt;ARRaycastHit&gt; hits &#x3D; new List&lt;ARRaycastHit&gt;();</span><br><span class="line">    </span><br><span class="line">    private void Awake()</span><br><span class="line">    &#123;</span><br><span class="line">        arRaycastManager &#x3D; GetComponent&lt;ARRaycastManager&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    bool TryGetTouchPosition(out Vector2 touchPosition)</span><br><span class="line">    &#123;</span><br><span class="line">        if(Input.touchCount &gt; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            touchPosition &#x3D; Input.GetTouch(0).position;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        touchPosition &#x3D; default;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    void Update()</span><br><span class="line">    &#123;</span><br><span class="line">        if(!TryGetTouchPosition(out Vector2 touchPosition))</span><br><span class="line">        &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        if(arRaycastManager.Raycast(touchPosition,hits,TrackableType.PlaneWithinPolygon))</span><br><span class="line">        &#123;</span><br><span class="line">            var hitPose &#x3D; hits[0].pose;</span><br><span class="line">            </span><br><span class="line">            if(spawnedObject &#x3D;&#x3D; null)</span><br><span class="line">            &#123;</span><br><span class="line">                spawnedObject &#x3D; Instantiate(gameObjectToInstantiate, hitPose.position, hitPose.rotation);</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                spawnedObject.transform.position &#x3D; hitPose.position;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÊääScriptÊãñËøõAR Session Origin</p><p>Create CubeÊãñËøõPrefabsÔºåÊãñËøõGameObjectToInstantiate</p><img src="/images/2020/screencapture2020-09-28 PM9.20.08.jpg"><p>Build</p><img src="/images/2020/Screenshot_2020-09-28-21-25-16-503_com.coconutnut.jpg" width=400><p>Yeah~</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=xguiSueY1Lw&amp;amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;amp;index=5&amp;amp;ab_channel=
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="ar" scheme="http://yoursite.com/tags/ar/"/>
    
  </entry>
  
  <entry>
    <title>AR FoundationÁ¨îËÆ∞03 Plane Detection</title>
    <link href="http://yoursite.com/2020/09/28/note-arfoundation-03/"/>
    <id>http://yoursite.com/2020/09/28/note-arfoundation-03/</id>
    <published>2020-09-28T12:16:29.000Z</published>
    <updated>2020-09-28T13:05:02.587Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p> <a href="https://www.youtube.com/watch?v=uWWiYfPTUtU&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=4&amp;ab_channel=DineshPunni" target="_blank" rel="noopener">https://www.youtube.com/watch?v=uWWiYfPTUtU&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=4&amp;ab_channel=DineshPunni</a></p></blockquote><hr><ol><li>add AR Plane Manager</li></ol><p>AR Session Origin-&gt; add component -&gt; AR Plane Manager</p><ol start="2"><li>Build your own plane object (or use prebuilt prefab)</li></ol><p>Create Empty Object</p><p>Add Components</p><img src="/images/2020/screencapture2020-09-28 PM8.44.02.jpg" width=400><p>Line Renderer</p><img src="/images/2020/screencapture2020-09-28 PM8.46.59.jpg" width=400><ol start="3"><li>Add material to Mesh Renderer</li></ol><p>Create a folder in Assets</p><p>Create Material</p><img src="/images/2020/screencapture2020-09-28 PM8.49.54.jpg"><p>Assign to Mesh Renderer</p><ol start="4"><li>Create prefab of this plane</li></ol><p>Create a folder (Prefabs)</p><p>Drag ARPlane to folder</p><p>Assign to AR Plane Manager</p><img src="/images/2020/screencapture2020-09-28 PM8.52.28.jpg"><ol start="5"><li>Build</li></ol><img src="/images/2020/Screenshot_2020-09-28-20-59-24-106_com.coconutnut.jpg" width=400><p>üßêÂæàÊòØËø∑ÊÉë</p><img src="/images/2020/Screenshot_2020-09-28-21-03-08-471_com.coconutnut.jpg" width=400><p>Êîπ‰∫Ü‰∏Ä‰∏ãÈ°∫ÁúºÂ§ö‰∫Ü</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt; &lt;a href=&quot;https://www.youtube.com/watch?v=uWWiYfPTUtU&amp;amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;amp;index=4&amp;amp;ab_channel
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="ar" scheme="http://yoursite.com/tags/ar/"/>
    
  </entry>
  
  <entry>
    <title>AR FoundationÁ¨îËÆ∞02 Image Tracking</title>
    <link href="http://yoursite.com/2020/09/26/note-arfoundation-02/"/>
    <id>http://yoursite.com/2020/09/26/note-arfoundation-02/</id>
    <published>2020-09-26T10:21:08.000Z</published>
    <updated>2020-09-26T10:49:32.732Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.youtube.com/watch?v=o_z_Eb8Yh2g&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=3&amp;ab_channel=DineshPunni" target="_blank" rel="noopener">https://www.youtube.com/watch?v=o_z_Eb8Yh2g&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=3&amp;ab_channel=DineshPunni</a></p></blockquote><hr><p>AR Session Origin -&gt; Add AR Tracked Image Manager</p><p>Assets -&gt; Create -&gt; XR -&gt; Reference Image Library</p><p>Êãñ‰∏ÄÂº†ÂõæÂà∞AssetsÈáå</p><p>Reference Library -&gt; Add Image ÊääÂõæÊãñËøõÂéªÔºåÂ°´Physical Size</p><img src="/images/2020/screencapture2020-09-26 PM6.30.20.jpg"><p>AR Session Origin -&gt; ÊääReference LibraryÊãñÂà∞AR Tracked Image Manager‰∏≠</p><p>Assets -&gt; Create -&gt; C# Script -&gt; ÈáçÂëΩÂêçImageRecognitionExample</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.XR.ARFoundation;</span><br><span class="line"></span><br><span class="line">public class NewBehaviourScript : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    private ARTrackedImageManager _arTrackedImageManager;</span><br><span class="line">    </span><br><span class="line">    private void Awake()</span><br><span class="line">    &#123;</span><br><span class="line">        _arTrackedImageManager &#x3D; FindObjectOfType&lt;ARTrackedImageManager&gt;();    </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void OnEnable()</span><br><span class="line">    &#123;</span><br><span class="line">        _arTrackedImageManager.trackedImagesChanged +&#x3D; OnImageChanged;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void onDisable()</span><br><span class="line">    &#123;</span><br><span class="line">        _arTrackedImageManager.trackedImagesChanged -&#x3D; OnImageChanged;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void OnImageChanged(ARTrackedImagesChangedEventArgs args)</span><br><span class="line">    &#123;</span><br><span class="line">        foreach (var trackedImage in args.added)</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(trackedImage.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Create 3D Object CubeÔºåË∞ÉÊï¥‰ΩçÁΩÆ„ÄÅÂ§ßÂ∞è</p><img src="/images/2020/screencapture2020-09-26 PM6.44.08.jpg"><p>ÊãñËøõAssetsÔºàÂèòÊàêprefabÔºâÔºåÂú®SampleScene‰∏≠Âà†Èô§</p><p>ÊääprefabÊãñËøõAR Tracked Image Manager</p><p>Build</p><img src="/images/2020/Screenshot_2020-09-26-18-48-02-522_com.coconutnut.jpg" width=400><p>ÊàêÂäü~</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=o_z_Eb8Yh2g&amp;amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;amp;index=3&amp;amp;ab_channel=
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="ar" scheme="http://yoursite.com/tags/ar/"/>
    
  </entry>
  
  <entry>
    <title>AR FoundationÁ¨îËÆ∞01 ÂÆâÂçìSetup</title>
    <link href="http://yoursite.com/2020/09/26/note-arfoundation-01/"/>
    <id>http://yoursite.com/2020/09/26/note-arfoundation-01/</id>
    <published>2020-09-26T09:37:55.000Z</published>
    <updated>2020-09-26T10:22:06.105Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p> <a href="https://www.youtube.com/watch?v=0mpsiO2lCx0&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=1&amp;ab_channel=DineshPunni" target="_blank" rel="noopener">https://www.youtube.com/watch?v=0mpsiO2lCx0&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=1&amp;ab_channel=DineshPunni</a></p></blockquote><hr><h1 id="ÁéØÂ¢É"><a href="#ÁéØÂ¢É" class="headerlink" title="ÁéØÂ¢É"></a>ÁéØÂ¢É</h1><p>macOS Catalina 10.15.6</p><p>Unity Hub 2.3.10</p><p>Unity 2020.1.6f1c1</p><h1 id="ÈÖçÁΩÆ"><a href="#ÈÖçÁΩÆ" class="headerlink" title="ÈÖçÁΩÆ"></a>ÈÖçÁΩÆ</h1><p>File -&gt; Build Settings</p><p>ÂàáÊç¢Âπ≥Âè∞Âà∞Android</p><p>-&gt; Player Settings</p><ol><li><p>Other Settings -&gt; ÊîπPackage Name</p></li><li><p>Disable Multithread Rendering (Android doesn‚Äôt support yet)</p></li><li><p>Graphics APIs -&gt; disable Vulkan</p></li><li><p>Minimun API level -&gt; 26</p></li></ol><h1 id="Package"><a href="#Package" class="headerlink" title="Package"></a>Package</h1><p>Window -&gt; Package Manager -&gt; Packages : Unity Registry</p><img src="/images/2020/screencapture2020-09-26 PM5.51.57.jpg" width=400><h1 id="Sample-Scene"><a href="#Sample-Scene" class="headerlink" title="Sample Scene"></a>Sample Scene</h1><ol><li><p>Âà†Èô§Main Camera</p></li><li><p>Right Click -&gt; XR -&gt; AR Session Origin</p><p>AR Camera Ê†áÁ≠æ MainCamera</p></li><li><p>Right Click -&gt; XR -&gt; AR Session</p></li><li><p>Right Click -&gt; 3D Object -&gt; Cube<br>‰ΩçÁΩÆÊîπÊàê0Ôºå0Ôºå0<br>Áº©ÊîæÊîπÊàê0.2Ôºå0.2Ôºå0.2<br>Èöè‰æøËΩ¨ËΩ¨</p></li></ol><h1 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h1><p>ÊâãÊú∫ -&gt; ÂºÄÂèëËÄÖÊ®°Âºè</p><p>Ëøû‰∏ä</p><p>File -&gt; Build Settings -&gt; Run Device -&gt; ÈÄâ‰∏≠ÊâãÊú∫</p><p> Add Open Scene</p><p>Build and Run</p><img src="/images/2020/Screenshot_2020-09-26-18-10-31-833_com.coconutnut.jpg" width=400><p>ÊàêÂäü<del>~</del></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt; &lt;a href=&quot;https://www.youtube.com/watch?v=0mpsiO2lCx0&amp;amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;amp;index=1&amp;amp;ab_channel
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="ar" scheme="http://yoursite.com/tags/ar/"/>
    
  </entry>
  
  <entry>
    <title>ËÆ∞ÂΩïÈÉ®ÁΩ≤ÈùôÊÄÅÈ°µÈù¢</title>
    <link href="http://yoursite.com/2020/08/10/webpage/"/>
    <id>http://yoursite.com/2020/08/10/webpage/</id>
    <published>2020-08-09T16:05:05.000Z</published>
    <updated>2020-08-09T16:09:21.064Z</updated>
    
    <content type="html"><![CDATA[<p>Êääindex.htmlÂíåassetsÂáÜÂ§áÂ•Ω</p><p>sshËøû‰∏äÊúçÂä°Âô®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install apache2</span><br></pre></td></tr></table></figure><p>ÊääÊñá‰ª∂‰º†Âà∞/var/www/html</p><p>Ôºà‰∏ÄÂºÄÂßã‰º†Êàê‰∫Ü/root/var/www/htmlÔºåindex.html‰∏ÄÁõ¥ÊòæÁ§∫‰∏çÂØπÔºâ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;apache2&#x2F;apache2.conf</span><br></pre></td></tr></table></figure><p>ÊúÄÂêéÂä†‰∏ÄÂè•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ServerName ***.**.**.89</span><br></pre></td></tr></table></figure><p>ÁÑ∂Âêé</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;apache2&#x2F;mods-available&#x2F;dir.conf</span><br></pre></td></tr></table></figure><p>ÊîπÊàê</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;IfModule mod_dir.c&gt;</span><br><span class="line">DirectoryIndex  index.html</span><br><span class="line">&lt;&#x2F;IfModule&gt;</span><br></pre></td></tr></table></figure><p>ÈáçÂêØ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apache2ctl -k restart</span><br></pre></td></tr></table></figure><p>ÊµèËßàÂô®ËÆøÈóÆ</p><p><a href="http://xxx/index.html" target="_blank" rel="noopener">http://xxx/index.html</a></p><p>ok</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Êääindex.htmlÂíåassetsÂáÜÂ§áÂ•Ω&lt;/p&gt;
&lt;p&gt;sshËøû‰∏äÊúçÂä°Âô®&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
  </entry>
  
  <entry>
    <title>ËØª‰π¶Á¨îËÆ∞ Â§ßËÑë‰øÆÂ§çÊúØ</title>
    <link href="http://yoursite.com/2020/07/25/brain/"/>
    <id>http://yoursite.com/2020/07/25/brain/</id>
    <published>2020-07-25T12:17:15.000Z</published>
    <updated>2020-07-25T12:27:06.421Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/2020/brain1.png"><img src="/images/2020/brain2.png"><img src="/images/2020/brain3.png"><img src="/images/2020/brain4.png">]]></content>
    
    <summary type="html">
    
      
      
        &lt;img src=&quot;/images/2020/brain1.png&quot;&gt;

&lt;img src=&quot;/images/2020/brain2.png&quot;&gt;

&lt;img src=&quot;/images/2020/brain3.png&quot;&gt;

&lt;img src=&quot;/images/2020/brain4
      
    
    </summary>
    
    
      <category term="Memo" scheme="http://yoursite.com/categories/Memo/"/>
    
    
      <category term="mindmap" scheme="http://yoursite.com/tags/mindmap/"/>
    
  </entry>
  
  <entry>
    <title>ËÆ∞ÂΩïÊúçÂä°Âô®ÂÆâË£ÖAnaconda</title>
    <link href="http://yoursite.com/2020/06/24/memo-python/"/>
    <id>http://yoursite.com/2020/06/24/memo-python/</id>
    <published>2020-06-24T04:28:18.000Z</published>
    <updated>2020-06-24T07:26:42.198Z</updated>
    
    <content type="html"><![CDATA[<p>pyenvÊØèÊ¨°ÈÉΩË¶Åsource ~/.bash_profileÊâçËÉΩÁîüÊïàÔºåÊâéÂøÉÔºåÂç∏‰∫Ü</p><p>Áé∞Âú®Á¨îËÆ∞Êú¨‰∏äÂ∫îËØ•Âè™ÊúâÁ≥ªÁªüËá™Â∏¶ÁöÑ2.7ÔºàÂíåÊ≤°Âç∏Âπ≤ÂáÄÁöÑÈÅóÁïôÊñá‰ª∂Ôºâ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">coconutnut@Ss-MacBook-Pro ~ % python -V</span><br><span class="line">Python 2.7.17</span><br><span class="line">coconutnut@Ss-MacBook-Pro ~ % pip -V</span><br><span class="line">pip 19.3.1 from &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python2.7&#x2F;site-packages&#x2F;pip (python 2.7)</span><br></pre></td></tr></table></figure><p>ÊÉ≥‰∫Ü‰∏ãÂπ≤ËÑÜË£ÖÊúçÂä°Âô®‰∏äÂ•Ω‰∫Ü</p><hr><h1 id="ÂÆâË£ÖAnaconda"><a href="#ÂÆâË£ÖAnaconda" class="headerlink" title="ÂÆâË£ÖAnaconda"></a>ÂÆâË£ÖAnaconda</h1><blockquote><p><a href="https://blog.csdn.net/qq_41813258/article/details/102400325" target="_blank" rel="noopener">https://blog.csdn.net/qq_41813258/article/details/102400325</a></p></blockquote><blockquote><p><a href="https://repo.anaconda.com/archive/" target="_blank" rel="noopener">https://repo.anaconda.com/archive/</a></p></blockquote><p>ÂÆòÁΩë‰∏ã‰∫Ü‰∏™ÊúÄÊñ∞Áâàanaconda3-2020.02-linux-x86_64.sh/</p><p>bashÂÆâË£ÖÔºåÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># conda -V</span><br><span class="line">conda 4.8.2</span><br></pre></td></tr></table></figure><p>ÂÆåÊàê</p><p>ÂàõÂª∫‰∏Ä‰∏™3.7.6ÁöÑÁéØÂ¢É</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># conda create -n env3.7 python&#x3D;3.7.6</span><br><span class="line">...</span><br><span class="line">#</span><br><span class="line"># To activate this environment, use</span><br><span class="line">#</span><br><span class="line">#     $ conda activate env3.7</span><br><span class="line">#</span><br><span class="line"># To deactivate an active environment, use</span><br><span class="line">#</span><br><span class="line">#     $ conda deactivate</span><br></pre></td></tr></table></figure><h1 id="ÈÖçÁΩÆJupyter-notebook"><a href="#ÈÖçÁΩÆJupyter-notebook" class="headerlink" title="ÈÖçÁΩÆJupyter notebook"></a>ÈÖçÁΩÆJupyter notebook</h1><blockquote><p><a href="https://blog.csdn.net/qq_43058685/article/details/103804238" target="_blank" rel="noopener">https://blog.csdn.net/qq_43058685/article/details/103804238</a></p></blockquote><p>Á´ØÂè£ÈÖçÁöÑ2020</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --ip&#x3D;0.0.0.0 --no-browser --allow-root</span><br></pre></td></tr></table></figure><p>ÊµèËßàÂô®ËØï‰∫Ü‰∏Ä‰∏ãÔºåok</p><h1 id="Â∏∏Áî®ÂëΩ‰ª§"><a href="#Â∏∏Áî®ÂëΩ‰ª§" class="headerlink" title="Â∏∏Áî®ÂëΩ‰ª§"></a>Â∏∏Áî®ÂëΩ‰ª§</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># ÊâìÂºÄjupyter notebook</span><br><span class="line">jupyter notebook --allow-root</span><br><span class="line"></span><br><span class="line"># ÂêéÂè∞ËøêË°å</span><br><span class="line">nohup jupyter notebook --allow-root &amp;</span><br><span class="line"></span><br><span class="line"># ÊâæÂà∞jupyterËøõÁ®ã</span><br><span class="line">ps aux | grep jupyter</span><br><span class="line"></span><br><span class="line"># ÂÖ≥Èó≠ÂÆÉ</span><br><span class="line">kill XXX(pid)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;pyenvÊØèÊ¨°ÈÉΩË¶Åsource ~/.bash_profileÊâçËÉΩÁîüÊïàÔºåÊâéÂøÉÔºåÂç∏‰∫Ü&lt;/p&gt;
&lt;p&gt;Áé∞Âú®Á¨îËÆ∞Êú¨‰∏äÂ∫îËØ•Âè™ÊúâÁ≥ªÁªüËá™Â∏¶ÁöÑ2.7ÔºàÂíåÊ≤°Âç∏Âπ≤ÂáÄÁöÑÈÅóÁïôÊñá‰ª∂Ôºâ&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=
      
    
    </summary>
    
    
      <category term="memo" scheme="http://yoursite.com/categories/memo/"/>
    
    
  </entry>
  
  <entry>
    <title>ËØª‰π¶Á¨îËÆ∞ Êé®ËçêÁ≥ªÁªüÂÆûË∑µ</title>
    <link href="http://yoursite.com/2020/06/24/recommender-system/"/>
    <id>http://yoursite.com/2020/06/24/recommender-system/</id>
    <published>2020-06-24T04:02:22.000Z</published>
    <updated>2020-06-24T04:04:07.653Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/2020/recommendation_system.png">]]></content>
    
    <summary type="html">
    
      
      
        &lt;img src=&quot;/images/2020/recommendation_system.png&quot;&gt;


      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="mindmap" scheme="http://yoursite.com/tags/mindmap/"/>
    
  </entry>
  
  <entry>
    <title>Á¨îËÆ∞ Êé®ËçêÁ≥ªÁªü</title>
    <link href="http://yoursite.com/2020/06/23/recommendation/"/>
    <id>http://yoursite.com/2020/06/23/recommendation/</id>
    <published>2020-06-23T01:46:41.000Z</published>
    <updated>2020-06-23T05:33:43.965Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.bilibili.com/video/av30578499/" target="_blank" rel="noopener">https://www.bilibili.com/video/av30578499/</a></p></blockquote><h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><img src="/images/2020/screencapture2020-06-23 AM9.48.46.jpg"><h1 id="‰º†ÁªüÊé®ËçêÁ≥ªÁªü"><a href="#‰º†ÁªüÊé®ËçêÁ≥ªÁªü" class="headerlink" title="‰º†ÁªüÊé®ËçêÁ≥ªÁªü"></a>‰º†ÁªüÊé®ËçêÁ≥ªÁªü</h1><p>Content-basedÔºöunstructuredÔºåÊñáÂ≠ó„ÄÅÂõæÂÉèÁ≠âÔºåÈúÄÁêÜËß£ËØ≠‰πâ„ÄÅÊèêÂèñÂ§ßÈáèÁâπÂæÅÔºåÁÆóÊ≥ïÂ§çÊùÇÂª∂ËøüÈ´ò</p><p>Collaborative filteringÂçèÂêåËøáÊª§ÔºöÂü∫‰∫éUser„ÄÅItemÂéÜÂè≤ÔºåÂ¶ÇÁÇπÂáªÊòØ1„ÄÅ‰∏çÁÇπÂáªÊòØ0</p><p>DemographicÔºöÂú∞Âüü‰ø°ÊÅØ</p><p>Knowledge-basedÔºöÊ†πÊçÆ‰∏ì‰∏öÁü•ËØÜ</p><p>Community-basedÔºöÁ±ª‰ººContent-basedÔºåÂ¶ÇÁ§æ‰∫§ÁΩëÁªú„ÄÅ‰∫∫Áæ§ÂÖ¥Ë∂£</p><p>HybridÔºöÁªºÂêà</p><h2 id="ÂçèÂêåËøáÊª§"><a href="#ÂçèÂêåËøáÊª§" class="headerlink" title="ÂçèÂêåËøáÊª§"></a>ÂçèÂêåËøáÊª§</h2><img src="/images/2020/screencapture2020-06-23 AM9.52.31.jpg"><p>Âü∫‰∫éÁõ∏‰ººUserÂà§Êñ≠</p><p>ËÆ°ÁÆóÁõ∏‰ººÊÄß </p><ul><li>Memery-based<ul><li>Item-based Â¶ÇÔºåÊääItemËΩ¨ÊàêÁü©ÈòµËÆ°ÁÆóÁõ∏‰ººÊÄß</li><li>User-based</li></ul></li><li>Model-based Âª∫Á´ãUserÂíåItemÁöÑÊñπÁ®ãÔºåÁªôÂÆö‰∏Ä‰∏™UserÂíåItemËøîÂõû‰∏Ä‰∏™ÂàÜÊï∞</li></ul><img src="/images/2020/screencapture2020-06-23 AM9.55.53.jpg"><p>ÊÄùÊÉ≥ÔºöÊ†πÊçÆUser-Item RatingÁü©ÈòµÔºåÂ≠¶Âà∞UserÂíåItem‰ΩéÁª¥ÁöÑÁâπÂæÅË°®Á§∫ÔºåÁî®ÂÆÉËÆ°ÁÆóÁõ∏‰ººÊÄß</p><p>Ë¥≠‰π∞‰∏∫1ÔºåÁÇπÂáªÊú™Ë¥≠‰π∞‰∏∫0ÔºåÂâ©‰∏ãË°•0</p><p>Áü©ÈòµÂàÜËß£ÔºöÈôçÁª¥ Êâæ‰∏Ä‰∏™Áü©Èòµ‰ª£Ë°®UserÔºå‰∏Ä‰∏™‰ª£Ë°®ItemÔºåÁõ∏‰πòÂæóÂà∞</p><p>ÂèØÂÅöRegularization</p><h3 id="‰ºòÁÇπ"><a href="#‰ºòÁÇπ" class="headerlink" title="‰ºòÁÇπ"></a>‰ºòÁÇπ</h3><ul><li>Easy to implementÔºåÁ≥ªÁªüÁÆÄÂçïÔºåÂìçÂ∫îÂø´</li><li>Content-independentÔºå‰∏éÁî®Êà∑ÂÖ∂ÂÆÉÁâπÂæÅÊó†ÂÖ≥Ôºå‰∏çÈúÄË¶ÅËé∑ÂèñËøô‰∫õ‰ø°ÊÅØÂç≥ÂèØÂÆûÁé∞</li></ul><h3 id="Áº∫ÁÇπ"><a href="#Áº∫ÁÇπ" class="headerlink" title="Áº∫ÁÇπ"></a>Áº∫ÁÇπ</h3><ul><li>Êï∞ÊçÆÁ®ÄÁñè</li><li>Cold-start problem Â¶ÇÊñ∞Áî®Êà∑ÁâπÂæÅÂêëÈáèÂÖ®0ÔºåÊó†Ê≥ïËÆ°ÁÆó</li><li>Do not consider content</li></ul><h1 id="Ê∑±Â∫¶Â≠¶‰π†"><a href="#Ê∑±Â∫¶Â≠¶‰π†" class="headerlink" title="Ê∑±Â∫¶Â≠¶‰π†"></a>Ê∑±Â∫¶Â≠¶‰π†</h1><p>‰ºòÂäøÔºöË°®ÂæÅËÉΩÂäõÂº∫„ÄÅ‰∏çÈúÄË¶ÅÂÅöÁâπÂæÅÂ∑•Á®ã„ÄÅ</p><p>ÂÖàÂàõÂª∫Ê∑±Â∫¶Â≠¶‰π†ÁöÑÁΩëÁªúÁªìÊûÑÂÆûÁé∞ÂçèÂêåËøáÊª§ÔºåÂÜçÂä†ÂÖ•Content-based</p><h2 id="Neural-Collaborative-filtering"><a href="#Neural-Collaborative-filtering" class="headerlink" title="Neural Collaborative filtering"></a>Neural Collaborative filtering</h2><img src="/images/2020/screencapture2020-06-23 AM11.29.37.jpg"><ul><li><p>Embedding Layers</p><ul><li>Êää‰ªª‰Ωï‰∏Ä‰∏™User„ÄÅItemÂèòÊàê‰∏Ä‰∏™‰ΩéÁª¥ÂêëÈáè</li><li>One-Hot Encoding</li></ul></li><li><p>Neural CF Layers</p><ul><li>ÂÅöÁü©ÈòµÂàÜËß£</li><li>ÂèØ‰ª•Âä†ÈöêËóèÂ±ÇÔºåÂ≠¶‰π†ÈùûÁ∫øÊÄßË°®ÂæÅ</li></ul></li></ul><h2 id="Neural-Matrix-Factorization-Model"><a href="#Neural-Matrix-Factorization-Model" class="headerlink" title="Neural Matrix Factorization Model"></a>Neural Matrix Factorization Model</h2><img src="/images/2020/screencapture2020-06-23 AM11.36.27.jpg"><p>Á∫øÊÄßÁöÑÂíåÈùûÁ∫øÊÄßÁöÑÁªìÂêàÂà∞‰∏ÄËµ∑</p><p>ÈóÆÈ¢òÔºöÊ≤°ÊúâContent-basedÔºåÂ∏åÊúõÂä†ÂÖ•ÊâãÂ∑•ÊèêÂèñÁöÑÁâπÂæÅ</p><h2 id="Wide-Deep-Neural-Network"><a href="#Wide-Deep-Neural-Network" class="headerlink" title="Wide Deep Neural Network"></a>Wide Deep Neural Network</h2><p>WideÈÉ®ÂàÜËæìÂÖ•ÊâãÂ∑•ÁâπÂæÅÂ∑•Á®ãÁöÑÁªìÊûúÔºåÂ¶ÇÔºöÂπ¥ÈæÑ„ÄÅÂéÜÂè≤ËÆ∞ÂΩï</p><p>DeepÈÉ®ÂàÜÊòØUser„ÄÅItem</p><p>ÊúÄÂêéÁªìÂêàÂà∞‰∏ÄËµ∑ÂÅöÂá∫È¢ÑÊµã</p><p>Eg: Google Play</p><img src="/images/2020/screencapture2020-06-23 AM11.41.51.jpg"><h2 id="‰º†ÁªüÁöÑ-Factorization-Machines"><a href="#‰º†ÁªüÁöÑ-Factorization-Machines" class="headerlink" title="‰º†ÁªüÁöÑ Factorization Machines"></a>‰º†ÁªüÁöÑ Factorization Machines</h2><p>Áõ¥Êé•ÂØπ‰∫ßÂìÅÁöÑÁ±ªÂûã‰ø°ÊÅØÂÅöOne-Hot Encoding</p><img src="/images/2020/screencapture2020-06-23 AM11.48.13.jpg"><p>ÁâπÂæÅ‰∫§Âèâ Â¶ÇÊÄßÂà´=Áî∑ÔºåÂπ¥ÈæÑ=20 ÊääÂØπÂ∫îÁöÑÁª¥Áõ∏‰πòÔºåÊï∞ÊçÆËøáÂ§ßÊòØÈöæÂ§ÑÁêÜ</p><p>Áî®Áü©ÈòµÂàÜËß£ÁöÑÊÄùÊÉ≥ÔºåwijÂèòÊàê&lt;vi,vj&gt;ÔºåÂÖ∂‰∏≠vi,vjÈÉΩÊòØ‰ΩéÁª¥ÂêëÈáè</p><p>ÂèòÂΩ¢ÁâàÊú¨Ôºö</p><h3 id="Field-aware-Factorization-Machines"><a href="#Field-aware-Factorization-Machines" class="headerlink" title="Field-aware Factorization Machines"></a>Field-aware Factorization Machines</h3><img src="/images/2020/screencapture2020-06-23 AM11.53.47.jpg"><p>ËÄÉËôëÁâπÂæÅÊòØÊù•Ëá™Âì™ÈáåÁöÑ</p><p>ÊØè‰∏Ä‰∏™ÁâπÂæÅÔºå‰∏éÂÖ∂‰ªñÁ±ªÂà´‰∫§ÂèâÊó∂ÔºåÊúâ‰∏Ä‰∏™‰∏ç‰∏ÄÊ†∑ÁöÑ‰æùËµñÂêëÈáè</p><h2 id="Deep-Factorization-Machines"><a href="#Deep-Factorization-Machines" class="headerlink" title="Deep Factorization Machines"></a>Deep Factorization Machines</h2><img src="/images/2020/screencapture2020-06-23 AM11.56.26.jpg"><p>Â∑¶‰æßÔºö‰º†ÁªüÈÉ®ÂàÜ</p><p>ÊØè‰∏™ÁßçÁ±ªÂÅöEmbedding</p><p>‰∏∫‰∫ÜÂÆûÁé∞‰∫§ÂèâÔºå‰∏§‰∏§ÂÅöÁâπÂæÅ‰∫§Âèâ</p><p>Á∫øÊÄßÈÉ®ÂàÜÔºåÊ±ÇÂíåÔºàÊúÄÂ∑¶ÁöÑ+Ôºâ</p><p>Âè≥‰æßÔºöÊ∑±Â∫¶ÈÉ®ÂàÜ</p><p>ÁæéÂõ¢ÁöÑÊµãËØïÁªìÊûúÔºö</p><img src="/images/2020/screencapture2020-06-23 AM11.58.58.jpg"><p>Wide &amp; Deep Ë¶ÅÂÅöÁâπÂæÅÂ∑•Á®ãÔºåDeepFM ÂÅö‰∫Ü‰∏ÄÈò∂„ÄÅ‰∫åÈò∂ÁöÑÁâπÂæÅ‰∫§ÂèâÔºåÂêåÊó∂Áî®DeepÁ•ûÁªèÁΩëÁªúÂÅöÁâπÂæÅÂ∑•Á®ã</p><h2 id="Deep-Cooperative-Neural-Network"><a href="#Deep-Cooperative-Neural-Network" class="headerlink" title="Deep Cooperative Neural Network"></a>Deep Cooperative Neural Network</h2><p>Âç∑ÁßØÁ•ûÁªèÁΩëÁªú</p><p>Ê∂âÂèäÂõæÁâá„ÄÅÊñáÂ≠óÊó∂ÂèØÂèÇËÄÉ</p><img src="/images/2020/screencapture2020-06-23 PM12.09.24.jpg"><p>Word-Embedding ÊääÊØè‰∏™ÂçïËØçÊò†Â∞ÑÊàêÂêëÈáèÔºàGoogle : word2vecÔºâ</p><p>ÊúÄÂêéÂæóÂà∞UserËÆ∞ÂΩïÁöÑ‰ΩéÁª¥Ë°®Á§∫ÔºåItemÊèèËø∞ÁöÑ‰ΩéÁª¥Ë°®Á§∫</p><h2 id="Recurrent-Neural-Network"><a href="#Recurrent-Neural-Network" class="headerlink" title="Recurrent Neural Network"></a>Recurrent Neural Network</h2><img src="/images/2020/screencapture2020-06-23 PM1.22.14.jpg"><p>Áªô‰∏Ä‰∏™inputÔºåÊò†Â∞ÑÊàê‰ΩéÁª¥ÂêëÈáèÔºåËæìÂá∫output</p><p>ÂêåÊó∂ÂèçÂ§çËá™Â∑±Ëø≠‰ª£</p><p>ÂèØÂ≠¶‰π†‰∏éÊó∂Èó¥ÊúâÂÖ≥ÁöÑ‰ø°ÊÅØÔºåÂ¶Ç‰∏çÈúÄË¶ÅloginÁöÑÁΩëÁ´ô‰∏äÁî®Êà∑ÁÇπÂáªÁöÑË°å‰∏∫</p><h3 id="Session-based-Recommendation-with-RNN"><a href="#Session-based-Recommendation-with-RNN" class="headerlink" title="Session-based Recommendation with RNN"></a>Session-based Recommendation with RNN</h3><img src="/images/2020/screencapture2020-06-23 PM1.25.03.jpg"><p>È¢ÑÊµãÁî®Êà∑‰∏ã‰∏ÄÊ≠•Ë°å‰∏∫</p><h1 id="Âº∫ÂåñÂ≠¶‰π†"><a href="#Âº∫ÂåñÂ≠¶‰π†" class="headerlink" title="Âº∫ÂåñÂ≠¶‰π†"></a>Âº∫ÂåñÂ≠¶‰π†</h1><p>Âõ†‰∏∫Áî®Êà∑Ë°å‰∏∫ÈöèÊó∂Âú®ÂèòÂåñÔºå‰º†ÁªüÊé®ËçêÁ≥ªÁªüÊó†Ê≥ïÂÆûÊó∂ÂÅöÂá∫Ë∞ÉÊï¥</p><img src="/images/2020/screencapture2020-06-23 PM1.27.37.jpg"><p>StateÂèØ‰ª•ÊòØÁî®Êà∑ÁöÑÁÇπÂáªË°å‰∏∫</p><p>RewardÂèØ‰ª•ÊòØÁÇπÂáª‰∫ÜÊé®ËçêÁöÑ‰∫ßÂìÅ</p><p>Ê†πÊçÆÂΩìÂâçÁöÑStateÂíåRewardËøîÂõû‰∏ã‰∏ÄÊ≠•Action</p><p>Áî®Êà∑ÂØπActionÂÅöÂá∫ÂèçÂ∫îÔºåÂæóÂà∞Êñ∞ÁöÑStateÂíåReward</p><p>ÈòøÈáåÁöÑ‰æãÂ≠êÔºö</p><img src="/images/2020/screencapture2020-06-23 PM1.30.26.jpg">]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/av30578499/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.bilibili.com/video/av3057849
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
  </entry>
  
  <entry>
    <title>È°πÁõÆDebugËÆ∞ÂΩï</title>
    <link href="http://yoursite.com/2020/06/16/debug/"/>
    <id>http://yoursite.com/2020/06/16/debug/</id>
    <published>2020-06-16T02:56:16.000Z</published>
    <updated>2020-06-18T07:11:13.429Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Êâæ‰∏çÂà∞‚ÄôxmlModelPlugin‚Äô"><a href="#Êâæ‰∏çÂà∞‚ÄôxmlModelPlugin‚Äô" class="headerlink" title="Êâæ‰∏çÂà∞‚ÄôxmlModelPlugin‚Äô"></a>Êâæ‰∏çÂà∞‚ÄôxmlModelPlugin‚Äô</h1><p>05.30</p><p>cloneÁöÑÂ∑•Á®ãÂêØÂä®Â§±Ë¥•ÔºåÊéßÂà∂Âè∞Êä•ÈîôÔºö</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.</span><br><span class="line">2020-05-30 10:57:39.476 ERROR 1335 --- [           main] o.s.boot.SpringApplication               : Application run failed</span><br><span class="line"></span><br><span class="line">org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;xmlModelPlugin&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.schema.XmlModelPlugin] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3d4eac69]</span><br><span class="line">at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1286) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1201) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>Ëß£ÂÜ≥</p><p>Ê∑ªÂä†‰æùËµñ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.xml.bind<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxb-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Âä†ËΩΩymlÊñá‰ª∂ÈîôËØØ"><a href="#Âä†ËΩΩymlÊñá‰ª∂ÈîôËØØ" class="headerlink" title="Âä†ËΩΩymlÊñá‰ª∂ÈîôËØØ"></a>Âä†ËΩΩymlÊñá‰ª∂ÈîôËØØ</h1><p>06.12</p><p>‰ªäÂ§©Êñ∞pullÁöÑÂ∑•Á®ãÊâì‰∏çÂºÄ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:&#x2F;bootstrap.yml&#39;</span><br></pre></td></tr></table></figure><p>Êü•Áúãtarget -&gt; classes -&gt; bootstrap.yml</p><p>ÂèëÁé∞‰∏Ä‰∏™mainË¢´Áîª‰∫ÜÊ≥¢Êµ™Á∫øÔºåËØ¥ÈáçÂ§çÂÆö‰πâ</p><p>ÂèëÁé∞</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">main:</span><br><span class="line">  allow-bean-definition-overriding: true</span><br></pre></td></tr></table></figure><p>ÂÜô‰∫Ü2Ê¨°</p><p>Ê≥®ÈáäÊéâ‰∏Ä‰∏™Â∞±Â•Ω‰∫Ü</p><h1 id="Êâæ‰∏çÂà∞‚ÄôspringSecurityFilterChain‚Äô"><a href="#Êâæ‰∏çÂà∞‚ÄôspringSecurityFilterChain‚Äô" class="headerlink" title="Êâæ‰∏çÂà∞‚ÄôspringSecurityFilterChain‚Äô"></a>Êâæ‰∏çÂà∞‚ÄôspringSecurityFilterChain‚Äô</h1><p>06.16</p><p>Êñ∞pullÁöÑÂèàÊâì‰∏çÂºÄ‰∫Ü</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39;</span><br></pre></td></tr></table></figure><p>Ê†πÊçÆËøôÈáåÁöÑ‰∏Ä‰∏™ÂõûÁ≠î</p><blockquote><p><a href="https://github.com/spring-guides/tut-spring-boot-oauth2/issues/68" target="_blank" rel="noopener">https://github.com/spring-guides/tut-spring-boot-oauth2/issues/68</a></p></blockquote><p>Âä†‰∏ä‰∫Ü</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.glassfish.jaxb&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;jaxb-runtime&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;2.3.0&lt;&#x2F;version&gt; &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;!-- JAXB needs javax.activation module (jdk9) --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;javax.activation&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;javax.activation-api&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.2.0&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure><p>ÊàêÂäüÂêØÂä®</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Êâæ‰∏çÂà∞‚ÄôxmlModelPlugin‚Äô&quot;&gt;&lt;a href=&quot;#Êâæ‰∏çÂà∞‚ÄôxmlModelPlugin‚Äô&quot; class=&quot;headerlink&quot; title=&quot;Êâæ‰∏çÂà∞‚ÄôxmlModelPlugin‚Äô&quot;&gt;&lt;/a&gt;Êâæ‰∏çÂà∞‚ÄôxmlModelPlugin‚Äô&lt;/h1&gt;&lt;p&gt;05
      
    
    </summary>
    
    
      <category term="Debug" scheme="http://yoursite.com/categories/Debug/"/>
    
    
  </entry>
  
  <entry>
    <title>‰∫îÊúàÊØèÊó•‰∏ÄÈ¢òÊâìÂç°ÂÆåÂ∑•Á∫™Âøµ</title>
    <link href="http://yoursite.com/2020/05/31/memo/"/>
    <id>http://yoursite.com/2020/05/31/memo/</id>
    <published>2020-05-31T02:18:19.000Z</published>
    <updated>2020-05-31T02:19:39.988Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/2020/screencapture2020-05-31 AM10.18.55.jpg" width=300><p>Â±ÖÁÑ∂Âá∫ÂæΩÁ´†‰∫ÜÔºåÂ§™Êà≥Êàë‰∫Ü</p><img src="/images/2020/screencapture2020-05-31 AM10.19.04.jpg" width=300>]]></content>
    
    <summary type="html">
    
      
      
        &lt;img src=&quot;/images/2020/screencapture2020-05-31 AM10.18.55.jpg&quot; width=300&gt;

&lt;p&gt;Â±ÖÁÑ∂Âá∫ÂæΩÁ´†‰∫ÜÔºåÂ§™Êà≥Êàë‰∫Ü&lt;/p&gt;
&lt;img src=&quot;/images/2020/screencapture2020-05-31
      
    
    </summary>
    
    
      <category term="Memo" scheme="http://yoursite.com/categories/Memo/"/>
    
    
      <category term="algorithm" scheme="http://yoursite.com/tags/algorithm/"/>
    
  </entry>
  
  <entry>
    <title>Anki‰πüÂ§™‰ºòÁßÄ‰∫ÜÂêßÔºÅ</title>
    <link href="http://yoursite.com/2020/05/12/memo/"/>
    <id>http://yoursite.com/2020/05/12/memo/</id>
    <published>2020-05-12T15:31:31.000Z</published>
    <updated>2020-05-13T01:33:22.350Z</updated>
    
    <content type="html"><![CDATA[<p>‰ª•ÂâçÁúãÂâßÁöÑÊó∂ÂÄôÂñúÊ¨¢Êà™Â±èÔºåÊää‰∏çËÆ§ËØÜÁöÑËØçËÆ∞ÂΩï‰∏ãÊù•ÔºåÈõ∂Èõ∂Êï£Êï£Â±Ø‰∫ÜÂ•ΩÂ§öËØç</p><img src="/images/2020/screencapture2020-05-12 PM11.34.40.jpg"><p>‰ΩÜÊòØÂπ∂‰∏çÂ•ΩÂ§ç‰π†ÔºåËÉåÂçïËØçÁöÑÊó∂ÂÄôËøòÊòØ‰∏çËÆ§ËØÜ</p><p>ËÄåAnkiÔºÅÂä†‰∏äImage Occlusion EnhancedÊèí‰ª∂ÔºÅÂÆåÁæéËß£ÂÜ≥ÔºÅ</p><img src="/images/2020/screencapture2020-05-12 PM11.37.57.jpg"><p>Êãñ‰∏™Ê°ÜÈÅÆ‰ΩèÂçïËØçÂ∞±Â•Ω‰∫ÜÔºåÂÜçÂú®headerÈáåÈù¢Â°´‰∏äÂçïËØç</p><p>‰ª•ÂêéÁöÑÂ§ç‰π†ÂÆâÊéíÂ∞±‰∏çÁî®Ëá™Â∑±ÁÆ°‰∫Ü~</p><img src="/images/2020/screencapture2020-05-12 PM11.38.57.jpg"><p>‰∏Ä‰∏™ÈóÆÈ¢òÊòØheaderÈáåÂ°´ÁöÑÂçïËØç‰ºöÂú®Â§ç‰π†Êó∂ÊòæÁ§∫</p><p>‰ΩÜÊòØÔºÅ</p><p>ËøòËÉΩÁºñËæëÂç°ÁâáÊ®°ÊùøÊòØ‰ªÄ‰πàÁ•û‰ªôÂäüËÉΩÂïäÔºÅÊ≥®ÈáäÊéâheaderÂ∞±Ë°å‰∫ÜÂó∑~</p><img src="/images/2020/screencapture2020-05-12 PM11.41.31.jpg"><p>Â§™ÁæéÂ¶ô‰∫ÜÂø´‰πêÂæóÂéüÂú∞ËΩ¨Âúà~</p><p>‰ªø‰ΩõËÉΩÁúãËßÅÊó•ÂêéËπ≠Ëπ≠Â¢ûÈïøÁöÑËØçÊ±áÈáè</p><p>ÊàëÁà±Ankiüòçüòçüòç</p><hr><p>ÂèëÁé∞Áé∞Âú®ÁúüÁöÑÊòØÁî®‰∫ÜÂ•ΩÂ§öÊïàÁéáËΩØ‰ª∂ÔºåÁÆÄÁõ¥ÊòØÂº∫Ëø´ÁóáÔºå‰∏∫‰∫ÜÊâæ‰∏™Êª°ÊÑèÁöÑËÉΩ‰ªéÂÆâÂçìÂ∫îÁî®ÂïÜÂ∫óÂà∞App StoreÂà∞Google PlayÁøª‰∏™ÈÅçÔºåÂ∞§ÂÖ∂ÊòØËÉåÂçïËØçÂíå‰ªªÂä°ÁÆ°ÁêÜÔºåÊâáË¥ù‰∏çËÉåÁôæËØçÊñ©„ÄÅÊª¥Á≠îToDoÊ∞¥Êª¥‚Ä¶ÊúÄÂêéÂâ©‰∏ãÁöÑÈÉΩÊòØÁé∞Âú®ÊúÄÂñúÊ¨¢ÁöÑÔºå‰∏çÁü•ÈÅì‰ª•ÂêéËøòËÉΩ‰∏çËÉΩÂèëÁé∞Êõ¥Â•ΩÁöÑ~</p><ul><li>Êó•Á®ãÁÆ°ÁêÜÔºöAppleËá™Â∏¶ÁöÑÊó•ÂéÜüìÖ</li><li>‰ªªÂä°ÁÆ°ÁêÜÔºöTrello</li><li>ËÉåÂçïËØçÔºöÂ¢®Â¢®</li><li>ËÉåËØóÔºöÂπ¥ËΩÆÔºà‰º∞ËÆ°Ë¶ÅËΩ¨ÁßªÂà∞Anki‰∫ÜÂìàÂìàÔºâ</li><li>‰π†ÊÉØÊâìÂç°ÔºöDot HabitÔºàËøòÊ≤°Áî®Âà∞‰∏Ä‰∏™ÊúàÔºåÂæÖÂÆöÔºâ</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;‰ª•ÂâçÁúãÂâßÁöÑÊó∂ÂÄôÂñúÊ¨¢Êà™Â±èÔºåÊää‰∏çËÆ§ËØÜÁöÑËØçËÆ∞ÂΩï‰∏ãÊù•ÔºåÈõ∂Èõ∂Êï£Êï£Â±Ø‰∫ÜÂ•ΩÂ§öËØç&lt;/p&gt;
&lt;img src=&quot;/images/2020/screencapture2020-05-12 PM11.34.40.jpg&quot;&gt;

&lt;p&gt;‰ΩÜÊòØÂπ∂‰∏çÂ•ΩÂ§ç‰π†ÔºåËÉåÂçïËØçÁöÑÊó∂ÂÄôËøòÊòØ‰∏çËÆ§ËØÜ&lt;/p&gt;
&lt;p&gt;ËÄåAnki
      
    
    </summary>
    
    
      <category term="Memo" scheme="http://yoursite.com/categories/Memo/"/>
    
    
  </entry>
  
  <entry>
    <title>pyenvÈÖçÁΩÆ‰∏çÁîüÊïà</title>
    <link href="http://yoursite.com/2020/05/07/debug/"/>
    <id>http://yoursite.com/2020/05/07/debug/</id>
    <published>2020-05-07T05:41:47.000Z</published>
    <updated>2020-05-07T05:52:45.586Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ÈóÆÈ¢òÊèèËø∞"><a href="#ÈóÆÈ¢òÊèèËø∞" class="headerlink" title="ÈóÆÈ¢òÊèèËø∞"></a>ÈóÆÈ¢òÊèèËø∞</h1><p>‰ª•ÂâçË£ÖËøápyenvÔºåÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®</p><p>‰ªäÂ§©Áî®ÁöÑÊó∂ÂÄôÂèëÁé∞ÈÖçÁΩÆÁöÑÁâàÊú¨Ê≤°ÊúâÁîüÊïà</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">coconutnut@Ss-MacBook-Pro ~ % pyenv versions</span><br><span class="line">* system (set by &#x2F;Users&#x2F;coconutnut&#x2F;.pyenv&#x2F;version)</span><br><span class="line">  3.7.4</span><br><span class="line">coconutnut@Ss-MacBook-Pro ~ % pyenv global 3.7.4</span><br><span class="line">coconutnut@Ss-MacBook-Pro ~ % python -V</span><br><span class="line">Python 2.7.17</span><br></pre></td></tr></table></figure><h1 id="Ëß£ÂÜ≥"><a href="#Ëß£ÂÜ≥" class="headerlink" title="Ëß£ÂÜ≥"></a>Ëß£ÂÜ≥</h1><blockquote><p><a href="https://blog.csdn.net/vencent7/article/details/76849849" target="_blank" rel="noopener">https://blog.csdn.net/vencent7/article/details/76849849</a></p></blockquote><p>‰πüËÆ∏ÊòØ‰ª•ÂâçË£ÖJupiterÊàñËÄÖÁî®TensorflowÁöÑÊó∂ÂÄôÊääÁéØÂ¢ÉÊêûÂùè‰∫ÜÔºü</p><p>ËØïËØïÊääpyenvÁöÑÈÖçÁΩÆÊîæÂú®.bash_profileÁöÑÊúÄÂêé</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># pyenv</span><br><span class="line">export PYENV_ROOT&#x3D;&quot;$HOME&#x2F;.pyenv&quot;</span><br><span class="line">export PATH&#x3D;&quot;$PYENV_ROOT&#x2F;bin:$PATH&quot;</span><br><span class="line">eval &quot;$(pyenv init -)&quot;</span><br><span class="line"># eval &quot;$(pyenv virtualenv-init -)&quot;</span><br></pre></td></tr></table></figure><p>ÂÜçËØïËØï</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">coconutnut@Ss-MacBook-Pro ~ % source ~&#x2F;.bash_profile</span><br><span class="line">coconutnut@Ss-MacBook-Pro ~ % python -V            </span><br><span class="line">Python 3.7.4</span><br></pre></td></tr></table></figure><p>ÊàêÂäü</p><p>PSÔºö</p><p>ÂÆâË£ÖpyenvÁöÑÊïôÁ®ãÊúâÁöÑÊîπ.bash_profileÊúâÁöÑÊîπ.bashrc</p><blockquote><p><a href="https://www.bbsmax.com/A/lk5aj7Eld1/" target="_blank" rel="noopener">https://www.bbsmax.com/A/lk5aj7Eld1/</a></p><p>Âú®ÂÆâË£ÖÊàêÂäü‰πãÂêéÈúÄË¶ÅÂú®<code>.bashrc</code>ÊàñËÄÖ<code>.bash_profile</code>‰∏≠Ê∑ªÂä†‰∏âË°åÊù•ÂºÄÂêØËá™Âä®Ë°•ÂÖ®</p></blockquote><p>Â∫îËØ•ÈÉΩÊòØÂèØ‰ª•ÁöÑ</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ÈóÆÈ¢òÊèèËø∞&quot;&gt;&lt;a href=&quot;#ÈóÆÈ¢òÊèèËø∞&quot; class=&quot;headerlink&quot; title=&quot;ÈóÆÈ¢òÊèèËø∞&quot;&gt;&lt;/a&gt;ÈóÆÈ¢òÊèèËø∞&lt;/h1&gt;&lt;p&gt;‰ª•ÂâçË£ÖËøápyenvÔºåÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®&lt;/p&gt;
&lt;p&gt;‰ªäÂ§©Áî®ÁöÑÊó∂ÂÄôÂèëÁé∞ÈÖçÁΩÆÁöÑÁâàÊú¨Ê≤°ÊúâÁîüÊïà&lt;/p&gt;
&lt;figure class=&quot;h
      
    
    </summary>
    
    
      <category term="Debug" scheme="http://yoursite.com/categories/Debug/"/>
    
    
  </entry>
  
  <entry>
    <title>ËÆ∞ÂΩïÊúçÂä°Âô®ÈÉ®ÁΩ≤</title>
    <link href="http://yoursite.com/2020/05/07/memo-server/"/>
    <id>http://yoursite.com/2020/05/07/memo-server/</id>
    <published>2020-05-07T03:23:24.000Z</published>
    <updated>2020-05-07T04:22:31.493Z</updated>
    
    <content type="html"><![CDATA[<p>‰ª•ÂâçÁöÑÊúçÂä°Âô®ËøáÊúü‰∫ÜÔºåÈáçÊñ∞‰π∞‰∫ÜÈÉ®ÁΩ≤ÔºåÂ∏åÊúõËøôÊ¨°Â∞ëË∏©ÁÇπÂùë</p><p>ÊúçÂä°Âô®ÁéØÂ¢ÉÔºöUbuntu 16.04 64‰Ωç</p><h1 id="ÊúçÂä°Âô®ÈÖçÁΩÆ"><a href="#ÊúçÂä°Âô®ÈÖçÁΩÆ" class="headerlink" title="ÊúçÂä°Âô®ÈÖçÁΩÆ"></a>ÊúçÂä°Âô®ÈÖçÁΩÆ</h1><ol><li><p>ÈáçÁΩÆÂØÜÁ†Å&amp;ÈáçÂêØÂÆû‰æã</p></li><li><p>Ê∑ªÂä†ÂÆâÂÖ®ÁªÑËßÑÂàô</p><blockquote><p><a href="https://help.aliyun.com/document_detail/151694.html?spm=a2c4g.11186623.6.582.56d15bbbDfXG8X" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/151694.html?spm=a2c4g.11186623.6.582.56d15bbbDfXG8X</a></p></blockquote><p>È°∫‰æøÊää8000~9000ÈÉΩÂºÄ‰∫Ü</p></li></ol><h1 id="ÁªàÁ´ØËÆøÈóÆ"><a href="#ÁªàÁ´ØËÆøÈóÆ" class="headerlink" title="ÁªàÁ´ØËÆøÈóÆ"></a>ÁªàÁ´ØËÆøÈóÆ</h1><ol><li><p>sshËøûÊé•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@&lt;ÂÆû‰æãÂÖ¨ÁΩëIPÂú∞ÂùÄ&gt;</span><br></pre></td></tr></table></figure><p>‚úåÔ∏è</p></li></ol><h1 id="ÂÆâË£ÖjdkÂíåTomcat"><a href="#ÂÆâË£ÖjdkÂíåTomcat" class="headerlink" title="ÂÆâË£ÖjdkÂíåTomcat"></a>ÂÆâË£ÖjdkÂíåTomcat</h1><ol><li><p>‰∏ãËΩΩjdk-14.0.1_linux-x64_bin.tar.gzÂíåapache-tomcat-9.0.34.tar.gz</p><blockquote><p><a href="https://www.oracle.com/java/technologies/javase-jdk14-downloads.html" target="_blank" rel="noopener">https://www.oracle.com/java/technologies/javase-jdk14-downloads.html</a></p><p><a href="https://tomcat.apache.org/download-90.cgi" target="_blank" rel="noopener">https://tomcat.apache.org/download-90.cgi</a></p></blockquote><p>Ôºà‰πãÂâçË£ÖÁöÑÊòØjdk12Ôºå‰∏çÁü•ÈÅìËøôÊ†∑‰ºö‰∏ç‰ºöÊúâÊØõÁóÖÔºâ</p></li><li><p>FileZillaËøûÊé•ÊúçÂä°Âô®Ôºå‰∏äÈù¢‰∏§‰∏™ÂåÖ‰º†Âà∞rootÊñá‰ª∂Â§π‰∏ã</p></li><li><p>ÂõûÂà∞ÁªàÁ´ØÔºåÊñ∞Âª∫javaeeÊñá‰ª∂Â§πÔºåËß£Âéã</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">~# ls</span><br><span class="line">apache-tomcat-9.0.34.tar.gz jdk-14.0.1_linux-x64_bin.tar.gz</span><br><span class="line">~# mkdir javaee</span><br><span class="line">~# tar zxvf jdk-14.0.1_linux-x64_bin.tar.gz -C javaee</span><br></pre></td></tr></table></figure></li><li><p>ÈÖçÁΩÆjavaÁéØÂ¢ÉÂèòÈáè</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~# vim &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure><p>ÊúÄÂêéÂä†‰∏ä</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># set java environment</span><br><span class="line">export JAVA_HOME&#x3D;&#x2F;root&#x2F;javaee&#x2F;jdk-14.0.1</span><br><span class="line">export PATH&#x3D;$JAVA_HOME&#x2F;bin:$PATH</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">~# source &#x2F;etc&#x2F;profile</span><br><span class="line">~# java -version</span><br><span class="line">java version &quot;14.0.1&quot; 2020-04-14</span><br><span class="line">Java(TM) SE Runtime Environment (build 14.0.1+7)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)</span><br></pre></td></tr></table></figure><p>‚úåÔ∏è</p></li><li><p>ÂÆâË£Ötomcat</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~# tar zxvf apache-tomcat-9.0.34.tar.gz -C javaee</span><br></pre></td></tr></table></figure><p>ÈÖçÁΩÆcatalina.sh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~&#x2F;javaee&#x2F;apache-tomcat-9.0.34&#x2F;bin# vim &#x2F;catalina.sh</span><br></pre></td></tr></table></figure><p>Âä†‰∏ÄÂè•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME&#x3D;&#x2F;root&#x2F;javaee&#x2F;jdk-14.0.1</span><br></pre></td></tr></table></figure><p>ÊµãËØï</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">~&#x2F;javaee&#x2F;apache-tomcat-9.0.34&#x2F;bin# .&#x2F;startup.sh </span><br><span class="line">Using CATALINA_BASE:   &#x2F;root&#x2F;javaee&#x2F;apache-tomcat-9.0.34</span><br><span class="line">Using CATALINA_HOME:   &#x2F;root&#x2F;javaee&#x2F;apache-tomcat-9.0.34</span><br><span class="line">Using CATALINA_TMPDIR: &#x2F;root&#x2F;javaee&#x2F;apache-tomcat-9.0.34&#x2F;temp</span><br><span class="line">Using JRE_HOME:        &#x2F;root&#x2F;javaee&#x2F;jdk-14.0.1</span><br><span class="line">Using CLASSPATH:       &#x2F;root&#x2F;javaee&#x2F;apache-tomcat-9.0.34&#x2F;bin&#x2F;bootstrap.jar:&#x2F;root&#x2F;javaee&#x2F;apache-tomcat-9.0.34&#x2F;bin&#x2F;tomcat-juli.jar</span><br><span class="line">Tomcat started.</span><br></pre></td></tr></table></figure><img src="/images/2020/screencapture2020-05-07 PM12.21.05.jpg"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">~&#x2F;javaee&#x2F;apache-tomcat-9.0.34&#x2F;bin# .&#x2F;shutdown.sh </span><br><span class="line">Using CATALINA_BASE:   &#x2F;root&#x2F;javaee&#x2F;apache-tomcat-9.0.34</span><br><span class="line">Using CATALINA_HOME:   &#x2F;root&#x2F;javaee&#x2F;apache-tomcat-9.0.34</span><br><span class="line">Using CATALINA_TMPDIR: &#x2F;root&#x2F;javaee&#x2F;apache-tomcat-9.0.34&#x2F;temp</span><br><span class="line">Using JRE_HOME:        &#x2F;root&#x2F;javaee&#x2F;jdk-14.0.1</span><br><span class="line">Using CLASSPATH:       &#x2F;root&#x2F;javaee&#x2F;apache-tomcat-9.0.34&#x2F;bin&#x2F;bootstrap.jar:&#x2F;root&#x2F;javaee&#x2F;apache-tomcat-9.0.34&#x2F;bin&#x2F;tomcat-juli.jar</span><br><span class="line">NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens&#x3D;java.base&#x2F;java.lang&#x3D;ALL-UNNAMED --add-opens&#x3D;java.base&#x2F;java.io&#x3D;ALL-UNNAMED --add-opens&#x3D;java.rmi&#x2F;sun.rmi.transport&#x3D;ALL-UNNAMED</span><br></pre></td></tr></table></figure><p>‚úåÔ∏è</p></li></ol><hr><p>ÂÆåÂ∑•ÔºÅ</p><p>‰∏ÄÈÅçËøáÂ§™Âø´‰πê‰∫Ü</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;‰ª•ÂâçÁöÑÊúçÂä°Âô®ËøáÊúü‰∫ÜÔºåÈáçÊñ∞‰π∞‰∫ÜÈÉ®ÁΩ≤ÔºåÂ∏åÊúõËøôÊ¨°Â∞ëË∏©ÁÇπÂùë&lt;/p&gt;
&lt;p&gt;ÊúçÂä°Âô®ÁéØÂ¢ÉÔºöUbuntu 16.04 64‰Ωç&lt;/p&gt;
&lt;h1 id=&quot;ÊúçÂä°Âô®ÈÖçÁΩÆ&quot;&gt;&lt;a href=&quot;#ÊúçÂä°Âô®ÈÖçÁΩÆ&quot; class=&quot;headerlink&quot; title=&quot;ÊúçÂä°Âô®ÈÖçÁΩÆ&quot;&gt;&lt;/a&gt;ÊúçÂä°Âô®ÈÖçÁΩÆ&lt;/h
      
    
    </summary>
    
    
      <category term="Memo" scheme="http://yoursite.com/categories/Memo/"/>
    
    
  </entry>
  
  <entry>
    <title>Android 10 Èó™ÈÄÄÈóÆÈ¢ò</title>
    <link href="http://yoursite.com/2020/05/04/debug/"/>
    <id>http://yoursite.com/2020/05/04/debug/</id>
    <published>2020-05-04T13:12:29.000Z</published>
    <updated>2020-05-07T05:47:12.397Z</updated>
    
    <content type="html"><![CDATA[<p>ÔºàÊú™Ëß£ÂÜ≥Ôºâ</p><h1 id="bugÊèèËø∞"><a href="#bugÊèèËø∞" class="headerlink" title="bugÊèèËø∞"></a>bugÊèèËø∞</h1><p>ÊâìÂºÄÂ∑•Á®ãÂèØ‰ª•ÂÆâË£ÖÔºå‰ΩÜÊòØÈó™ÈÄÄ</p><p>Build‰∏≠Êä•Èîô</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ê≥®: Êüê‰∫õËæìÂÖ•Êñá‰ª∂‰ΩøÁî®ÊàñË¶ÜÁõñ‰∫ÜÂ∑≤ËøáÊó∂ÁöÑ API„ÄÇ</span><br><span class="line">Ê≥®: ÊúâÂÖ≥ËØ¶ÁªÜ‰ø°ÊÅØ, ËØ∑‰ΩøÁî® -Xlint:deprecation ÈáçÊñ∞ÁºñËØë„ÄÇ</span><br></pre></td></tr></table></figure><h1 id="Â∞ùËØïËß£ÂÜ≥"><a href="#Â∞ùËØïËß£ÂÜ≥" class="headerlink" title="Â∞ùËØïËß£ÂÜ≥"></a>Â∞ùËØïËß£ÂÜ≥</h1><h2 id="Â∞ùËØï1"><a href="#Â∞ùËØï1" class="headerlink" title="Â∞ùËØï1"></a>Â∞ùËØï1</h2><blockquote><p><a href="https://blog.csdn.net/caidi1988314/article/details/52460922?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3" target="_blank" rel="noopener">https://blog.csdn.net/caidi1988314/article/details/52460922?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3</a></p></blockquote><p>build.gradle android {}ÈáåÂä†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">  gradle.projectsEvaluated &#123;</span><br><span class="line">    tasks.withType(JavaCompile) &#123;</span><br><span class="line">    options.compilerArgs &lt;&lt; &quot;-Xlint:unchecked&quot; &lt;&lt; &quot;-Xlint:deprecation&quot;                       &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> Âá∫Áé∞</p><img src="/images/2020/screencapture2020-05-04 PM9.09.01.jpg"><p>Âú®Êä•ÈîôÁöÑÂáΩÊï∞‰∏äÂä†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@SuppressWarnings(&quot;deprecation&quot;)</span><br></pre></td></tr></table></figure><p>BuildÊàêÂäüÔºå‰ΩÜËøòÊòØÈó™ÈÄÄ</p><h2 id="Â∞ùËØï2"><a href="#Â∞ùËØï2" class="headerlink" title="Â∞ùËØï2"></a>Â∞ùËØï2</h2><p>ÁúãÂà∞activity_main.xmlÈáåÊúâ</p><img src="/images/2020/screencapture2020-05-04 PM9.28.55.jpg"><p>ÊåâÊèêÁ§∫‰øÆÊîπ</p><p>ËøòÊòØÈó™ÈÄÄ</p><blockquote><p><a href="https://blog.csdn.net/yogima/article/details/89416885?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1" target="_blank" rel="noopener">https://blog.csdn.net/yogima/article/details/89416885?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1</a></p></blockquote><p>ÊääMainActivityÊâÄÊúâÂáΩÊï∞ÈÉΩÊ≥®ÈáäÊéâÔºåÂèØ‰ª•ÊâìÂºÄ</p><p>‰∏ÄÁÇπ‰∏ÄÁÇπÊîæÂºÄ</p><p>ÂèëÁé∞ÈóÆÈ¢òÂú®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">File path = <span class="keyword">new</span> File(dir);</span><br><span class="line">String[] list = path.list();</span><br><span class="line">len = list.length;</span><br><span class="line"><span class="keyword">if</span> (len == <span class="number">0</span>) &#123; <span class="keyword">return</span> <span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure><p>listÁ©∫ÁöÑÊó∂ÂÄôÔºålist.length‰ºöÂºÇÂ∏∏</p><p>Âä†‰∫Ü‰∏™‰∏∫Á©∫ËøîÂõû0</p><p>‰ΩÜÊòØËøô‰∏™ÂºÇÂ∏∏ÊÄé‰πà‰∏çÊèêÁ§∫Âë¢ÔºüÔºüÔºü</p><p>ËøôÈáå‰ºö‰∏∫Á©∫Â∫îËØ•ËØªÊñá‰ª∂ÊùÉÈôêÊ≤°ÊúâËé∑ÂèñÂà∞</p><h2 id="Â∞ùËØï3"><a href="#Â∞ùËØï3" class="headerlink" title="Â∞ùËØï3"></a>Â∞ùËØï3</h2><p>ÂÉè‰∏äÊ¨°ÈÇ£Ê†∑Âä†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:requestLegacyExternalStorage&#x3D;&quot;true&quot;</span><br></pre></td></tr></table></figure><p>Êä•Èîô</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AAPT: error: attribute android:requestLegacyExternalStorage not found.</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://blog.csdn.net/DeMonliuhui/article/details/99718553" target="_blank" rel="noopener">https://blog.csdn.net/DeMonliuhui/article/details/99718553</a></p></blockquote><p>Áé∞Âú®Ëøô‰∏™Â∑•Á®ãÁöÑÁâàÊú¨ÊòØ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">compileSdkVersion 28</span><br><span class="line">buildToolsVersion &#39;28.0.3&#39;</span><br><span class="line">defaultConfig &#123;</span><br><span class="line">  applicationId &quot;com.example.mydoppler&quot;</span><br><span class="line">  minSdkVersion 15</span><br><span class="line">  targetSdkVersion 28</span><br><span class="line">  versionCode 1</span><br><span class="line">  versionName &quot;1.0&quot;</span><br><span class="line">  testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÊîπÊàê</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">compileSdkVersion 29</span><br><span class="line">buildToolsVersion &quot;29.0.2&quot;</span><br><span class="line">defaultConfig &#123;</span><br><span class="line">  applicationId&quot;com.example.mydoppler&quot;</span><br><span class="line">  minSdkVersion 26</span><br><span class="line">  targetSdkVersion 29</span><br><span class="line">  versionCode 1</span><br><span class="line">  versionName &quot;1.0&quot;</span><br><span class="line">  testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>requestLegacyExternalStorageÂ±ûÊÄßÂèØ‰ª•Âä†‰∫Ü</p><p>ËæìÂá∫ÈÇ£‰∏™Ëé∑ÂèñÁöÑÊñá‰ª∂Ë∑ØÂæÑÔºåËøòÊòØnull</p><h2 id="Â∞ùËØï4"><a href="#Â∞ùËØï4" class="headerlink" title="Â∞ùËØï4"></a>Â∞ùËØï4</h2><p>Âú®RunÈáåÈù¢ÂèàÂèëÁé∞‰∏ÄÂè•Á∫¢ÁöÑ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E&#x2F;libc: Access denied finding property &quot;ro.vendor.df.effect.conflict&quot;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ÔºàÊú™Ëß£ÂÜ≥Ôºâ&lt;/p&gt;
&lt;h1 id=&quot;bugÊèèËø∞&quot;&gt;&lt;a href=&quot;#bugÊèèËø∞&quot; class=&quot;headerlink&quot; title=&quot;bugÊèèËø∞&quot;&gt;&lt;/a&gt;bugÊèèËø∞&lt;/h1&gt;&lt;p&gt;ÊâìÂºÄÂ∑•Á®ãÂèØ‰ª•ÂÆâË£ÖÔºå‰ΩÜÊòØÈó™ÈÄÄ&lt;/p&gt;
&lt;p&gt;Build‰∏≠Êä•Èîô&lt;/p&gt;
&lt;figure cla
      
    
    </summary>
    
    
      <category term="Debug" scheme="http://yoursite.com/categories/Debug/"/>
    
    
  </entry>
  
  <entry>
    <title>ËØª‰π¶Á¨îËÆ∞ Ê∑±Â∫¶Â∑•‰Ωú</title>
    <link href="http://yoursite.com/2020/05/02/deepwork/"/>
    <id>http://yoursite.com/2020/05/02/deepwork/</id>
    <published>2020-05-02T06:43:28.000Z</published>
    <updated>2020-06-24T04:05:26.248Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>„ÄäÊ∑±Â∫¶Â∑•‰Ωú„Äã [Áæé] Âç°Â∞î¬∑Á∫ΩÊ≥¢Áâπ</p></blockquote><img src="/images/2020/deepwork.png">]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;„ÄäÊ∑±Â∫¶Â∑•‰Ωú„Äã [Áæé] Âç°Â∞î¬∑Á∫ΩÊ≥¢Áâπ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/images/2020/deepwork.png&quot;&gt;
      
    
    </summary>
    
    
      <category term="Memo" scheme="http://yoursite.com/categories/Memo/"/>
    
    
      <category term="mindmap" scheme="http://yoursite.com/tags/mindmap/"/>
    
  </entry>
  
  <entry>
    <title>gitÁ¨îËÆ∞</title>
    <link href="http://yoursite.com/2020/05/02/note-git/"/>
    <id>http://yoursite.com/2020/05/02/note-git/</id>
    <published>2020-05-02T05:55:24.000Z</published>
    <updated>2020-05-02T05:57:10.154Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/pcottle/learnGitBranching" target="_blank" rel="noopener">https://github.com/pcottle/learnGitBranching</a></p></blockquote><img src="/images/2020/git.png">]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/pcottle/learnGitBranching&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/pcottle/learnGitBra
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="tool" scheme="http://yoursite.com/tags/tool/"/>
    
      <category term="mindmap" scheme="http://yoursite.com/tags/mindmap/"/>
    
  </entry>
  
  <entry>
    <title>ÂõõÊúàÊØèÊó•‰∏ÄÈ¢òÊâìÂç°ÂÆåÂ∑•Á∫™Âøµ</title>
    <link href="http://yoursite.com/2020/04/30/memo/"/>
    <id>http://yoursite.com/2020/04/30/memo/</id>
    <published>2020-04-30T08:02:52.000Z</published>
    <updated>2020-04-30T08:06:18.121Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/2020/screencapture2020-04-30 PM4.03.43.jpg" width=300><p>‰∏âÊúàÂ∑Æ‰∏ÄÁÇπÁÇπÔºåÂõõÊúàÊàêÂäüÂíØ~</p><img src="/images/2020/screencapture2020-04-30 PM4.04.55.jpg" width=300>]]></content>
    
    <summary type="html">
    
      
      
        &lt;img src=&quot;/images/2020/screencapture2020-04-30 PM4.03.43.jpg&quot; width=300&gt;

&lt;p&gt;‰∏âÊúàÂ∑Æ‰∏ÄÁÇπÁÇπÔºåÂõõÊúàÊàêÂäüÂíØ~&lt;/p&gt;
&lt;img src=&quot;/images/2020/screencapture2020-04-3
      
    
    </summary>
    
    
      <category term="Memo" scheme="http://yoursite.com/categories/Memo/"/>
    
    
      <category term="algorithm" scheme="http://yoursite.com/tags/algorithm/"/>
    
  </entry>
  
  <entry>
    <title>SpringCloudÁ¨îËÆ∞07 ÊÄªÁªì</title>
    <link href="http://yoursite.com/2020/04/25/note-springcloud-07/"/>
    <id>http://yoursite.com/2020/04/25/note-springcloud-07/</id>
    <published>2020-04-25T13:58:29.000Z</published>
    <updated>2020-05-14T14:04:11.951Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/2020/SpringCloud.png">]]></content>
    
    <summary type="html">
    
      
      
        &lt;img src=&quot;/images/2020/SpringCloud.png&quot;&gt;


      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="mindmap" scheme="http://yoursite.com/tags/mindmap/"/>
    
      <category term="springcloud" scheme="http://yoursite.com/tags/springcloud/"/>
    
  </entry>
  
  <entry>
    <title>SpringCloudÁ¨îËÆ∞06 GatewayÊúçÂä°ÁΩëÂÖ≥</title>
    <link href="http://yoursite.com/2020/04/25/note-springcloud-06/"/>
    <id>http://yoursite.com/2020/04/25/note-springcloud-06/</id>
    <published>2020-04-25T01:42:08.000Z</published>
    <updated>2020-05-14T13:59:14.197Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://blog.csdn.net/ThinkWon/article/details/103757927" target="_blank" rel="noopener">https://blog.csdn.net/ThinkWon/article/details/103757927</a></p></blockquote><p>GatewayÊòØÂú®SpringÁîüÊÄÅÁ≥ªÁªü‰πã‰∏äÊûÑÂª∫ÁöÑAPIÁΩëÂÖ≥ÊúçÂä°ÔºåÊó®Âú®Êèê‰æõ‰∏ÄÁßçÁÆÄÂçïËÄåÊúâÊïàÁöÑÊñπÂºèÊù•ÂØπAPIËøõË°åË∑ØÁî±Ôºå‰ª•ÂèäÊèê‰æõ‰∏Ä‰∫õÂº∫Â§ßÁöÑËøáÊª§Âô®ÂäüËÉΩÔºå ‰æãÂ¶ÇÔºöÁÜîÊñ≠„ÄÅÈôêÊµÅ„ÄÅÈáçËØïÁ≠â</p><p>ÈõÜÊàêHystrixÁöÑÊñ≠Ë∑ØÂô®ÂäüËÉΩÂíåSpring CloudÊúçÂä°ÂèëÁé∞ÂäüËÉΩ</p><h1 id="ÂàõÂª∫api-gatewayÊ®°Âùó"><a href="#ÂàõÂª∫api-gatewayÊ®°Âùó" class="headerlink" title="ÂàõÂª∫api-gatewayÊ®°Âùó"></a>ÂàõÂª∫api-gatewayÊ®°Âùó</h1><h2 id="Ê∑ªÂä†‰æùËµñ"><a href="#Ê∑ªÂä†‰æùËµñ" class="headerlink" title="Ê∑ªÂä†‰æùËµñ"></a>Ê∑ªÂä†‰æùËµñ</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-gateway<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>‰∏çÈúÄË¶ÅÊ≥®ÂÜåÔºü</p><h2 id="ÈÖçÁΩÆ"><a href="#ÈÖçÁΩÆ" class="headerlink" title="ÈÖçÁΩÆ"></a>ÈÖçÁΩÆ</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9201</span></span><br><span class="line"></span><br><span class="line"><span class="attr">service-url:</span></span><br><span class="line">  <span class="attr">user-service:</span> <span class="string">http://localhost:8201</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">gateway:</span></span><br><span class="line">      <span class="attr">routes:</span></span><br><span class="line">          <span class="comment"># Ë∑ØÁî±ÁöÑID</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">id:</span> <span class="string">path_route</span></span><br><span class="line">          <span class="comment"># ÂåπÈÖçÂêéË∑ØÁî±Âú∞ÂùÄ</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">$&#123;service-url.user-service&#125;/user/&#123;id&#125;</span></span><br><span class="line">          <span class="attr">predicates:</span></span><br><span class="line">              <span class="comment"># Êñ≠Ë®ÄÔºåË∑ØÂæÑÁõ∏ÂåπÈÖçÁöÑËøõË°åË∑ØÁî±</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Path=/user/&#123;id&#125;</span></span><br></pre></td></tr></table></figure><p>ÂêØÂä®consul-server„ÄÅuser-serviceÂíåapi-gateway</p><p>ÊµãËØï <a href="http://localhost:9201/user/1" target="_blank" rel="noopener">http://localhost:9201/user/1</a></p><img src="/images/2020/screencapture2020-04-25 AM9.58.55.jpg"><h1 id="Route-Predicate-ÁöÑ‰ΩøÁî®"><a href="#Route-Predicate-ÁöÑ‰ΩøÁî®" class="headerlink" title="Route Predicate ÁöÑ‰ΩøÁî®"></a>Route Predicate ÁöÑ‰ΩøÁî®</h1><ul><li><p>After Route Predicate : Âú®ÊåáÂÆöÊó∂Èó¥‰πãÂêéÁöÑËØ∑Ê±Ç‰ºöÂåπÈÖçËØ•Ë∑ØÁî±</p></li><li><p>Before Route Predicate : Âú®ÊåáÂÆöÊó∂Èó¥‰πãÂâçÁöÑËØ∑Ê±Ç‰ºöÂåπÈÖçËØ•Ë∑ØÁî±</p></li><li><p>Between Route Predicate : Âú®ÊåáÂÆöÊó∂Èó¥Âå∫Èó¥ÂÜÖÁöÑËØ∑Ê±Ç‰ºöÂåπÈÖçËØ•Ë∑ØÁî±</p></li><li><p>Cookie Route Predicate : Â∏¶ÊúâÊåáÂÆöCookieÁöÑËØ∑Ê±Ç‰ºöÂåπÈÖçËØ•Ë∑ØÁî±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username&#x3D;jourwon</span><br></pre></td></tr></table></figure></li><li><p>Header Route Predicate : Â∏¶ÊúâÊåáÂÆöËØ∑Ê±ÇÂ§¥ÁöÑËØ∑Ê±Ç‰ºöÂåπÈÖçËØ•Ë∑ØÁî±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Request-Id:123</span><br></pre></td></tr></table></figure></li><li><p>Host Route Predicate : Â∏¶ÊúâÊåáÂÆöHostÁöÑËØ∑Ê±Ç‰ºöÂåπÈÖçËØ•Ë∑ØÁî±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Host:www.jourwon.com</span><br></pre></td></tr></table></figure></li><li><p>Method Route Predicate : ÂèëÈÄÅÊåáÂÆöÊñπÊ≥ïÁöÑËØ∑Ê±Ç‰ºöÂåπÈÖçËØ•Ë∑ØÁî±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br></pre></td></tr></table></figure></li><li><p>Path Route Predicate : ÂèëÈÄÅÊåáÂÆöË∑ØÂæÑÁöÑËØ∑Ê±Ç‰ºöÂåπÈÖçËØ•Ë∑ØÁî±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;user&#x2F;1</span><br></pre></td></tr></table></figure></li><li><p>Query Route Predicate : Â∏¶ÊåáÂÆöÊü•ËØ¢ÂèÇÊï∞ÁöÑËØ∑Ê±ÇÂèØ‰ª•ÂåπÈÖçËØ•Ë∑ØÁî±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username&#x3D;jourwon</span><br></pre></td></tr></table></figure></li><li><p>RemoteAddr Route Predicate : ‰ªéÊåáÂÆöËøúÁ®ãÂú∞ÂùÄÂèëËµ∑ÁöÑËØ∑Ê±ÇÂèØ‰ª•ÂåπÈÖçËØ•Ë∑ØÁî±</p></li><li><p>Weight Route Predicate : ‰ΩøÁî®ÊùÉÈáçÊù•Ë∑ØÁî±Áõ∏Â∫îËØ∑Ê±Ç</p><p>Â¶Ç80%ÁöÑËØ∑Ê±ÇË∑ØÁî±Âà∞localhost:8201Ôºå20%Ë∑ØÁî±Âà∞localhost:8202</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">gateway:</span></span><br><span class="line">      <span class="attr">routes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">id:</span> <span class="string">weight_high</span></span><br><span class="line">        <span class="attr">uri:</span> <span class="string">http://localhost:8201</span></span><br><span class="line">        <span class="attr">predicates:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">Weight=group1,</span> <span class="number">8</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">id:</span> <span class="string">weight_low</span></span><br><span class="line">        <span class="attr">uri:</span> <span class="string">http://localhost:8202</span></span><br><span class="line">        <span class="attr">predicates:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">Weight=group1,</span> <span class="number">2</span></span><br></pre></td></tr></table></figure></li></ul><h1 id="Route-FilterÁöÑ‰ΩøÁî®"><a href="#Route-FilterÁöÑ‰ΩøÁî®" class="headerlink" title="Route FilterÁöÑ‰ΩøÁî®"></a>Route FilterÁöÑ‰ΩøÁî®</h1><p>ÂèØÁî®‰∫é‰øÆÊîπËøõÂÖ•ÁöÑHTTPËØ∑Ê±ÇÂíåËøîÂõûÁöÑHTTPÂìçÂ∫îÔºåÂè™ËÉΩÊåáÂÆöË∑ØÁî±ËøõË°å‰ΩøÁî®</p><ul><li>AddRequestParameter GatewayFilter : ÁªôËØ∑Ê±ÇÊ∑ªÂä†ÂèÇÊï∞ÁöÑËøáÊª§Âô®</li><li>StripPrefix GatewayFilter : ÂØπÊåáÂÆöÊï∞ÈáèÁöÑË∑ØÂæÑÂâçÁºÄËøõË°åÂéªÈô§ÁöÑËøáÊª§Âô®</li><li>PrefixPath GatewayFilter : ‰∏éStripPrefixËøáÊª§Âô®Áõ∏ÂèçÔºå‰ºöÂØπÂéüÊúâË∑ØÂæÑËøõË°åÂ¢ûÂä†Êìç‰ΩúÁöÑËøáÊª§Âô®</li><li>Retry GatewayFilter : ÂØπË∑ØÁî±ËØ∑Ê±ÇËøõË°åÈáçËØïÁöÑËøáÊª§Âô®ÔºåÊ†πÊçÆË∑ØÁî±ËØ∑Ê±ÇËøîÂõûÁöÑHTTPÁä∂ÊÄÅÁ†ÅÊù•Á°ÆÂÆöÊòØÂê¶ËøõË°åÈáçËØï</li></ul><h2 id="Hystrix-GatewayFilter"><a href="#Hystrix-GatewayFilter" class="headerlink" title="Hystrix GatewayFilter"></a>Hystrix GatewayFilter</h2><p>Â∞ÜÊñ≠Ë∑ØÂô®ÂäüËÉΩÊ∑ªÂä†Âà∞ÁΩëÂÖ≥Ë∑ØÁî±‰∏≠</p><p>ÈúÄÊ∑ªÂä†HystrixÁöÑÁõ∏ÂÖ≥‰æùËµñ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Ê∑ªÂä†Áõ∏ÂÖ≥ÊúçÂä°ÈôçÁ∫ßÁöÑÂ§ÑÁêÜÁ±ªFallbackController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FallbackController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/fallback"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">fallback</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; result = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        result.put(<span class="string">"data"</span>,<span class="keyword">null</span>);</span><br><span class="line">        result.put(<span class="string">"message"</span>,<span class="string">"Get request fallback!"</span>);</span><br><span class="line">        result.put(<span class="string">"code"</span>,<span class="number">500</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÈÖçÁΩÆÊúçÂä°ÈôçÁ∫ß</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">filters:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hystrix</span></span><br><span class="line">    <span class="attr">args:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">fallbackcmd</span></span><br><span class="line">      <span class="attr">fallback-uri:</span> <span class="string">forward:/fallback</span></span><br></pre></td></tr></table></figure><p>ÊµãËØïÔºàÂÖàÈáçÂêØapi-gatewayÔºâ</p><p>ÂÖ≥Èó≠user-serviceÔºåË∞ÉÁî®<a href="http://localhost:9201/user/1" target="_blank" rel="noopener">http://localhost:9201/user/1</a> </p><img src="/images/2020/screencapture2020-04-25 AM10.13.57.jpg"><p>ÂèëÁîü‰∫ÜÈôçÁ∫ß</p><h2 id="RequestRateLimiter-GatewayFilter"><a href="#RequestRateLimiter-GatewayFilter" class="headerlink" title="RequestRateLimiter GatewayFilter"></a>RequestRateLimiter GatewayFilter</h2><p>ÂèØ‰ª•Áî®‰∫éÈôêÊµÅ</p><p>Ê∑ªÂä†‰æùËµñ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis-reactive<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Ê∑ªÂä†ÈôêÊµÅÁ≠ñÁï•ÁöÑÈÖçÁΩÆÁ±ª</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisRateLimiterConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> KeyResolver <span class="title">userKeyResolver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Ê†πÊçÆËØ∑Ê±ÇÂèÇÊï∞‰∏≠ÁöÑusernameËøõË°åÈôêÊµÅ</span></span><br><span class="line">        <span class="keyword">return</span> exchange -&gt; Mono.just(exchange.getRequest().getQueryParams().getFirst(<span class="string">"username"</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> KeyResolver <span class="title">ipKeyResolver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Ê†πÊçÆËÆøÈóÆIPËøõË°åÈôêÊµÅ</span></span><br><span class="line">        <span class="keyword">return</span> exchange -&gt; Mono.just(exchange.getRequest().getRemoteAddress().getHostName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Ê∑ªÂä†RedisÂíåRequestRateLimiterÁöÑÈÖçÁΩÆ</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">RequestRateLimiter</span></span><br><span class="line">  <span class="attr">args:</span></span><br><span class="line">    <span class="comment"># ÊØèÁßíÂÖÅËÆ∏Â§ÑÁêÜÁöÑËØ∑Ê±ÇÊï∞Èáè</span></span><br><span class="line">    <span class="attr">redis-rate-limiter.replenishRate:</span> <span class="number">1</span></span><br><span class="line">    <span class="comment"># ÊØèÁßíÊúÄÂ§ßÂ§ÑÁêÜÁöÑËØ∑Ê±ÇÊï∞Èáè</span></span><br><span class="line">    <span class="attr">redis-rate-limiter.burstCapacity:</span> <span class="number">2</span></span><br><span class="line">    <span class="comment"># ÈôêÊµÅÁ≠ñÁï•ÔºåÂØπÂ∫îÁ≠ñÁï•ÁöÑBean</span></span><br><span class="line">    <span class="attr">key-resolver:</span> <span class="string">"#&#123;@ipKeyResolver&#125;"</span></span><br></pre></td></tr></table></figure><p>ÊµãËØï</p><p>ÂêØÂä®ÊúçÂä°ÔºåÂ§öÊ¨°ËØ∑Ê±Ç <a href="http://localhost:9201/user/1" target="_blank" rel="noopener">http://localhost:9201/user/1</a></p><img src="/images/2020/screencapture2020-04-25 AM10.35.06.jpg"><p>Êä•Èîô429</p><h2 id="DEBUGÔºöÂêØÂä®Â§±Ë¥•"><a href="#DEBUGÔºöÂêØÂä®Â§±Ë¥•" class="headerlink" title="DEBUGÔºöÂêØÂä®Â§±Ë¥•"></a>DEBUGÔºöÂêØÂä®Â§±Ë¥•</h2><p>Êä•Èîô</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">***************************</span><br><span class="line">APPLICATION FAILED TO START</span><br><span class="line">***************************</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line"></span><br><span class="line">Parameter 1 of method requestRateLimiterGatewayFilterFactory in org.springframework.cloud.gateway.config.GatewayAutoConfiguration required a single bean, but 2 were found:</span><br><span class="line">- userKeyResolver: defined by method &#39;userKeyResolver&#39; in class path resource [com&#x2F;coconutnut&#x2F;apigateway&#x2F;config&#x2F;RedisRateLimiterConfig.class]</span><br><span class="line">- ipKeyResolver: defined by method &#39;ipKeyResolver&#39; in class path resource [com&#x2F;coconutnut&#x2F;apigateway&#x2F;config&#x2F;RedisRateLimiterConfig.class]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Action:</span><br><span class="line"></span><br><span class="line">Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Process finished with exit code 1</span><br></pre></td></tr></table></figure><p>Ê†πÊçÆÊèêÁ§∫Âä†‰∏ä@PrimaryÔºåËß£ÂÜ≥</p><h2 id="DEBUGÔºöRedisËøûÊé•Â§±Ë¥•"><a href="#DEBUGÔºöRedisËøûÊé•Â§±Ë¥•" class="headerlink" title="DEBUGÔºöRedisËøûÊé•Â§±Ë¥•"></a>DEBUGÔºöRedisËøûÊé•Â§±Ë¥•</h2><p>ËÆøÈóÆ<a href="http://localhost:9201/user/1Êó∂Êï∞ÊçÆÊ≠£Â∏∏Ôºå‰ΩÜÊéßÂà∂Âè∞Êä•Èîô" target="_blank" rel="noopener">http://localhost:9201/user/1Êó∂Êï∞ÊçÆÊ≠£Â∏∏Ôºå‰ΩÜÊéßÂà∂Âè∞Êä•Èîô</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379</span><br><span class="line">at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1199) ~[spring-data-redis-2.2.3.RELEASE.jar:2.2.3.RELEASE]</span><br><span class="line">at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1178) ~[spring-data-redis-2.2.3.RELEASE.jar:2.2.3.RELEASE]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>‰∏ãËΩΩÂÆâË£Ö</p><blockquote><p><a href="http://www.redis.cn/download.html" target="_blank" rel="noopener">http://www.redis.cn/download.html</a></p></blockquote><p>ÂêØÂä®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-5.0.5 % src&#x2F;redis-server</span><br></pre></td></tr></table></figure><img src="/images/2020/screencapture2020-04-25 AM10.37.45.jpg"><p>Â•ΩÂèØÁà±üôÄ</p><h1 id="ÁªìÂêàÊ≥®ÂÜå‰∏≠ÂøÉ‰ΩøÁî®"><a href="#ÁªìÂêàÊ≥®ÂÜå‰∏≠ÂøÉ‰ΩøÁî®" class="headerlink" title="ÁªìÂêàÊ≥®ÂÜå‰∏≠ÂøÉ‰ΩøÁî®"></a>ÁªìÂêàÊ≥®ÂÜå‰∏≠ÂøÉ‰ΩøÁî®</h1><p>ÔºàÂºÉÔºâ</p><p>ÊïôÁ®ãÁªôÁöÑÊòØeurekaÔºåËøôÈáåÂ∞ùËØïÊîπÊàêconsul</p><p>Âä†‰æùËµñ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-consul-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ÊîπÈÖçÁΩÆ</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">application:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">api-gateway</span></span><br><span class="line">    <span class="attr">consul:</span></span><br><span class="line">      <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">8500</span></span><br><span class="line">      <span class="attr">discovery:</span></span><br><span class="line">        <span class="attr">service-name:</span> <span class="string">$&#123;spring.application.name&#125;</span></span><br><span class="line">    <span class="attr">gateway:</span></span><br><span class="line">      <span class="attr">discovery:</span></span><br><span class="line">        <span class="attr">locator:</span></span><br><span class="line">          <span class="comment">#ÂºÄÂêØ‰ªéÊ≥®ÂÜå‰∏≠ÂøÉÂä®ÊÄÅÂàõÂª∫Ë∑ØÁî±ÁöÑÂäüËÉΩ</span></span><br><span class="line">          <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">          <span class="comment">#‰ΩøÁî®Â∞èÂÜôÊúçÂä°ÂêçÔºåÈªòËÆ§ÊòØÂ§ßÂÜô</span></span><br><span class="line">          <span class="attr">lower-case-service-id:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="DEBUGÔºöÂêØÂä®Â§±Ë¥•-1"><a href="#DEBUGÔºöÂêØÂä®Â§±Ë¥•-1" class="headerlink" title="DEBUGÔºöÂêØÂä®Â§±Ë¥•"></a>DEBUGÔºöÂêØÂä®Â§±Ë¥•</h2><p>Êä•Èîô</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;webHandler&#39; defined in class path resource [org&#x2F;springframework&#x2F;boot&#x2F;autoconfigure&#x2F;web&#x2F;reactive&#x2F;WebFluxAutoConfiguration$EnableWebFluxConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;webEndpointReactiveHandlerMapping&#39; defined in class path resource [org&#x2F;springframework&#x2F;boot&#x2F;actuate&#x2F;autoconfigure&#x2F;endpoint&#x2F;web&#x2F;reactive&#x2F;WebFluxEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.reactive.WebFluxEndpointHandlerMapping]: Factory method &#39;webEndpointReactiveHandlerMapping&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.cloud.client.serviceregistry.ServiceRegistryAutoConfiguration$ServiceRegistryEndpointConfiguration&#39;: Unsatisfied dependency expressed through field &#39;registration&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;consulRegistration&#39; defined in class path resource [org&#x2F;springframework&#x2F;cloud&#x2F;consul&#x2F;serviceregistry&#x2F;ConsulAutoServiceRegistrationAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.consul.serviceregistry.ConsulAutoRegistration]: Factory method &#39;consulRegistration&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Consul service ids must not be empty, must start with a letter, end with a letter or digit, and have as interior characters only letters, digits, and hyphen: 9201</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]</span><br></pre></td></tr></table></figure><p>ÂèëÁé∞ÂêØÂä®Á±ªÂøòÂä†Ê≥®Èáä‰∫ÜÔºåÂä†‰∏äÂÖà</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br></pre></td></tr></table></figure><p>Áúã‰∏ã‰æùËµñÔºåÊ≤°ÊúâÂÜ≤Á™Å</p><img src="/images/2020/screencapture2020-04-25 AM10.49.46.jpg"><p>‰ΩÜÊòØÁ°ÆÂÆûÊòØÂä†‰∫ÜconsulÁöÑ‰æùËµñ‰πãÂêéÊâçÊä•ÈîôÁöÑ</p><p>ÂéªÊéâÂÆÉÁöÑ‰æùËµñÂ∞±ÂèØ‰ª•Ê≠£Â∏∏ÂêØÂä®</p><blockquote><p><a href="https://blog.csdn.net/jiazhiyuan0/article/details/84033595" target="_blank" rel="noopener">https://blog.csdn.net/jiazhiyuan0/article/details/84033595</a></p><p><a href="https://blog.csdn.net/maduo_duo/article/details/84866137" target="_blank" rel="noopener">https://blog.csdn.net/maduo_duo/article/details/84866137</a></p></blockquote><p>Á°ÆÂÆûÂèØËÉΩÊòØÊúâÂÜ≤Á™Å</p><p>Áé∞Âú®ÁöÑSpring BootÁâàÊú¨ÊòØ2.2.2.RELEASEÔºåSpring CloudÁâàÊú¨ÊòØ2.2.0.RELEASE</p><p><strong>Â∞ùËØï1</strong></p><p>ÊääSpring BootÈôçÂà∞2.2.0</p><p>Âπ∂‰∏çË°å</p><p><strong>Â∞ùËØï2</strong></p><blockquote><p><a href="https://github.com/spring-cloud/spring-cloud-gateway/issues/319" target="_blank" rel="noopener">https://github.com/spring-cloud/spring-cloud-gateway/issues/319</a></p><p>Finchley is not compatible with boot 2.1.0. Either downgrade to boot 2.0.6 or use Greenwich.M3</p></blockquote><p>ËøôÈáåÁî®ÁöÑÊòØHoxtonÁâàÊú¨</p><p>Êâæ‰∏ãÊñáÊ°£</p><blockquote><p><a href="https://spring.io/blog/2019/11/28/spring-cloud-hoxton-released" target="_blank" rel="noopener">https://spring.io/blog/2019/11/28/spring-cloud-hoxton-released</a></p></blockquote><p>ConsulÂíåGatewayÁöÑÁâàÊú¨‰πüÊòØ2.2.0.RELEASE</p><blockquote><p><a href="https://spring.io/projects/spring-cloud#overview" target="_blank" rel="noopener">https://spring.io/projects/spring-cloud#overview</a></p></blockquote><p>HoxtonÂØπÂ∫îÁöÑBoot VersionÊòØ2.2.x</p><p>Â∫îËØ•Ê≤°Èîô</p><p>Â•ΩÂá†‰∏™Âú∞ÊñπÁúãÂà∞ËØ¥ÊòØspring-boot-starter-webÁöÑÈóÆÈ¢ò</p><img src="/images/2020/screencapture2020-04-25 AM11.49.26.jpg"><p>Êêú‰∏Ä‰∏ãÔºåÁ°ÆÂÆûÂºïÁî®‰∫Ü</p><p>ÊääÂÆÉÊéíÈô§</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-webflux<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br></pre></td></tr></table></figure><img src="/images/2020/screencapture2020-04-25 AM11.55.17.jpg"><p>Âπ∂‰∏çË°å</p><p><strong>Â∞ùËØï3</strong></p><p>ÊâæÊâæSpring Cloud Hoxton + Gatway + ConsulÁöÑÊïôÁ®ã</p><blockquote><p><a href="https://piotrminkowski.com/2019/11/06/microservices-with-spring-boot-spring-cloud-gateway-and-consul-cluster/" target="_blank" rel="noopener">https://piotrminkowski.com/2019/11/06/microservices-with-spring-boot-spring-cloud-gateway-and-consul-cluster/</a></p></blockquote><p>Ëøô‰∏™ÊïôÁ®ãÁöÑ‰æùËµñÊòØ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-consul-all<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Â∑≤Êúâ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-consul-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Êää‰πãÂâçspring-boot-starterÁöÑ‰æùËµñÊîπÊàêspring-boot-starter-web</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--        &lt;dependency&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;/dependency&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ËøòÊòØÊ≤°ÂêØÂä®ÊàêÂäüÔºå‰ΩÜÊòØÊä•ÈîôÂèòÊàê‰∫Ü</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2020-04-25 12:09:53.083 ERROR 4989 --- [           main] o.s.boot.SpringApplication               : Application run failed</span><br><span class="line"></span><br><span class="line">org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat</span><br><span class="line">at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:156) ~[spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://blog.csdn.net/fly_west/article/details/101229871?depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1&amp;utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1" target="_blank" rel="noopener">https://blog.csdn.net/fly_west/article/details/101229871?depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1&amp;utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1</a></p></blockquote><p>ËøòÊòØspring-boot-starter-webÂÜ≤Á™ÅÁöÑÈóÆÈ¢ò</p><p>Áé∞Âú®ÂÜçÊäägatewayÈáåÁöÑwebfluxÊéíÈô§ËØïËØï</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2020-04-25 12:12:38.331 ERROR 5002 --- [           main] o.s.boot.SpringApplication               : Application run failed</span><br><span class="line"></span><br><span class="line">org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat</span><br><span class="line">at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:156) ~[spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p><strong>Â∞ùËØï4</strong></p><p>‰æùËµñÂÖ®ÊîπÂæóÂíåÂàöÈÇ£‰∏™ÊïôÁ®ã‰∏ÄÊ†∑ËØïËØï</p><p>hystrixÂíåredisÁõ∏ÂÖ≥ÁöÑÈÉΩÊ≥®ÈáäÊéâ</p><p>ÁâàÊú¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">spring-cloud.version</span>&gt;</span>Hoxton.RC1<span class="tag">&lt;/<span class="name">spring-cloud.version</span>&gt;</span></span><br></pre></td></tr></table></figure><p>‰æùËµñ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-consul-all<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ËøòÊòØÂ¥©‰∫Ü</p><p>ÂèëÁé∞‰∏Ä‰∏™ÈóÆÈ¢òÔºå‰æùËµñÁöÑÊúÄ‰∏ãÈù¢ÊÄé‰πàËøòÊúâ‰∏™</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-commons<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>‰º∞ËÆ°ÊòØÂàõÂª∫ÁöÑÊó∂ÂÄôÂØºÂÖ•ÁöÑÔºåÂà†Êéâ</p><p>ÈáçÂêØ</p><p>Â¥©</p><p><strong>Â∞ùËØï5</strong></p><p>ËøòÊòØÊääÁâàÊú¨ÊîπÂõûSpring Boot 2.2.0ÂíåSpring Cloud Hoxton</p><p>Áé∞Âú®ÁöÑ‰æùËµñ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-gateway<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--            &lt;exclusions&gt;--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--                &lt;exclusion&gt;--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--                    &lt;artifactId&gt;spring-cloud-starter-webflux&lt;/artifactId&gt;--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--                &lt;/exclusion&gt;--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--            &lt;/exclusions&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-consul-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Áé∞Âú®ÁöÑÊä•Èîô</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2020-04-25 12:32:36.436 ERROR 5170 --- [           main] o.s.boot.SpringApplication               : Application run failed</span><br><span class="line"></span><br><span class="line">org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat</span><br><span class="line">at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:156) ~[spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ÂàöÊâçÁúã‰æùËµñÂõæÂèëÁé∞gateway‰æùËµñÁöÑÊòØwebflux</p><p>ËøôÈáå‰æùËµñÁöÑÊòØweb</p><p>Â¶ÇÊûúÊîπÊàêwebfluxÔºü</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-webflux<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Êä•Èîô</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2020-04-25 12:33:57.502 ERROR 5182 --- [           main] o.s.boot.SpringApplication               : Application run failed</span><br><span class="line"></span><br><span class="line">org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;webHandler&#39; defined in class path resource [org&#x2F;springframework&#x2F;boot&#x2F;autoconfigure&#x2F;web&#x2F;reactive&#x2F;WebFluxAutoConfiguration$EnableWebFluxConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;webEndpointReactiveHandlerMapping&#39; defined in class path resource [org&#x2F;springframework&#x2F;boot&#x2F;actuate&#x2F;autoconfigure&#x2F;endpoint&#x2F;web&#x2F;reactive&#x2F;WebFluxEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.reactive.WebFluxEndpointHandlerMapping]: Factory method &#39;webEndpointReactiveHandlerMapping&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.cloud.client.serviceregistry.ServiceRegistryAutoConfiguration$ServiceRegistryEndpointConfiguration&#39;: Unsatisfied dependency expressed through field &#39;registration&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;consulRegistration&#39; defined in class path resource [org&#x2F;springframework&#x2F;cloud&#x2F;consul&#x2F;serviceregistry&#x2F;ConsulAutoServiceRegistrationAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.consul.serviceregistry.ConsulAutoRegistration]: Factory method &#39;consulRegistration&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Consul service ids must not be empty, must start with a letter, end with a letter or digit, and have as interior characters only letters, digits, and hyphen: 9201</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ÊâÄ‰ª•Â∫îËØ•ÊòØÔºåÂêØÂä®ÈúÄË¶ÅwebÔºåÂê¶ÂàôÊä•BeanCreationException</p><p>ËÄågateway‰æùËµñ‰∫ÜwebfluxÔºåÂíåwebÂÜ≤Á™ÅÔºåÊä•ApplicationContextException</p><p>ÂÜçÊääexclusionÂä†‰∏ä</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-gateway<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-webflux<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2020-04-25 12:35:30.492 ERROR 5188 --- [           main] o.s.boot.SpringApplication               : Application run failed</span><br><span class="line"></span><br><span class="line">org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;webHandler&#39; defined in class path resource [org&#x2F;springframework&#x2F;boot&#x2F;autoconfigure&#x2F;web&#x2F;reactive&#x2F;WebFluxAutoConfiguration$EnableWebFluxConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;webEndpointReactiveHandlerMapping&#39; defined in class path resource [org&#x2F;springframework&#x2F;boot&#x2F;actuate&#x2F;autoconfigure&#x2F;endpoint&#x2F;web&#x2F;reactive&#x2F;WebFluxEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.reactive.WebFluxEndpointHandlerMapping]: Factory method &#39;webEndpointReactiveHandlerMapping&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.cloud.client.serviceregistry.ServiceRegistryAutoConfiguration$ServiceRegistryEndpointConfiguration&#39;: Unsatisfied dependency expressed through field &#39;registration&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;consulRegistration&#39; defined in class path resource [org&#x2F;springframework&#x2F;cloud&#x2F;consul&#x2F;serviceregistry&#x2F;ConsulAutoServiceRegistrationAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.consul.serviceregistry.ConsulAutoRegistration]: Factory method &#39;consulRegistration&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Consul service ids must not be empty, must start with a letter, end with a letter or digit, and have as interior characters only letters, digits, and hyphen: 9201</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ÊääexclusionÂéªÊéâÔºåwebfluxÂà†‰∫Ü</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2020-04-25 12:37:30.419 ERROR 5199 --- [           main] o.s.boot.SpringApplication               : Application run failed</span><br><span class="line"></span><br><span class="line">org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;webHandler&#39; defined in class path resource [org&#x2F;springframework&#x2F;boot&#x2F;autoconfigure&#x2F;web&#x2F;reactive&#x2F;WebFluxAutoConfiguration$EnableWebFluxConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;webEndpointReactiveHandlerMapping&#39; defined in class path resource [org&#x2F;springframework&#x2F;boot&#x2F;actuate&#x2F;autoconfigure&#x2F;endpoint&#x2F;web&#x2F;reactive&#x2F;WebFluxEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.reactive.WebFluxEndpointHandlerMapping]: Factory method &#39;webEndpointReactiveHandlerMapping&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.cloud.client.serviceregistry.ServiceRegistryAutoConfiguration$ServiceRegistryEndpointConfiguration&#39;: Unsatisfied dependency expressed through field &#39;registration&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;consulRegistration&#39; defined in class path resource [org&#x2F;springframework&#x2F;cloud&#x2F;consul&#x2F;serviceregistry&#x2F;ConsulAutoServiceRegistrationAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.consul.serviceregistry.ConsulAutoRegistration]: Factory method &#39;consulRegistration&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Consul service ids must not be empty, must start with a letter, end with a letter or digit, and have as interior characters only letters, digits, and hyphen: 9201</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><img src="/images/2020/a.gif" width=200><p><strong>Â∞ùËØï6</strong></p><blockquote><p><a href="https://github.com/spring-cloud/spring-cloud-gateway/issues/319" target="_blank" rel="noopener">https://github.com/spring-cloud/spring-cloud-gateway/issues/319</a></p></blockquote><p>‰πãÂâçËøô‰∏™issueÈáåÈù¢Êúâ‰∫∫ËØ¥</p><blockquote><p>spring cloud gateway is not compatible with spring mvc and servlet containers, what you get when you depend on <code>spring-boot-starter-web</code>.</p></blockquote><p>ËØïËØïÊääspring-boot-starter-webÈáåÁöÑspring mvcÂíåservletÊéíÈô§‰∫ÜÔºü</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>‰∏çË°å</p><blockquote><p><a href="https://github.com/spring-cloud/spring-cloud-gateway/issues/1004" target="_blank" rel="noopener">https://github.com/spring-cloud/spring-cloud-gateway/issues/1004</a></p><p><code>spring-cloud-gateway-mvc</code> is not compatible with gateway core. You need to use <code>spring-cloud-gateway-webflux</code>.</p></blockquote><blockquote><p><a href="https://github.com/spring-cloud/spring-cloud-gateway/issues/1473" target="_blank" rel="noopener">https://github.com/spring-cloud/spring-cloud-gateway/issues/1473</a></p><p>Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway at this time. Please remove spring-boot-starter-web dependency.</p></blockquote><p>Áé∞Âú®Â∞±Âè™ÊúâËøôÂá†‰∏™‰æùËµñÔºå‰∏∫‰ªÄ‰πàËøòÊòØÂêØÂä®‰∏ç‰∫ÜÂë¢</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework.cloud&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-cloud-starter-gateway&lt;&#x2F;artifactId&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework.cloud&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;&#x2F;artifactId&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-boot-starter-actuator&lt;&#x2F;artifactId&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure><p>ÈöæÈÅìactuatorÈáåÈù¢‰πüÊúâwebÔºü</p><p>ÊääÂÆÉÊ≥®ÈáäÊéâ</p><p>Êä•ÈîôÂèòÊàê</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2020-04-25 13:17:36.860 ERROR 5310 --- [           main] o.s.boot.SpringApplication               : Application run failed</span><br><span class="line"></span><br><span class="line">org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.cloud.client.serviceregistry.AutoServiceRegistrationAutoConfiguration&#39;: Unsatisfied dependency expressed through field &#39;autoServiceRegistration&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;consulAutoServiceRegistration&#39; defined in class path resource [org&#x2F;springframework&#x2F;cloud&#x2F;consul&#x2F;serviceregistry&#x2F;ConsulAutoServiceRegistrationAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;consulAutoServiceRegistration&#39; parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;consulRegistration&#39; defined in class path resource [org&#x2F;springframework&#x2F;cloud&#x2F;consul&#x2F;serviceregistry&#x2F;ConsulAutoServiceRegistrationAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.consul.serviceregistry.ConsulAutoRegistration]: Factory method &#39;consulRegistration&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Consul service ids must not be empty, must start with a letter, end with a letter or digit, and have as interior characters only letters, digits, and hyphen: 9201</span><br><span class="line">at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/spring-cloud/spring-cloud-gateway/issues/802" target="_blank" rel="noopener">https://github.com/spring-cloud/spring-cloud-gateway/issues/802</a></p><p>Gateway is thought to be used as a separate technical component in your architecture. It usually does not make sense to add a gateway dependency directly to your business code.</p></blockquote><p>ÈÄÇÂêàÂçïÁã¨‰ΩøÁî®‚Ä¶</p><p>ÂçïÁã¨‰ΩøÁî®‚Ä¶</p><p>ÂçïÁã¨‚Ä¶</p><p>fine</p><p>ÊöÇÊó∂Â∞±‰∏çÁªìÂêàÊ≥®ÂÜå‰∏≠ÂøÉ‰∫Ü</p><p>‰ª•ÂêéÊúâÈúÄË¶ÅÂÜçËØ¥</p><p>ÂÜçËßÅ</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/ThinkWon/article/details/103757927&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/Thin
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="springcloud" scheme="http://yoursite.com/tags/springcloud/"/>
    
  </entry>
  
</feed>
