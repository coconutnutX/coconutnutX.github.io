<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CoCoNutNut&#39;s NoteBook</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2021-02-19T09:52:59.351Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>coconutnut</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Unity Project ç‰ˆæœ¬è®°å½•</title>
    <link href="http://yoursite.com/2021/02/19/unity-project-memo/"/>
    <id>http://yoursite.com/2021/02/19/unity-project-memo/</id>
    <published>2021-02-19T09:35:47.000Z</published>
    <updated>2021-02-19T09:52:59.351Z</updated>
    
    <content type="html"><![CDATA[<h1 id="02-16-V0-1"><a href="#02-16-V0-1" class="headerlink" title="02.16 V0.1"></a>02.16 V0.1</h1><h2 id="æ–°å¢åŸºç¡€ç§»åŠ¨æ“ä½œ"><a href="#æ–°å¢åŸºç¡€ç§»åŠ¨æ“ä½œ" class="headerlink" title="æ–°å¢åŸºç¡€ç§»åŠ¨æ“ä½œ"></a>æ–°å¢åŸºç¡€ç§»åŠ¨æ“ä½œ</h2><ul><li><p>ç‚¹å‡»å¯»è·¯</p><img src="/images/2021/Feb-16-2021 18-29-31.gif"></li><li><p>é è¿‘æ˜¾ç¤ºä»‹ç»</p><img src="/images/2021/Feb-16-2021 18-29-44.gif"></li><li><p>é¼ æ ‡æ»šåŠ¨å‰åå¹³ç§»</p><img src="/images/2021/Feb-16-2021 18-30-18.gif"></li><li><p>é”®ç›˜å‰åå·¦å³å¹³ç§»</p><img src="/images/2021/Feb-16-2021 18-30-32.gif"></li><li><p>é¼ æ ‡æ‹–æ‹½æ—‹è½¬è§†è§’</p><img src="/images/2021/Feb-16-2021 18-30-55.gif"></li></ul><h1 id="02-19-V0-1-1"><a href="#02-19-V0-1-1" class="headerlink" title="02.19 V0.1.1"></a>02.19 V0.1.1</h1><h2 id="æ–°å¢ä»‹ç»ç‰Œ"><a href="#æ–°å¢ä»‹ç»ç‰Œ" class="headerlink" title="æ–°å¢ä»‹ç»ç‰Œ"></a>æ–°å¢ä»‹ç»ç‰Œ</h2><ul><li><p>åˆ é™¤é è¿‘æ˜¾ç¤ºä»‹ç»</p></li><li><p>ä»‹ç»ç‰Œé¼ æ ‡ç§»å…¥é«˜äº®</p><img src="/images/2021/Feb-19-2021 17-25-29.gif"></li><li><p>ç‚¹å‡»ä»‹ç»ç‰Œå¯»è·¯</p><img src="/images/2021/Feb-19-2021 17-25-59.gif"><ul><li>å¯»è·¯ä¸­ä»»æ„æ“ä½œæ‰“æ–­</li><li>åˆ°è¾¾ç›®çš„åœ°åè½¬å‘ä»‹ç»ç‰Œ</li></ul></li></ul><h2 id="æ–°å¢å¯¼æ¸¸æ "><a href="#æ–°å¢å¯¼æ¸¸æ " class="headerlink" title="æ–°å¢å¯¼æ¸¸æ "></a>æ–°å¢å¯¼æ¸¸æ </h2><ul><li><p>ç‚¹å‡»ä¸­é—´æŒ‰é’®å¯»è·¯</p><img src="/images/2021/Feb-19-2021 17-45-43.gif"></li><li><p>ç‚¹å‡»å·¦å³æŒ‰é’®æ›´æ–°å¯¼æ¸¸æ å¹¶å¯»è·¯</p><img src="/images/2021/Feb-19-2021 17-26-58.gif"><ul><li>æœ€å·¦/æœ€å³æ—¶æŒ‰é’®ä¸å¯ç”¨</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;02-16-V0-1&quot;&gt;&lt;a href=&quot;#02-16-V0-1&quot; class=&quot;headerlink&quot; title=&quot;02.16 V0.1&quot;&gt;&lt;/a&gt;02.16 V0.1&lt;/h1&gt;&lt;h2 id=&quot;æ–°å¢åŸºç¡€ç§»åŠ¨æ“ä½œ&quot;&gt;&lt;a href=&quot;#æ–°å¢åŸºç¡€ç§»åŠ¨æ“ä½œ&quot; cla
      
    
    </summary>
    
    
      <category term="Memo" scheme="http://yoursite.com/categories/Memo/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>Unity Note UI,Event</title>
    <link href="http://yoursite.com/2021/02/17/unity/"/>
    <id>http://yoursite.com/2021/02/17/unity/</id>
    <published>2021-02-17T07:59:43.000Z</published>
    <updated>2021-02-19T09:28:32.738Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Canvaså¤§å°"><a href="#Canvaså¤§å°" class="headerlink" title="Canvaså¤§å°"></a>Canvaså¤§å°</h1><blockquote><p><a href="https://www.youtube.com/watch?v=OKK69bmjmJE&amp;ab_channel=Creagines" target="_blank" rel="noopener">https://www.youtube.com/watch?v=OKK69bmjmJE&amp;ab_channel=Creagines</a></p></blockquote><p>Canvas Scaler-&gt; ç¼©æ”¾æ¨¡å¼ -&gt; å±å¹•å¤§å°ç¼©æ”¾</p><p>è§£å†³äº†ä¸Šæ¬¡æ–‡å­—é£æ‰çš„é—®é¢˜</p><p>å¯ä»¥ä¸‹ä¸€æ­¥å•¦</p><img src="/images/2021/screencapture2021-02-17 PM5.26.42.jpg"><h1 id="ç‚¹å‡»æŒ‰é’®"><a href="#ç‚¹å‡»æŒ‰é’®" class="headerlink" title="ç‚¹å‡»æŒ‰é’®"></a>ç‚¹å‡»æŒ‰é’®</h1><blockquote><p><a href="https://www.cnblogs.com/Peng18233754457/p/7792442.html" target="_blank" rel="noopener">https://www.cnblogs.com/Peng18233754457/p/7792442.html</a></p></blockquote><p>ä¸€å¼€å§‹äº‹ä»¶ç”¨çš„æ˜¯Buttonçš„onClick()</p><p>å‘ç°Event Systemæ›´å¥½ç”¨</p><img src="/images/2021/screencapture2021-02-17 PM8.10.25.jpg"><ul><li>Buttonä¸Šé¼ æ ‡å•å‡»()é‡Œ+ ï¼ˆå…¶å®ƒäº‹ä»¶å¯ä»¥æ·»åŠ ç»„ä»¶è§¦å‘ï¼‰</li><li>EventTest.csä¸­ public void A()</li></ul><p>Buttonè¿™æ ·å°±å¯ä»¥äº†</p><p>3Dç‰©ä½“è¦ä½¿ç”¨ï¼Œè¿˜è¦å…ˆç»™Main CameraåŠ ä¸€ä¸ªPhysics Raycasterç»„ä»¶</p><h1 id="ç‚¹å‡»å¯»è·¯"><a href="#ç‚¹å‡»å¯»è·¯" class="headerlink" title="ç‚¹å‡»å¯»è·¯"></a>ç‚¹å‡»å¯»è·¯</h1><p>Playerç›‘å¬ç‚¹å‡»å®ç°ï¼Œæ›´æ”¹å¯»è·¯</p><blockquote><p><a href="https://www.youtube.com/watch?v=wlo-ZvV3ovg&amp;ab_channel=JasonWeimann" target="_blank" rel="noopener">https://www.youtube.com/watch?v=wlo-ZvV3ovg&amp;ab_channel=JasonWeimann</a></p></blockquote><p>å‚è€ƒâ†‘é€šè¿‡Actionå®ç°ï¼Œé¿å…åˆ°å¤„reference</p><h1 id="å¯»è·¯è½¬å‘"><a href="#å¯»è·¯è½¬å‘" class="headerlink" title="å¯»è·¯è½¬å‘"></a>å¯»è·¯è½¬å‘</h1><p>å¯»è·¯å®Œæˆåè½¬å‘board</p><p>è®¾ç½®äº†ä¸€ä¸ªisNavigatingå˜é‡ï¼Œè®°å½•çŠ¶æ€</p><p>åˆ°è¾¾åç”¨DOTWeenè½¬å‘</p><h1 id="å¯»è·¯æ‰“æ–­"><a href="#å¯»è·¯æ‰“æ–­" class="headerlink" title="å¯»è·¯æ‰“æ–­"></a>å¯»è·¯æ‰“æ–­</h1><p>æ¯æ¬¡æœ‰è¾“å…¥æ—¶ï¼Œæ‰“æ–­å¯»è·¯ï¼ŒåŒæ—¶å°†è®¾ç½®æˆfalse</p><p>ä¸€ä¸ªå°é—®é¢˜æ˜¯ï¼Œç¬¬ä¸€æ¬¡ç‚¹å‡»boardæ—¶å°†isNavigatingè®¾æˆtrueï¼Œä½†åŒæ—¶Input.GetMouseButtonUp(0)ä¹Ÿä¼šä¸ºtrueï¼Œæ‰€ä»¥é¢å¤–ç”¨äº†ä¸€ä¸ªfirstClickåˆ¤æ–­æ˜¯å¦ä¸ºç¬¬ä¸€æ¬¡ç‚¹å‡»</p><p>æœ€åç›¸å…³ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">private bool isNavigating &#x3D; false;</span><br><span class="line">private bool firstClick &#x3D; true;</span><br><span class="line">private Vector3 turnPosition;</span><br><span class="line"></span><br><span class="line">void Update()</span><br><span class="line">&#123;</span><br><span class="line">  if(Input.GetMouseButtonUp(0))&#123;</span><br><span class="line">    if(isNavigating)&#123;</span><br><span class="line">      if(firstClick)&#123;</span><br><span class="line">        firstClick &#x3D; false;</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        isNavigating &#x3D; false;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      firstClick &#x3D; true; </span><br><span class="line">      &#x2F;&#x2F; è¿™é‡Œå¯èƒ½æœ‰ç‚¹ç‚¹é—®é¢˜ï¼ŒisNavigatingè®¾æˆfalseä¹‹åï¼Œè¦ä¸‹ä¸€æ¬¡Updateæ‰èƒ½æ£€æµ‹åˆ°ï¼Œä½†æ˜¯Updateè°ƒå¾—å¾ˆå¿«ï¼ŒåŸºæœ¬æ„Ÿè§‰ä¸åˆ°ï¼Œæ‰€ä»¥æš‚æ—¶å°±è¿™æ ·å†™äº†ï¼Œçœ‹ç€èˆ’æœäº›ã€‚ä½†MARKä¸€ä¸‹ï¼Œä»¥åå¦‚æœæœ‰é—®é¢˜ï¼Œå†æŠŠè¿™é‡Œæ‹†å‡ºå»å•ç‹¬åˆ¤æ–­ã€‚</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ...</span><br><span class="line"></span><br><span class="line">  &#125;else if(Input.GetMouseButton(0))&#123;</span><br><span class="line">    isNavigating &#x3D; false;</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; ...</span><br><span class="line"></span><br><span class="line">  &#125;else if(Input.GetAxis(&quot;Mouse ScrollWheel&quot;)!&#x3D;0 || Input.GetAxis(&quot;Horizontal&quot;)!&#x3D;0 || Input.GetAxis(&quot;Vertical&quot;)!&#x3D;0)&#123;</span><br><span class="line">    isNavigating &#x3D; false;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private void SetNewDestination(Vector3 destination, Vector3 boardPosition) &#123;</span><br><span class="line">  &#x2F;&#x2F; set new destination</span><br><span class="line">  agent.SetDestination(destination);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; set turn destination</span><br><span class="line">  turnPosition &#x3D; boardPosition;</span><br><span class="line">  isNavigating &#x3D; true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="02-19-update"><a href="#02-19-update" class="headerlink" title="02.19 update"></a>02.19 update</h2><p>åç»­åšå¯¼æ¸¸æ—¶å‘ç°ï¼Œç‚¹å‡»UIå¯»è·¯æŒ‰é’®æ—¶ï¼Œäº‹ä»¶å‘ç”Ÿçš„é¡ºåºæ˜¯ï¼š</p><ul><li>GetMouseButton</li><li>Set Destination</li><li>GetMouseButtonUp</li></ul><p>è€Œå†æ¬¡GetMouseButtonå’ŒGetMouseButtonUpéƒ½éœ€è¦æ‰“æ–­ï¼Œç”¨ä¹‹å‰çš„æ–¹æ³•å¾ˆæ··ä¹±</p><p>äºæ˜¯æ”¹æˆä¸‰ç§çŠ¶æ€ï¼Œåªèƒ½æŒ‰é¡ºåºåˆ‡æ¢</p><ol><li><p>GuideStatus.Static é»˜è®¤çŠ¶æ€</p></li><li><p>GuideStatus.Ready è®¾ç½®å¯»è·¯åï¼ŒStatic-&gt;Ready</p></li><li><p>GuideStatus.On</p><ul><li>ReadyçŠ¶æ€è·å–åˆ°ä¸€æ¬¡GetMouseButtonUpï¼Œå˜æˆOn</li><li>OnçŠ¶æ€æ—¶ï¼ŒGetMouseButtonæˆ–GetMouseButtonUpå‡ä¼šæ‰“æ–­å¯»è·¯ï¼Œå˜æˆStatic</li><li>OnçŠ¶æ€åˆ°è¾¾ç›®çš„åœ°åï¼Œå˜æˆStatic</li></ul></li></ol><p>æµ‹è¯•ç›®å‰æ²¡ä»€ä¹ˆé—®é¢˜</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">private Vector3 turnPosition;</span><br><span class="line">private GuideStatus currentGuideStatus &#x3D; GuideStatus.Static;</span><br><span class="line">private enum GuideStatus</span><br><span class="line">&#123;</span><br><span class="line">  Static,</span><br><span class="line">  Ready,</span><br><span class="line">  On</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Update()</span><br><span class="line">&#123;</span><br><span class="line">  if(Input.GetMouseButtonUp(0))&#123;</span><br><span class="line">    &#x2F;&#x2F; if is click</span><br><span class="line">    if(mouseDownCount &lt; 2)&#123;</span><br><span class="line">      if(currentGuideStatus &#x3D;&#x3D; GuideStatus.Ready)&#123;</span><br><span class="line">        currentGuideStatus &#x3D; GuideStatus.On;</span><br><span class="line">      &#125;else if(currentGuideStatus &#x3D;&#x3D; GuideStatus.On)&#123;</span><br><span class="line">        currentGuideStatus &#x3D; GuideStatus.Static;</span><br><span class="line">        Debug.Log(&quot;[guide] disrupted by GetMouseButtonUp-Click&quot;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F; ...</span><br><span class="line">    mouseDownCount &#x3D; 0;</span><br><span class="line"></span><br><span class="line">  &#125;else if(Input.GetMouseButton(0))&#123;</span><br><span class="line">    if(currentGuideStatus&#x3D;&#x3D;GuideStatus.On)&#123;</span><br><span class="line">      currentGuideStatus &#x3D; GuideStatus.Static;</span><br><span class="line">      Debug.Log(&quot;[guide] disrupted by GetMouseButton&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line"></span><br><span class="line">    mouseDownCount++;</span><br><span class="line"></span><br><span class="line">  &#125;else if(Input.GetAxis(&quot;Mouse ScrollWheel&quot;)!&#x3D;0 || Input.GetAxis(&quot;Horizontal&quot;)!&#x3D;0 || Input.GetAxis(&quot;Vertical&quot;)!&#x3D;0)&#123;</span><br><span class="line">      if(currentGuideStatus&#x3D;&#x3D;GuideStatus.On)&#123;</span><br><span class="line">        currentGuideStatus &#x3D; GuideStatus.Static;</span><br><span class="line">        Debug.Log(&quot;[guide] disrupted by Movement&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      &#x2F;&#x2F; ...</span><br><span class="line">    </span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    if(currentGuideStatus&#x3D;&#x3D;GuideStatus.On &amp;&amp; agent.remainingDistance&#x3D;&#x3D;0)&#123;</span><br><span class="line">      Debug.Log(&quot;[guide] look at &quot;+turnPosition);</span><br><span class="line">      transform.DOLookAt(turnPosition,turnDuration,AxisConstraint.Y);</span><br><span class="line">      currentGuideStatus &#x3D; GuideStatus.Static;</span><br><span class="line">      Debug.Log(&quot;[guide] end&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private void SetNewDestination(Vector3 destination, Vector3 destination2) &#123;</span><br><span class="line">  Debug.Log(&quot;[guide] start&quot;);</span><br><span class="line">  currentGuideStatus &#x3D; GuideStatus.Ready;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; set new destination</span><br><span class="line">  agent.SetDestination(destination);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; set turn destination</span><br><span class="line">  turnPosition &#x3D; destination2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="UIé®ç›–Raycast"><a href="#UIé®ç›–Raycast" class="headerlink" title="UIé®ç›–Raycast"></a>UIé®ç›–Raycast</h1><p>åŠ å®Œå¯¼èˆªå¯»è·¯çš„UIä¹‹åï¼Œå‘ç°raycastä»å¯ä»¥ç©¿é€UIï¼ŒåŒæ—¶ç‚¹å‡»å¯»è·¯</p><p>çœ‹åˆ°ä¸€ç§è§£å†³æ˜¯ç”¨EventSystem.current.IsPointerOverGameObject()</p><p>ä½†æ˜¯Canvasæ˜¯å…¨å±å¤§å°ï¼Œç‚¹å‡»å“ªé‡Œéƒ½æ˜¯true</p><p>Canvas Groupä¹Ÿæ²¡æœ‰ç”¨</p><blockquote><p><a href="https://stackoverflow.com/questions/52654002/unity-not-ignoring-button-click-in-ignore-raycast-layer" target="_blank" rel="noopener">https://stackoverflow.com/questions/52654002/unity-not-ignoring-button-click-in-ignore-raycast-layer</a></p></blockquote><p>æœ€åå‚è€ƒè¿™ä¸ª</p><blockquote><p><a href="https://gameinstitute.qq.com/community/detail/129017" target="_blank" rel="noopener">https://gameinstitute.qq.com/community/detail/129017</a></p></blockquote><p>ç»™æ‰€æœ‰çš„ButtonåŠ äº†tagæ¥åˆ¤æ–­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">private bool IsPointerOverUIObject()&#123;</span><br><span class="line">    &#x2F;&#x2F; get mouse position</span><br><span class="line">    PointerEventData eventDataCurrentPosition &#x3D; new PointerEventData(EventSystem.current);</span><br><span class="line">    eventDataCurrentPosition.position &#x3D; new Vector2(Input.mousePosition.x, Input.mousePosition.y);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; get all raycast result</span><br><span class="line">    List&lt;RaycastResult&gt; results &#x3D; new List&lt;RaycastResult&gt;();</span><br><span class="line">    EventSystem.current.RaycastAll(eventDataCurrentPosition, results);</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; check UI tag</span><br><span class="line">    foreach(RaycastResult r in results)&#123;</span><br><span class="line">        if(r.gameObject.tag &#x3D;&#x3D; &quot;UI&quot;)&#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="è„šæœ¬æ‰§è¡Œé¡ºåºé—®é¢˜"><a href="#è„šæœ¬æ‰§è¡Œé¡ºåºé—®é¢˜" class="headerlink" title="è„šæœ¬æ‰§è¡Œé¡ºåºé—®é¢˜"></a>è„šæœ¬æ‰§è¡Œé¡ºåºé—®é¢˜</h1><p>åšäº†å¯¼èˆªæ ä¹‹åï¼Œå‘ç°åˆå§‹åŒ–é¡ºåºæœ‰ç‚¹é—®é¢˜</p><p>å¯¼èˆªæ è¦ä½¿ç”¨Boardä¸Šçš„æ•°å­—å’Œåå­—ï¼Œæœ‰æ—¶ä¼šä¸ºé»˜è®¤å€¼</p><p>é€‰ä¸­ä»»æ„ä¸€ä¸ªscriptï¼Œè°ƒæ•´Inspector-&gt;Execution Orderï¼Œè§£å†³</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Canvaså¤§å°&quot;&gt;&lt;a href=&quot;#Canvaså¤§å°&quot; class=&quot;headerlink&quot; title=&quot;Canvaså¤§å°&quot;&gt;&lt;/a&gt;Canvaså¤§å°&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>Project V0.1 Record</title>
    <link href="http://yoursite.com/2021/02/16/unity/"/>
    <id>http://yoursite.com/2021/02/16/unity/</id>
    <published>2021-02-16T10:24:56.000Z</published>
    <updated>2021-02-19T09:19:16.535Z</updated>
    
    <content type="html"><![CDATA[<p>åšäº†ä¸ªåˆç‰ˆè¯•è¯•æ°´~ğŸ˜ƒ</p><h1 id="åŠŸèƒ½"><a href="#åŠŸèƒ½" class="headerlink" title="åŠŸèƒ½"></a>åŠŸèƒ½</h1><h2 id="ç‚¹å‡»å¯»è·¯"><a href="#ç‚¹å‡»å¯»è·¯" class="headerlink" title="ç‚¹å‡»å¯»è·¯"></a>ç‚¹å‡»å¯»è·¯</h2><img src="/images/2021/Feb-16-2021 18-29-31.gif"><h2 id="é è¿‘æ˜¾ç¤ºä»‹ç»"><a href="#é è¿‘æ˜¾ç¤ºä»‹ç»" class="headerlink" title="é è¿‘æ˜¾ç¤ºä»‹ç»"></a>é è¿‘æ˜¾ç¤ºä»‹ç»</h2><img src="/images/2021/Feb-16-2021 18-29-44.gif"><h2 id="é¼ æ ‡æ»šåŠ¨å‰åå¹³ç§»"><a href="#é¼ æ ‡æ»šåŠ¨å‰åå¹³ç§»" class="headerlink" title="é¼ æ ‡æ»šåŠ¨å‰åå¹³ç§»"></a>é¼ æ ‡æ»šåŠ¨å‰åå¹³ç§»</h2><img src="/images/2021/Feb-16-2021 18-30-18.gif"><h2 id="é”®ç›˜å‰åå·¦å³å¹³ç§»"><a href="#é”®ç›˜å‰åå·¦å³å¹³ç§»" class="headerlink" title="é”®ç›˜å‰åå·¦å³å¹³ç§»"></a>é”®ç›˜å‰åå·¦å³å¹³ç§»</h2><img src="/images/2021/Feb-16-2021 18-30-32.gif"><h2 id="é¼ æ ‡æ‹–æ‹½æ—‹è½¬è§†è§’"><a href="#é¼ æ ‡æ‹–æ‹½æ—‹è½¬è§†è§’" class="headerlink" title="é¼ æ ‡æ‹–æ‹½æ—‹è½¬è§†è§’"></a>é¼ æ ‡æ‹–æ‹½æ—‹è½¬è§†è§’</h2><img src="/images/2021/Feb-16-2021 18-30-55.gif"><h1 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h1><img src="/images/2021/screencapture2021-02-16 PM6.27.11.jpg"><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><h2 id="PlayerController"><a href="#PlayerController" class="headerlink" title="PlayerController"></a>PlayerController</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class PlayerController : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    [SerializeField, Range(0f,500f)]</span><br><span class="line">    private float mouseLookSensitivity &#x3D; 200f;</span><br><span class="line"></span><br><span class="line">    [SerializeField, Range(0f,100f)]</span><br><span class="line">    private float mouseMoveSensitivity &#x3D; 10f;</span><br><span class="line"></span><br><span class="line">    [SerializeField, Range(0f,10f)]</span><br><span class="line">    private float keyMoveSensitivity &#x3D; 5f;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Transform cameraTransform &#x3D; null;</span><br><span class="line"></span><br><span class="line">    private float cameraRotation &#x3D; 0f;</span><br><span class="line">    private int mouseDownCount &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    UnityEngine.AI.NavMeshAgent agent;</span><br><span class="line"></span><br><span class="line">    GameObject clickEffect;</span><br><span class="line"></span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        agent &#x3D; GetComponent&lt;UnityEngine.AI.NavMeshAgent&gt;();</span><br><span class="line"></span><br><span class="line">        clickEffect &#x3D; Resources.Load&lt;GameObject&gt;(&quot;Prefabs&#x2F;ClickEffect&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void Update()</span><br><span class="line">    &#123;</span><br><span class="line">        if(Input.GetMouseButtonUp(0))&#123;</span><br><span class="line">            &#x2F;&#x2F; if is click</span><br><span class="line">            if(mouseDownCount &lt; 2)&#123;</span><br><span class="line">                &#x2F;&#x2F; click to navigate</span><br><span class="line">                RaycastHit hit;</span><br><span class="line">                Ray ray &#x3D; Camera.main.ScreenPointToRay(Input.mousePosition);</span><br><span class="line">                if(Physics.Raycast(ray, out hit, Mathf.Infinity))&#123;</span><br><span class="line">                    &#x2F;&#x2F; move when hit floor</span><br><span class="line">                    if(hit.transform.tag &#x3D;&#x3D; &quot;Floor&quot;)&#123;</span><br><span class="line">                        agent.SetDestination(hit.point);</span><br><span class="line"></span><br><span class="line">                        &#x2F;&#x2F; click effect</span><br><span class="line">                        GameObject clickEffectObject &#x3D; Instantiate(clickEffect);</span><br><span class="line">                        clickEffectObject.transform.position &#x3D; hit.point;</span><br><span class="line">                        Destroy(clickEffectObject, 1);</span><br><span class="line">                    &#125; </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            mouseDownCount &#x3D; 0;</span><br><span class="line"></span><br><span class="line">        &#125;else if(Input.GetMouseButton(0))&#123;</span><br><span class="line">            &#x2F;&#x2F; stop navigation</span><br><span class="line">            agent.ResetPath();</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; get mouse position</span><br><span class="line">            float mouseX &#x3D; Input.GetAxis(&quot;Mouse X&quot;) * mouseLookSensitivity * Time.deltaTime;</span><br><span class="line">            float mouseY &#x3D; Input.GetAxis(&quot;Mouse Y&quot;) * mouseLookSensitivity * Time.deltaTime;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; rotate camera up and down</span><br><span class="line">            cameraRotation -&#x3D; mouseY;</span><br><span class="line">            cameraRotation &#x3D; Mathf.Clamp(cameraRotation, -30f, 30f);</span><br><span class="line">            cameraTransform.localRotation &#x3D; Quaternion.Euler(cameraRotation, 0f, 0f);</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; rotate player left and right</span><br><span class="line">            transform.Rotate(Vector3.up * (mouseX));</span><br><span class="line"></span><br><span class="line">            mouseDownCount++;</span><br><span class="line"></span><br><span class="line">        &#125;else if(Input.GetAxis(&quot;Mouse ScrollWheel&quot;)!&#x3D;0 || Input.GetAxis(&quot;Horizontal&quot;)!&#x3D;0 || Input.GetAxis(&quot;Vertical&quot;)!&#x3D;0)&#123;</span><br><span class="line">            &#x2F;&#x2F; stop navigation</span><br><span class="line">            agent.ResetPath();</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; mouse scroll input</span><br><span class="line">            float mouseV &#x3D; Input.GetAxis(&quot;Mouse ScrollWheel&quot;);</span><br><span class="line">            &#x2F;&#x2F; keyborad input</span><br><span class="line">            float keyV &#x3D; Input.GetAxis(&quot;Vertical&quot;);</span><br><span class="line">            float keyH &#x3D; Input.GetAxis(&quot;Horizontal&quot;);</span><br><span class="line"></span><br><span class="line">            Vector3 move &#x3D; transform.forward * (mouseV * mouseMoveSensitivity + keyV * keyMoveSensitivity)</span><br><span class="line">                        + transform.right * keyH * keyMoveSensitivity;</span><br><span class="line"></span><br><span class="line">            agent.Move(move * Time.deltaTime);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ArtTextController"><a href="#ArtTextController" class="headerlink" title="ArtTextController"></a>ArtTextController</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.UI;</span><br><span class="line"></span><br><span class="line">public class ArtTextController : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    [SerializeField]</span><br><span class="line">    private string title;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private string description;</span><br><span class="line"></span><br><span class="line">    [SerializeField, Range(0f,10f)]</span><br><span class="line">    private float displayTextDistance &#x3D; 5f;</span><br><span class="line"></span><br><span class="line">    private Transform playerTransform;</span><br><span class="line"></span><br><span class="line">    private Text displayArtTitle;</span><br><span class="line">    private Text displayArtDescription;</span><br><span class="line"></span><br><span class="line">    private float dist;</span><br><span class="line"></span><br><span class="line">    private bool check;</span><br><span class="line"></span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; get player transform</span><br><span class="line">        playerTransform &#x3D; GameObject.FindWithTag(&quot;Player&quot;).GetComponent&lt;Transform&gt;();</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; get UI text</span><br><span class="line">        displayArtTitle &#x3D; GameObject.FindWithTag(&quot;ArtTitle&quot;).GetComponent&lt;Text&gt;();</span><br><span class="line">        displayArtDescription &#x3D; GameObject.FindWithTag(&quot;ArtDescription&quot;).GetComponent&lt;Text&gt;();</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; set default text</span><br><span class="line">        displayArtTitle.text &#x3D; &quot;&quot;;</span><br><span class="line">        displayArtDescription.text &#x3D; &quot;&quot;;</span><br><span class="line"></span><br><span class="line">        check &#x3D; false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Update is called once per frame</span><br><span class="line">    void Update()</span><br><span class="line">    &#123;</span><br><span class="line">        if(playerTransform)</span><br><span class="line">        &#123;</span><br><span class="line">            &#x2F;&#x2F; distance between art and player</span><br><span class="line">            dist &#x3D; Vector3.Distance(transform.position, playerTransform.position);</span><br><span class="line">            if (dist &lt; displayTextDistance)</span><br><span class="line">            &#123;</span><br><span class="line">                displayArtTitle.text &#x3D; title;</span><br><span class="line">                displayArtDescription.text &#x3D; description;</span><br><span class="line">                check &#x3D; true;</span><br><span class="line">            &#125;</span><br><span class="line">            &#x2F;&#x2F; turn off display</span><br><span class="line">            if (dist &gt; displayTextDistance &amp;&amp; check &#x3D;&#x3D; true)</span><br><span class="line">            &#123;</span><br><span class="line">                Start();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ„å»ºæµ‹è¯•"><a href="#æ„å»ºæµ‹è¯•" class="headerlink" title="æ„å»ºæµ‹è¯•"></a>æ„å»ºæµ‹è¯•</h1><p>MacOS æ²¡é—®é¢˜</p><p>Android è¯•äº†ä¸€ä¸‹ï¼Œåœºæ™¯æ²¡é—®é¢˜ï¼Œæ“ä½œæ··ä¹±</p><p>â€‹    å®‰å“å¯¼å‡ºå‚è€ƒ<a href="https://coconutnutx.github.io/2020/09/26/note-arfoundation-01/" target="_blank" rel="noopener">AR Foundationç¬”è®°01 å®‰å“Setup</a></p><p>â€‹    ç›®å‰çš„æ“ä½œæ–¹å¼é’ˆå¯¹ç”µè„‘ï¼Œæ‰‹æœºç«¯ä»¥åå†çœ‹è¦ä¸è¦åš</p><p>WebGL æ•´äº†åŠå¤©</p><p>â€‹    å‚è€ƒ<a href="https://www.youtube.com/watch?v=G7TK0-vbEYc&ab_channel=UGuruz" target="_blank" rel="noopener">WebGL Export in Unity 2020</a></p><p>â€‹    æˆåŠŸå‘å¸ƒåˆ°itch.ioï¼Œä½†æ˜¯é è¿‘æ˜¾ç¤ºä»‹ç»æ²¡æœ‰äº†ï¼Ÿ</p><p>â€‹    æœ¬åœ°Firefoxæ‰“å¼€ï¼Œä¹Ÿæ²¡æœ‰</p><h2 id="WebGL-Debug"><a href="#WebGL-Debug" class="headerlink" title="WebGL Debug"></a>WebGL Debug</h2><p>Unityé‡Œè·‘æ²¡é—®é¢˜</p><p>Debug.Logäººç‰©å’Œç”»çš„è·ç¦»ï¼Œå¯ä»¥æ˜¾ç¤ºï¼Œæ‰€ä»¥å¯èƒ½æ˜¯</p><p>â€‹    UIæ˜¾ç¤ºå‡ºäº†é—®é¢˜</p><p>â€‹    æ–‡å­—æ²¡æœ‰èµ‹å€¼æˆåŠŸ</p><p>â€‹    ä½ç½®åäº†</p><p>ç»™Textè®¾äº†é»˜è®¤å€¼ï¼Œå†è¯•</p><img src="/images/2021/screencapture2021-02-16 PM9.59.05.jpg"><p>é»˜è®¤å€¼æ˜¾ç¤ºäº†</p><img src="/images/2021/screencapture2021-02-16 PM9.59.12.jpg"><p>é è¿‘æ²¡æœ‰äº†</p><p>æ‰€ä»¥åº”è¯¥æ˜¯ä½ç½®ä¸å¯¹</p><p>ä¸è¿‡åé¢å‡†å¤‡æ”¹æ˜¾ç¤ºæ–¹æ³•ï¼Œæš‚æ—¶MARKï¼Œä»¥åæ”¾UIçš„æ—¶å€™ä¹Ÿæœ‰å¯èƒ½ç¢°åˆ°è¿™ä¸ªé—®é¢˜</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åšäº†ä¸ªåˆç‰ˆè¯•è¯•æ°´~ğŸ˜ƒ&lt;/p&gt;
&lt;h1 id=&quot;åŠŸèƒ½&quot;&gt;&lt;a href=&quot;#åŠŸèƒ½&quot; class=&quot;headerlink&quot; title=&quot;åŠŸèƒ½&quot;&gt;&lt;/a&gt;åŠŸèƒ½&lt;/h1&gt;&lt;h2 id=&quot;ç‚¹å‡»å¯»è·¯&quot;&gt;&lt;a href=&quot;#ç‚¹å‡»å¯»è·¯&quot; class=&quot;headerlink&quot; title
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>Unity Note - Project09 Movement</title>
    <link href="http://yoursite.com/2021/02/15/unity-09/"/>
    <id>http://yoursite.com/2021/02/15/unity-09/</id>
    <published>2021-02-15T12:17:07.000Z</published>
    <updated>2021-02-16T08:53:52.765Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€ç»ˆæƒ³è¦åšçš„ç§»åŠ¨æ–¹å¼ï¼š</p><ul><li>ç‚¹å‡»åœ°é¢å¯¼èˆª</li><li>æ‹–æ‹½æ—‹è½¬</li><li>ç¼©æ”¾å¹³ç§»</li><li>ç‚¹å‡»ç”»å¯¼èˆª</li></ul><p>äº¤äº’æ–¹å¼å‚è€ƒï¼š</p><blockquote><p><a href="https://sketchfab.com/3d-models/richards-art-gallery-audio-tour-0e3e19faa6474fd5974e6a7ed1b221d8" target="_blank" rel="noopener">https://sketchfab.com/3d-models/richards-art-gallery-audio-tour-0e3e19faa6474fd5974e6a7ed1b221d8</a></p></blockquote><h1 id="æ­å»º"><a href="#æ­å»º" class="headerlink" title="æ­å»º"></a>æ­å»º</h1><h2 id="ç‚¹å‡»ç§»åŠ¨"><a href="#ç‚¹å‡»ç§»åŠ¨" class="headerlink" title="ç‚¹å‡»ç§»åŠ¨"></a>ç‚¹å‡»ç§»åŠ¨</h2><p>å‚è€ƒProject02ï¼ŒAIå¯¼èˆª+NavMeshAgent</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if(Input.GetMouseButtonDown(0))&#123;</span><br><span class="line">  RaycastHit hit;</span><br><span class="line">  Ray ray &#x3D; Camera.main.ScreenPointToRay(Input.mousePosition);</span><br><span class="line">  if(Physics.Raycast(ray, out hit, Mathf.Infinity))&#123;</span><br><span class="line">    agent.SetDestination(hit.point);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­è½ç‚¹ï¼Œåªæœ‰æ˜¯åœ°é¢æ‰ç§»åŠ¨ï¼ˆåœ°é¢æ‰“Tagï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if(Input.GetMouseButtonDown(0))&#123;</span><br><span class="line">RaycastHit hit;</span><br><span class="line">Ray ray &#x3D; Camera.main.ScreenPointToRay(Input.mousePosition);</span><br><span class="line">if(Physics.Raycast(ray, out hit, Mathf.Infinity))&#123;</span><br><span class="line">if(hit.transform.tag &#x3D;&#x3D; &quot;Floor&quot;)&#123;</span><br><span class="line">agent.SetDestination(hit.point);</span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‚¹å‡»ç‰¹æ•ˆ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; click to navigate</span><br><span class="line">if(Input.GetMouseButtonDown(0))&#123;</span><br><span class="line">    RaycastHit hit;</span><br><span class="line">    Ray ray &#x3D; Camera.main.ScreenPointToRay(Input.mousePosition);</span><br><span class="line">    if(Physics.Raycast(ray, out hit, Mathf.Infinity))&#123;</span><br><span class="line">        &#x2F;&#x2F; move when hit floor</span><br><span class="line">        if(hit.transform.tag &#x3D;&#x3D; &quot;Floor&quot;)&#123;</span><br><span class="line">            agent.SetDestination(hit.point);</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; click effect</span><br><span class="line">            GameObject clickEffectObject &#x3D; Instantiate(clickEffect);</span><br><span class="line">            clickEffectObject.transform.position &#x3D; hit.point;</span><br><span class="line">            Destroy(clickEffectObject, 0.5f);</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‹–æ‹½æ—‹è½¬è§†è§’"><a href="#æ‹–æ‹½æ—‹è½¬è§†è§’" class="headerlink" title="æ‹–æ‹½æ—‹è½¬è§†è§’"></a>æ‹–æ‹½æ—‹è½¬è§†è§’</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; get mouse position</span><br><span class="line">float mouseX &#x3D; Input.GetAxis(&quot;Mouse X&quot;) * mouseSensitivity * Time.deltaTime;</span><br><span class="line">float mouseY &#x3D; Input.GetAxis(&quot;Mouse Y&quot;) * mouseSensitivity * Time.deltaTime;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; rotate camera up and down</span><br><span class="line">cameraRotation -&#x3D; mouseY;</span><br><span class="line">cameraRotation &#x3D; Mathf.Clamp(cameraRotation, -30f, 30f);</span><br><span class="line">cameraTransform.localRotation &#x3D; Quaternion.Euler(cameraRotation, 0f, 0f);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; rotate player left and right</span><br><span class="line">transform.Rotate(Vector3.up * (mouseX));</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶é•¿æŒ‰æ‹–æ‹½å’Œç‚¹å‡»å¯»è·¯ä¼šæ··ï¼ŒåŠ ä¸€ä¸ªmouseDownCountè®¡æ•°</p><h2 id="ç¼©æ”¾å‰åç§»åŠ¨"><a href="#ç¼©æ”¾å‰åç§»åŠ¨" class="headerlink" title="ç¼©æ”¾å‰åç§»åŠ¨"></a>ç¼©æ”¾å‰åç§»åŠ¨</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; stop navigation</span><br><span class="line">agent.ResetPath();</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; scroll to move forward and backward</span><br><span class="line">Vector3 move &#x3D; transform.forward * Input.GetAxis(&quot;Mouse ScrollWheel&quot;) * scrollSensitivity;</span><br><span class="line">agent.Move(move * Time.deltaTime);</span><br></pre></td></tr></table></figure><p>ï¼è¿™é‡Œä¸€å®šè¦å…ˆåœæ­¢å¯»è·¯ï¼Œå¦åˆ™ä¼šä¹±æŠ–</p><h1 id="æœ€ç»ˆ"><a href="#æœ€ç»ˆ" class="headerlink" title="æœ€ç»ˆ"></a>æœ€ç»ˆ</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class PlayerController : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    [SerializeField, Range(0f,100f)]</span><br><span class="line">    private float scrollSensitivity &#x3D; 10f;</span><br><span class="line"></span><br><span class="line">    [SerializeField, Range(0f,500f)]</span><br><span class="line">    private float mouseSensitivity &#x3D; 200f;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Transform cameraTransform &#x3D; null;</span><br><span class="line"></span><br><span class="line">    private float cameraRotation &#x3D; 0f;</span><br><span class="line">    private int mouseDownCount &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    UnityEngine.AI.NavMeshAgent agent;</span><br><span class="line"></span><br><span class="line">    GameObject clickEffect;</span><br><span class="line"></span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        agent &#x3D; GetComponent&lt;UnityEngine.AI.NavMeshAgent&gt;();</span><br><span class="line"></span><br><span class="line">        clickEffect &#x3D; Resources.Load&lt;GameObject&gt;(&quot;Prefabs&#x2F;ClickEffect&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void Update()</span><br><span class="line">    &#123;</span><br><span class="line">        if(Input.GetMouseButtonUp(0))&#123;</span><br><span class="line">            &#x2F;&#x2F; if is click</span><br><span class="line">            if(mouseDownCount &lt; 2)&#123;</span><br><span class="line">                &#x2F;&#x2F; click to navigate</span><br><span class="line">                RaycastHit hit;</span><br><span class="line">                Ray ray &#x3D; Camera.main.ScreenPointToRay(Input.mousePosition);</span><br><span class="line">                if(Physics.Raycast(ray, out hit, Mathf.Infinity))&#123;</span><br><span class="line">                    &#x2F;&#x2F; move when hit floor</span><br><span class="line">                    if(hit.transform.tag &#x3D;&#x3D; &quot;Floor&quot;)&#123;</span><br><span class="line">                        agent.SetDestination(hit.point);</span><br><span class="line"></span><br><span class="line">                        &#x2F;&#x2F; click effect</span><br><span class="line">                        GameObject clickEffectObject &#x3D; Instantiate(clickEffect);</span><br><span class="line">                        clickEffectObject.transform.position &#x3D; hit.point;</span><br><span class="line">                        Destroy(clickEffectObject, 1);</span><br><span class="line">                    &#125; </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            mouseDownCount &#x3D; 0;</span><br><span class="line">        &#125;else if(Input.GetAxis(&quot;Mouse ScrollWheel&quot;) !&#x3D; 0)&#123;</span><br><span class="line">            &#x2F;&#x2F; stop navigation</span><br><span class="line">            agent.ResetPath();</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; scroll to move forward and backward</span><br><span class="line">            Vector3 move &#x3D; transform.forward * Input.GetAxis(&quot;Mouse ScrollWheel&quot;) * scrollSensitivity;</span><br><span class="line">            agent.Move(move * Time.deltaTime);</span><br><span class="line">        &#125;else if(Input.GetMouseButton(0))&#123;</span><br><span class="line">            &#x2F;&#x2F; stop navigation</span><br><span class="line">            agent.ResetPath();</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; get mouse position</span><br><span class="line">            float mouseX &#x3D; Input.GetAxis(&quot;Mouse X&quot;) * mouseSensitivity * Time.deltaTime;</span><br><span class="line">            float mouseY &#x3D; Input.GetAxis(&quot;Mouse Y&quot;) * mouseSensitivity * Time.deltaTime;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; rotate camera up and down</span><br><span class="line">            cameraRotation -&#x3D; mouseY;</span><br><span class="line">            cameraRotation &#x3D; Mathf.Clamp(cameraRotation, -30f, 30f);</span><br><span class="line">            cameraTransform.localRotation &#x3D; Quaternion.Euler(cameraRotation, 0f, 0f);</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; rotate player left and right</span><br><span class="line">            transform.Rotate(Vector3.up * (mouseX));</span><br><span class="line"></span><br><span class="line">            mouseDownCount++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‚¹å‡»å¯»è·¯</p><img src="/images/2021/Feb-16-2021 16-49-06.gif"><p>æ»šåŠ¨å‰åå¹³ç§»</p><img src="/images/2021/Feb-16-2021 16-49-24.gif"><p>æ‹–æ‹½æ—‹è½¬è§†è§’</p><img src="/images/2021/Feb-16-2021 16-49-34.gif"><p>ä¸”å¯»è·¯è¿‡ç¨‹ä¸­ï¼Œæ»šåŠ¨æˆ–æ‹–æ‹½å‡æ‰“æ–­å¯»è·¯</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€ç»ˆæƒ³è¦åšçš„ç§»åŠ¨æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‚¹å‡»åœ°é¢å¯¼èˆª&lt;/li&gt;
&lt;li&gt;æ‹–æ‹½æ—‹è½¬&lt;/li&gt;
&lt;li&gt;ç¼©æ”¾å¹³ç§»&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»ç”»å¯¼èˆª&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;äº¤äº’æ–¹å¼å‚è€ƒï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://ske
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>Unity Note - Project08 Gallery</title>
    <link href="http://yoursite.com/2021/02/15/unity/"/>
    <id>http://yoursite.com/2021/02/15/unity/</id>
    <published>2021-02-15T09:59:21.000Z</published>
    <updated>2021-02-15T11:38:13.511Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://learn.unity.com/project/create-a-personal-3d-gallery-project-with-unity" target="_blank" rel="noopener">Create a Personal 3D Gallery Project with Unity</a></p></blockquote><ol><li><p>Use the [first person controller](First Person All-in-One) in asset store</p></li><li><p>Model scale ~= Cube 40*40</p></li></ol><img src="/images/2021/screencapture2021-02-15 PM6.13.09.jpg"><ol start="3"><li><p>Add Component-&gt;Physic-&gt;Mesh Collider to models</p></li><li><p>Light: turn off shadow &amp; increase range to 20</p></li><li><p>Sound effect for different walking materials</p><p>Change Material in Mesh Collider, not Mesh Renderer</p></li></ol><img src="/images/2021/screencapture2021-02-15 PM6.26.31.jpg"><ol start="6"><li><p>Add UI-&gt;Text</p><p>When setting Rect Transform, press Alt(Option) to set position as well</p></li><li><p>Add Tag to Text</p></li><li><p>Add Image: Drag jpg onto Plane</p></li><li><p>Close to display text</p></li></ol><p>drag script onto image</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.UI;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class Proximity : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    public string newTitle;</span><br><span class="line">    public string newAuthor;</span><br><span class="line">    public string newDesc;</span><br><span class="line">    private Transform other;</span><br><span class="line">    private Text myTitle;</span><br><span class="line">    private Text myAuthor;</span><br><span class="line">    private Text myDesc;</span><br><span class="line">    private float dist;</span><br><span class="line">    private GameObject player;</span><br><span class="line">    private GameObject message1;</span><br><span class="line">    private GameObject message2;</span><br><span class="line">    private GameObject message3;</span><br><span class="line">    private bool check;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Start is called before the first frame update</span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        player &#x3D; GameObject.FindWithTag(&quot;Player&quot;);</span><br><span class="line">        other &#x3D; player.GetComponent&lt;Transform&gt;();</span><br><span class="line">        message1 &#x3D; GameObject.FindWithTag(&quot;ArtTitle&quot;);</span><br><span class="line">        message2 &#x3D; GameObject.FindWithTag(&quot;ArtAuthor&quot;);</span><br><span class="line">        message3 &#x3D; GameObject.FindWithTag(&quot;ArtDescription&quot;);</span><br><span class="line">        myTitle &#x3D; message1.GetComponent&lt;Text&gt;();</span><br><span class="line">        myTitle.text &#x3D; &quot;&quot;;</span><br><span class="line">        myAuthor &#x3D; message2.GetComponent&lt;Text&gt;();</span><br><span class="line">        myAuthor.text &#x3D; &quot;&quot;;</span><br><span class="line">        myDesc &#x3D; message3.GetComponent&lt;Text&gt;();</span><br><span class="line">        myDesc.text &#x3D; &quot;&quot;;</span><br><span class="line">        check &#x3D; false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Update is called once per frame</span><br><span class="line">    void Update()</span><br><span class="line">    &#123;</span><br><span class="line">        if (other)</span><br><span class="line">        &#123;</span><br><span class="line">            dist &#x3D; Vector3.Distance(transform.position, other.position);</span><br><span class="line">            print(&quot;Distance to player: &quot; + dist);</span><br><span class="line">            if (dist &lt; 4)</span><br><span class="line">            &#123;</span><br><span class="line">                myTitle.text &#x3D; newTitle;</span><br><span class="line">                myAuthor.text &#x3D; newAuthor;</span><br><span class="line">                myDesc.text &#x3D; newDesc;</span><br><span class="line">                check &#x3D; true;</span><br><span class="line">            &#125;</span><br><span class="line">            if (dist &gt; 4 &amp;&amp; check &#x3D;&#x3D; true)</span><br><span class="line">            &#123;</span><br><span class="line">                Start();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://learn.unity.com/project/create-a-personal-3d-gallery-project-with-unity&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Cre
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>Unity Note - Project07 Scroll</title>
    <link href="http://yoursite.com/2021/02/14/unity/"/>
    <id>http://yoursite.com/2021/02/14/unity/</id>
    <published>2021-02-14T12:09:34.000Z</published>
    <updated>2021-02-15T09:59:40.297Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Test-open-animation"><a href="#Test-open-animation" class="headerlink" title="Test open animation"></a>Test open animation</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using DG.Tweening;</span><br><span class="line"></span><br><span class="line">public class ReelController : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float radius &#x3D; 0.1f; &#x2F;&#x2F; Cylinder radius</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float length &#x3D; 8.0f; &#x2F;&#x2F; Quad length</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float innerHeight &#x3D; 1.0f; &#x2F;&#x2F; Quad height</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float outerHeight &#x3D; 0.8f; &#x2F;&#x2F; Cylinder height</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float openDuration &#x3D; 1.0f;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Ease moveEase &#x3D; Ease.Linear;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Transform leftCylinderTransform &#x3D; null;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Transform middleQuadTransform &#x3D; null;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Transform rightCylinderTransform &#x3D; null;</span><br><span class="line"></span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; set original position</span><br><span class="line">        middleQuadTransform.localScale &#x3D; new Vector3(radius*2,innerHeight,0);</span><br><span class="line">        middleQuadTransform.position &#x3D; new Vector3(0,0,radius);</span><br><span class="line"></span><br><span class="line">        leftCylinderTransform.localScale &#x3D; new Vector3(radius*2,outerHeight,radius*2);</span><br><span class="line">        leftCylinderTransform.position &#x3D; new Vector3(-radius,0,0);</span><br><span class="line"></span><br><span class="line">        rightCylinderTransform.localScale &#x3D; new Vector3(radius*2,outerHeight,radius*2);</span><br><span class="line">        rightCylinderTransform.position &#x3D; new Vector3(radius,0,0);</span><br><span class="line"></span><br><span class="line">        OpenReel();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void OpenReel()</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; open canvas</span><br><span class="line">        middleQuadTransform.DOScaleX(length + radius*2, openDuration).SetEase(moveEase);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; move cylinders</span><br><span class="line">        leftCylinderTransform.DOMoveX(leftCylinderTransform.position.x - length&#x2F;2, openDuration).SetEase(moveEase);</span><br><span class="line">        rightCylinderTransform.DOMoveX(rightCylinderTransform.position.x + length&#x2F;2, openDuration).SetEase(moveEase);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/images/2021/Feb-14-2021 20-11-48.gif"><h1 id="Display-image"><a href="#Display-image" class="headerlink" title="Display image"></a>Display image</h1><p>Drag images to asset folder -&gt; Set type to Sprite -&gt; Apply</p><p>Canvas -&gt; Set Render Mode to World Space</p><p>Make sure all objects are positioned at (0, 0, 0)</p><img src="/images/2021/screencapture2021-02-14 PM9.43.21.jpg"><p>Test size</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">RectTransform rectTransfrom &#x3D; GetComponentInChildren&lt;Image&gt;().GetComponent&lt;RectTransform&gt;();</span><br><span class="line"></span><br><span class="line">Debug.Log(&quot;rectTransfrom: &quot;+rectTransfrom);</span><br><span class="line">Debug.Log(&quot;rectTransfrom.rect: &quot;+rectTransfrom.rect);</span><br><span class="line">Debug.Log(&quot;rectTransfrom.sizeDelta: &quot;+rectTransfrom.sizeDelta);</span><br><span class="line"></span><br><span class="line">Rect rect &#x3D; rectTransfrom.rect;</span><br><span class="line">rectTransfrom.sizeDelta &#x3D; new Vector2(rect.width&#x2F;rect.height*canvasHeight,canvasHeight);</span><br><span class="line"></span><br><span class="line">Debug.Log(&quot;rectTransfrom: &quot;+rectTransfrom);</span><br><span class="line">Debug.Log(&quot;rectTransfrom.rect: &quot;+rectTransfrom.rect);</span><br><span class="line">Debug.Log(&quot;rectTransfrom.sizeDelta: &quot;+rectTransfrom.sizeDelta);</span><br></pre></td></tr></table></figure><img src="/images/2021/screencapture2021-02-14 PM9.45.02.jpg"><h1 id="Set-scroll-size"><a href="#Set-scroll-size" class="headerlink" title="Set scroll size"></a>Set scroll size</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.UI;</span><br><span class="line">using DG.Tweening;</span><br><span class="line"></span><br><span class="line">public class ReelController : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float canvasHeight &#x3D; 1000;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float cylinderHeight &#x3D; 600;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float cylinderRadius &#x3D; 30;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float openDuration &#x3D; 1.0f;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Ease moveEase &#x3D; Ease.Linear;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Transform leftCylinderTransform &#x3D; null;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Transform rightCylinderTransform &#x3D; null;</span><br><span class="line"></span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; get image rectTransfrom</span><br><span class="line">        RectTransform rectTransfrom &#x3D; GetComponentInChildren&lt;Image&gt;().GetComponent&lt;RectTransform&gt;();</span><br><span class="line">        &#x2F;&#x2F; get original image size</span><br><span class="line">        Rect rect &#x3D; rectTransfrom.rect;</span><br><span class="line">        &#x2F;&#x2F; scale to default height</span><br><span class="line">        float canvasWidth &#x3D; rect.width &#x2F; rect.height * canvasHeight;</span><br><span class="line">        rectTransfrom.sizeDelta &#x3D; new Vector2(canvasWidth, canvasHeight);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; set original position</span><br><span class="line">        leftCylinderTransform.localScale &#x3D; new Vector3(cylinderRadius*2, cylinderHeight, cylinderRadius*2);</span><br><span class="line">        leftCylinderTransform.position &#x3D; new Vector3(-cylinderRadius - canvasWidth&#x2F;2,0,0);</span><br><span class="line"></span><br><span class="line">        rightCylinderTransform.localScale &#x3D; new Vector3(cylinderRadius*2, cylinderHeight, cylinderRadius*2);</span><br><span class="line">        rightCylinderTransform.position &#x3D; new Vector3(cylinderRadius + canvasWidth&#x2F;2,0,0);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/images/2021/screencapture2021-02-14 PM10.09.59.jpg"><h1 id="Scroll-animation"><a href="#Scroll-animation" class="headerlink" title="Scroll animation"></a>Scroll animation</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.UI;</span><br><span class="line">using DG.Tweening;</span><br><span class="line"></span><br><span class="line">public class ScrollController : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float canvasHeight &#x3D; 1000;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float cylinderHeight &#x3D; 600;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float cylinderRadius &#x3D; 30;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private float openDuration &#x3D; 1.0f;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Ease moveEase &#x3D; Ease.Linear;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Transform leftCylinderTransform &#x3D; null;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Transform rightCylinderTransform &#x3D; null;</span><br><span class="line"></span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; Open();</span><br><span class="line"></span><br><span class="line">        OpenAnimation();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void Open()</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; get image rectTransfrom</span><br><span class="line">        RectTransform rectTransfrom &#x3D; GetComponentInChildren&lt;Image&gt;().GetComponent&lt;RectTransform&gt;();</span><br><span class="line">        &#x2F;&#x2F; get original image size</span><br><span class="line">        Rect rect &#x3D; rectTransfrom.rect;</span><br><span class="line">        &#x2F;&#x2F; scale to default height</span><br><span class="line">        float canvasWidth &#x3D; rect.width &#x2F; rect.height * canvasHeight;</span><br><span class="line">        rectTransfrom.sizeDelta &#x3D; new Vector2(canvasWidth, canvasHeight);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; set original position</span><br><span class="line">        leftCylinderTransform.localScale &#x3D; new Vector3(cylinderRadius*2, cylinderHeight, cylinderRadius*2);</span><br><span class="line">        leftCylinderTransform.position &#x3D; new Vector3(-cylinderRadius - canvasWidth&#x2F;2,0,0);</span><br><span class="line"></span><br><span class="line">        rightCylinderTransform.localScale &#x3D; new Vector3(cylinderRadius*2, cylinderHeight, cylinderRadius*2);</span><br><span class="line">        rightCylinderTransform.position &#x3D; new Vector3(cylinderRadius + canvasWidth&#x2F;2,0,0);</span><br><span class="line"></span><br><span class="line">        Debug.Log(&quot;Scroll opened: &quot; + rectTransfrom.rect);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void OpenAnimation()</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; get image rectTransfrom</span><br><span class="line">        RectTransform rectTransfrom &#x3D; GetComponentInChildren&lt;Image&gt;().GetComponent&lt;RectTransform&gt;();</span><br><span class="line">        &#x2F;&#x2F; get original image size</span><br><span class="line">        Rect rect &#x3D; rectTransfrom.rect;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; set width to 0</span><br><span class="line">        rectTransfrom.DOScaleX(0, 0).SetEase(moveEase);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; scale to default height</span><br><span class="line">        float canvasWidth &#x3D; rect.width &#x2F; rect.height * canvasHeight;</span><br><span class="line">        &#x2F;&#x2F; open canvas</span><br><span class="line">        float scaleX &#x3D; canvasWidth&#x2F;rect.width;</span><br><span class="line">        float scaleY &#x3D; canvasHeight&#x2F;rect.height;</span><br><span class="line">        rectTransfrom.DOScale(new Vector2(scaleX, scaleY), openDuration).SetEase(moveEase);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; move cylinders</span><br><span class="line">        leftCylinderTransform.localScale &#x3D; new Vector3(cylinderRadius*2, cylinderHeight, cylinderRadius*2);</span><br><span class="line">        leftCylinderTransform.DOMoveX(leftCylinderTransform.position.x - canvasWidth&#x2F;2, openDuration).SetEase(moveEase);</span><br><span class="line"></span><br><span class="line">        rightCylinderTransform.localScale &#x3D; new Vector3(cylinderRadius*2, cylinderHeight, cylinderRadius*2);</span><br><span class="line">        rightCylinderTransform.DOMoveX(rightCylinderTransform.position.x + canvasWidth&#x2F;2, openDuration).SetEase(moveEase);</span><br><span class="line"></span><br><span class="line">        Debug.Log(&quot;Scroll opened with animation: &quot; + rectTransfrom.rect);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/images/2021/Feb-14-2021 22-58-33.gif">]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Test-open-animation&quot;&gt;&lt;a href=&quot;#Test-open-animation&quot; class=&quot;headerlink&quot; title=&quot;Test open animation&quot;&gt;&lt;/a&gt;Test open animation&lt;/h1&gt;&lt;figu
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>Unity Note - Project06 DoTween</title>
    <link href="http://yoursite.com/2021/02/14/unity-note/"/>
    <id>http://yoursite.com/2021/02/14/unity-note/</id>
    <published>2021-02-14T08:31:45.000Z</published>
    <updated>2021-02-14T10:21:19.692Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.youtube.com/watch?v=cKwz4xlQHmo&ab_channel=DilmerValecillos" target="_blank" rel="noopener">Creating Dynamic animations with DOTween for Unity3d</a></p></blockquote><blockquote><p><a href="http://dotween.demigiant.com/documentation.php" target="_blank" rel="noopener">DoTween Documentation</a></p></blockquote><ol><li><p>Add asset <a href="https://assetstore.unity.com/packages/tools/animation/dotween-hotween-v2-27676" target="_blank" rel="noopener">DOTween (HOTween v2)</a></p></li><li><p>Add 3D Objects</p></li></ol><img src="/images/2021/screencapture2021-02-14 PM4.51.38.jpg"><ol start="3"><li>Move one way</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using DG.Tweening;</span><br><span class="line"></span><br><span class="line">public class DoTweenController : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Vector3 targetLocation &#x3D; Vector3.zero;</span><br><span class="line"></span><br><span class="line">    [SerializeField, Range(1.0f, 10.0f)]</span><br><span class="line">    private float moveDuration &#x3D; 1.0f;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Ease moveEase &#x3D; Ease.Linear;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private DoTweenType doTweenType &#x3D; DoTweenType.MovementOneWay;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Different types of animation</span><br><span class="line">    private enum DoTweenType</span><br><span class="line">    &#123;</span><br><span class="line">        MovementOneWay</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Start is called before the first frame update</span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        if(doTweenType &#x3D;&#x3D; DoTweenType.MovementOneWay)&#123;</span><br><span class="line">            if(targetLocation &#x3D;&#x3D; Vector3.zero)&#123;</span><br><span class="line">                &#x2F;&#x2F; stay at original position</span><br><span class="line">                targetLocation &#x3D; transform.position;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            transform.DOMove(targetLocation, moveDuration).SetEase(moveEase);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/images/2021/Feb-14-2021 17-43-05.gif"><ol start="4"><li>More types</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using DG.Tweening;</span><br><span class="line"></span><br><span class="line">public class DoTweenController : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Vector3 targetLocation &#x3D; Vector3.zero;</span><br><span class="line"></span><br><span class="line">    [SerializeField, Range(1.0f, 10.0f)]</span><br><span class="line">    private float moveDuration &#x3D; 1.0f;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Ease moveEase &#x3D; Ease.Linear;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private Color targetColor;</span><br><span class="line"></span><br><span class="line">    [SerializeField, Range(1.0f, 10.0f)]</span><br><span class="line">    private float colorChangeDuration &#x3D; 1.0f;</span><br><span class="line"></span><br><span class="line">    [SerializeField, Range(0.1f, 10.0f)]</span><br><span class="line">    private float scaleMultiplier &#x3D; 3.0f;</span><br><span class="line"></span><br><span class="line">    [SerializeField]</span><br><span class="line">    private DoTweenType doTweenType &#x3D; DoTweenType.MovementOneWay;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Different types of animation</span><br><span class="line">    private enum DoTweenType</span><br><span class="line">    &#123;</span><br><span class="line">        MovementOneWay,</span><br><span class="line">        MovementTwoWay,</span><br><span class="line">        MovementOneWayColorChange,</span><br><span class="line">        MomementOneWayColorChangeScaleChange</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Start is called before the first frame update</span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        if(targetLocation &#x3D;&#x3D; Vector3.zero)&#123;</span><br><span class="line">                &#x2F;&#x2F; stay at original position</span><br><span class="line">                targetLocation &#x3D; transform.position;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        if(doTweenType &#x3D;&#x3D; DoTweenType.MovementOneWay)&#123;</span><br><span class="line">            transform.DOMove(targetLocation, moveDuration).SetEase(moveEase);</span><br><span class="line">        &#125;</span><br><span class="line">        else if(doTweenType &#x3D;&#x3D; DoTweenType.MovementTwoWay)&#123;</span><br><span class="line">            StartCoroutine(MoveWithBothWays());</span><br><span class="line">        &#125;</span><br><span class="line">        else if(doTweenType &#x3D;&#x3D; DoTweenType.MovementOneWayColorChange)&#123;</span><br><span class="line">            &#x2F;&#x2F; another way</span><br><span class="line">            DOTween.Sequence()</span><br><span class="line">                .Append(transform.DOMove(targetLocation, moveDuration).SetEase(moveEase))</span><br><span class="line">                .Append(transform.GetComponent&lt;Renderer&gt;().material.DOColor(targetColor, colorChangeDuration).SetEase(moveEase));</span><br><span class="line">        &#125;</span><br><span class="line">        else if(doTweenType &#x3D;&#x3D; DoTweenType.MomementOneWayColorChangeScaleChange)&#123;</span><br><span class="line">            DOTween.Sequence()</span><br><span class="line">                .Append(transform.DOMove(targetLocation, moveDuration).SetEase(moveEase))</span><br><span class="line">                .Append(transform.GetComponent&lt;Renderer&gt;().material.DOColor(targetColor, colorChangeDuration).SetEase(moveEase))</span><br><span class="line">                .Append(transform.DOScale(scaleMultiplier, moveDuration).SetEase(moveEase));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private IEnumerator MoveWithBothWays()&#123;</span><br><span class="line">        &#x2F;&#x2F; save original position</span><br><span class="line">        Vector3 originalLocation &#x3D; transform.position;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; go to traget location</span><br><span class="line">        transform.DOMove(targetLocation, moveDuration).SetEase(moveEase);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; wait</span><br><span class="line">        yield return new WaitForSeconds(moveDuration);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; go to original location</span><br><span class="line">        transform.DOMove(originalLocation, moveDuration).SetEase(moveEase);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/images/2021/Feb-14-2021 18-16-16.gif">]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=cKwz4xlQHmo&amp;ab_channel=DilmerValecillos&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Creating Dy
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>Notion Offlineè®°å½•</title>
    <link href="http://yoursite.com/2021/02/12/notionn/"/>
    <id>http://yoursite.com/2021/02/12/notionn/</id>
    <published>2021-02-12T15:29:15.000Z</published>
    <updated>2021-02-13T01:43:27.912Z</updated>
    
    <content type="html"><![CDATA[<p>Notionçš„appçªç„¶Offlineäº†</p><p>ç›´æ¥è®¿é—®æ˜¾ç¤ºDNS_PROBE_FINISHED_NXDOMAIN</p><p>æ ¹æ®â†“å°è¯•</p><blockquote><p><a href="https://linmi.cc/6133.html" target="_blank" rel="noopener">https://linmi.cc/6133.html</a></p></blockquote><p>1.åŠ host<br>cmdä¸­ open /etc<br>hostä¸­åŠ ä¸€è¡Œ 104.18.23.110 notion.so<br>æ­¤æ—¶å¯ä»¥pingé€šnotion.soï¼Œä½†appä»æ˜¯offline</p><p>2.æ”¹DNS<br>åŠ 119.29.29.29<br>114.114.114.114<br>æ²¡æœ‰ç”¨ï¼Œæ”¹å›é»˜è®¤</p><p>æš‚æ—¶è¿˜æ˜¯ä¸èƒ½ç”¨ï¼Œç­‰ä¿®å¤å§<br>å“ï¼Œå¤±å»notionä»¿ä½›å¤±å»äº†åŠä¸ªè„‘å­</p><p>æ›´æ–°ï¼š<br>ç„¶åå‘ç°github.ioä¹Ÿè®¿é—®ä¸äº†äº†ï¼Œæ˜¯è¿è¥å•†çš„é—®é¢˜<br>DNSæ”¹æˆ114.114.114.114åè§£å†³</p><p>å†æ›´æ–°ï¼š<br>notionå¥½äº†ï¼æˆ‘æ´»äº†ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Notionçš„appçªç„¶Offlineäº†&lt;/p&gt;
&lt;p&gt;ç›´æ¥è®¿é—®æ˜¾ç¤ºDNS_PROBE_FINISHED_NXDOMAIN&lt;/p&gt;
&lt;p&gt;æ ¹æ®â†“å°è¯•&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://linmi.cc/6133.html&quot; targe
      
    
    </summary>
    
    
      <category term="Memo" scheme="http://yoursite.com/categories/Memo/"/>
    
    
      <category term="tool" scheme="http://yoursite.com/tags/tool/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®° Project05 åœ°å½¢&amp;Asset</title>
    <link href="http://yoursite.com/2020/12/02/unity-note-3/"/>
    <id>http://yoursite.com/2020/12/02/unity-note-3/</id>
    <published>2020-12-02T13:54:21.000Z</published>
    <updated>2020-12-02T13:57:22.871Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.youtube.com/watch?v=ddy12WHqt-M&amp;ab_channel=UGuruz" target="_blank" rel="noopener">https://www.youtube.com/watch?v=ddy12WHqt-M&amp;ab_channel=UGuruz</a></p></blockquote><p>è¯•äº†è¯•åœ°å½¢</p><img src="/images/2020/screencapture2020-12-02 PM8.19.30.jpg"><p>åŠ å…¥äººç‰©ï¼ŒæŒ‰Project04çš„æ–¹å¼ç§»åŠ¨</p><img src="/images/2020/screencapture2020-12-02 PM8.20.05.jpg"><p>æ‰¾äº†ä¸€ç»„æ¨¡å‹ï¼Œèƒ½ç”¨ï¼</p><img src="/images/2020/screencapture2020-12-02 PM9.53.36.jpg"><p>æ„Ÿè§‰è¦èµ·é£äº†ğŸ¤©</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=ddy12WHqt-M&amp;amp;ab_channel=UGuruz&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.youtu
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®° Project04 ç‚¹å‡»ç§»åŠ¨+æ—‹è½¬æ‘„åƒå¤´</title>
    <link href="http://yoursite.com/2020/12/02/unity-note-2/"/>
    <id>http://yoursite.com/2020/12/02/unity-note-2/</id>
    <published>2020-12-02T09:43:51.000Z</published>
    <updated>2020-12-02T10:07:55.039Z</updated>
    
    <content type="html"><![CDATA[<p>æƒ³åšæˆç‚¹å‡»ç§»åŠ¨ï¼Œå¹¶ä¸”æ‘„åƒå¤´å¯ä»¥æ ¹æ®é¼ æ ‡ä½ç½®æœ‰é™åˆ¶çš„æ—‹è½¬</p><h1 id="Step-1-ç‚¹å‡»ç§»åŠ¨"><a href="#Step-1-ç‚¹å‡»ç§»åŠ¨" class="headerlink" title="Step 1 - ç‚¹å‡»ç§»åŠ¨"></a>Step 1 - ç‚¹å‡»ç§»åŠ¨</h1><p>å‚ç…§Project02</p><img src="/images/2020/screencapture2020-12-02 PM5.37.22.jpg"><p>å®Œæˆ~</p><img src="/images/2020/Dec-02-2020 17-42-53.gif"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.AI;</span><br><span class="line"></span><br><span class="line">public class PlayerMovement : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    public NavMeshAgent agent;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Start is called before the first frame update</span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        agent &#x3D; GetComponent&lt;NavMeshAgent&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Update is called once per frame</span><br><span class="line">    void Update()</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; Click to Move</span><br><span class="line">        if(Input.GetMouseButtonDown(0))&#123;</span><br><span class="line">            RaycastHit hit;</span><br><span class="line">            Ray ray &#x3D; Camera.main.ScreenPointToRay(Input.mousePosition);</span><br><span class="line">            if(Physics.Raycast(ray, out hit, Mathf.Infinity))&#123;</span><br><span class="line">                agent.SetDestination(hit.point);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Step-2-æ—‹è½¬æ‘„åƒå¤´"><a href="#Step-2-æ—‹è½¬æ‘„åƒå¤´" class="headerlink" title="Step 2 - æ—‹è½¬æ‘„åƒå¤´"></a>Step 2 - æ—‹è½¬æ‘„åƒå¤´</h1><p>å‚ç…§Project03</p><img src="/images/2020/Dec-02-2020 18-05-13.gif"><p>é¼ æ ‡è½¬å‘ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œé¡ºä¾¿åŠ äº†æ–¹å‘é”®æ—‹è½¬</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class CameraLook : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    public float mouseSensitivity &#x3D; 100f;</span><br><span class="line">    public float keySensitivity &#x3D; 100f;</span><br><span class="line">    public Transform player &#x3D; null;</span><br><span class="line">    private float xRotation &#x3D; 0f;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Start is called before the first frame update</span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Update is called once per frame</span><br><span class="line">    void Update()</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; Get mouse position</span><br><span class="line">        float mouseX &#x3D; Input.GetAxis(&quot;Mouse X&quot;) * mouseSensitivity * Time.deltaTime;</span><br><span class="line">        float mouseY &#x3D; Input.GetAxis(&quot;Mouse Y&quot;) * mouseSensitivity * Time.deltaTime;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Get key inout</span><br><span class="line">        float keyX &#x3D; Input.GetAxis(&quot;Horizontal&quot;) * keySensitivity * Time.deltaTime;</span><br><span class="line"></span><br><span class="line">        Debug.Log(mouseX);</span><br><span class="line">        Debug.Log(keyX);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Rotate camera up and down</span><br><span class="line">        xRotation -&#x3D; mouseY;</span><br><span class="line">        xRotation &#x3D; Mathf.Clamp(xRotation, -30f, 30f);</span><br><span class="line">        transform.localRotation &#x3D; Quaternion.Euler(xRotation, 0f, 0f);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Rotate player left and right</span><br><span class="line">        player.Rotate(Vector3.up * (mouseX + keyX));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>è€¶(ï¼¾ï¼ï¼¾)V</p><p>ç›®å‰è¿™ä¸ªç§»åŠ¨æ–¹å¼å¾ˆæ»¡æ„ï¼Œæš‚æ—¶å°±è¿™æ ·</p><p>ä¸‹ä¸€æ­¥å¯ä»¥æ­åœºæ™¯å•¦~</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æƒ³åšæˆç‚¹å‡»ç§»åŠ¨ï¼Œå¹¶ä¸”æ‘„åƒå¤´å¯ä»¥æ ¹æ®é¼ æ ‡ä½ç½®æœ‰é™åˆ¶çš„æ—‹è½¬&lt;/p&gt;
&lt;h1 id=&quot;Step-1-ç‚¹å‡»ç§»åŠ¨&quot;&gt;&lt;a href=&quot;#Step-1-ç‚¹å‡»ç§»åŠ¨&quot; class=&quot;headerlink&quot; title=&quot;Step 1 - ç‚¹å‡»ç§»åŠ¨&quot;&gt;&lt;/a&gt;Step 1 - ç‚¹å‡»ç§»åŠ¨&lt;/h
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®° Project03 ç¬¬ä¸€äººç§°ç§»åŠ¨</title>
    <link href="http://yoursite.com/2020/12/02/unity-note-1/"/>
    <id>http://yoursite.com/2020/12/02/unity-note-1/</id>
    <published>2020-12-02T05:58:43.000Z</published>
    <updated>2020-12-02T09:23:36.216Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.youtube.com/watch?v=_QajrabyTJc&amp;ab_channel=Brackeys" target="_blank" rel="noopener">https://www.youtube.com/watch?v=_QajrabyTJc&amp;ab_channel=Brackeys</a></p></blockquote><img src="/images/2020/screencapture2020-12-02 PM5.18.52.jpg"><h1 id="å±‚çº§"><a href="#å±‚çº§" class="headerlink" title="å±‚çº§"></a>å±‚çº§</h1><ul><li>Playerï¼ˆç©ºç‰©ä½“ï¼‰-&gt; åŠ Character Controllerï¼›PlayerMovementï¼ˆScriptï¼‰<ul><li>Bodyï¼ˆåœ†æŸ±ï¼‰-&gt; åˆ é™¤Collider</li><li>Main Camera -&gt; æ”¾åœ¨äººç‰©å¤´éƒ¨çš„ä½ç½®ï¼›MouseLookï¼ˆScriptï¼‰</li></ul></li></ul><h1 id="æ—‹è½¬"><a href="#æ—‹è½¬" class="headerlink" title="æ—‹è½¬"></a>æ—‹è½¬</h1><p>xè½´æ¨ªå‘æ—‹è½¬ï¼Œè½¬åŠ¨Playerå’ŒCamera</p><p>yè½´çºµå‘æ—‹è½¬ï¼Œåªè½¬åŠ¨Camera</p><h1 id="ç§»åŠ¨"><a href="#ç§»åŠ¨" class="headerlink" title="ç§»åŠ¨"></a>ç§»åŠ¨</h1><p>ä½¿ç”¨Character Controllerçš„æ–¹æ³•</p><h1 id="é‡åŠ›"><a href="#é‡åŠ›" class="headerlink" title="é‡åŠ›"></a>é‡åŠ›</h1><p>Character Controllerä¸èƒ½ä½¿ç”¨RigidbodyğŸ¤ªï¼Œåªèƒ½ä»£ç è§£å†³</p><p>è¿˜éœ€è¦é€šè¿‡GroundCheckå’ŒLayeræ¥è§£å†³ç¢°åˆ°åœ°é¢æ—¶ä¸‹è½é€Ÿåº¦æ¸…é›¶çš„é—®é¢˜</p><h1 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h1><ul><li><p>Update()ä¸­Time.deltaTimeè·å–ä»ä¸Šæ¬¡è°ƒç”¨Update()è‡³ä»Šçš„æ—¶é—´</p></li><li><p>æ§åˆ¶çˆ¬æ¥¼æ¢¯è·¨åº¦&amp;æ–œå¡è§’åº¦ -&gt; Character Controllerä¸­è®¾ç½®</p></li></ul><img src="/images/2020/screencapture2020-12-02_PM2.00.44.jpg"><p>çœ‹æ•™ç¨‹é‡Œçš„æ€»ç»“ï¼Œç”¨Character Controllerå’Œç”¨RigidBodyæ¥æ§åˆ¶ç¡®å®æŒºä¸ä¸€æ ·çš„ï¼Œåé¢å¾—çœ‹çœ‹ç”¨å“ªä¸ªæ›´åˆé€‚</p><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class MouseLook : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    public float mouseSensitivity &#x3D; 100f;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; åœ¨Unityä¸­æŠŠPlayeræ‹–è¿‡æ¥</span><br><span class="line">    public Transform playerBody &#x3D; null;</span><br><span class="line"></span><br><span class="line">    private float xRotation &#x3D; 0f;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Start is called before the first frame update</span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Update is called once per frame</span><br><span class="line">    void Update()</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; Get Input</span><br><span class="line">        float mouseX &#x3D; Input.GetAxis(&quot;Mouse X&quot;) * mouseSensitivity * Time.deltaTime;</span><br><span class="line">        float mouseY &#x3D; Input.GetAxis(&quot;Mouse Y&quot;) * mouseSensitivity * Time.deltaTime;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; çºµå‘æ—‹è½¬Camera</span><br><span class="line">        xRotation -&#x3D; mouseY;</span><br><span class="line">        &#x2F;&#x2F; ä¸ç›´æ¥ç”¨Rotateï¼Œå› ä¸ºè¦å…ˆé™åˆ¶æ—‹è½¬è§’åº¦</span><br><span class="line">        xRotation &#x3D; Mathf.Clamp(xRotation, -30f, 30f);</span><br><span class="line">        transform.localRotation &#x3D; Quaternion.Euler(xRotation, 0f, 0f);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; æ¨ªå‘æ—‹è½¬Player</span><br><span class="line">        playerBody.Rotate(Vector3.up * mouseX);</span><br><span class="line">        Debug.Log(mouseX);</span><br><span class="line">        Debug.Log(&quot;R:&quot;+playerBody.transform.rotation);</span><br><span class="line">        Debug.Log(&quot;LR:&quot;+playerBody.transform.localRotation);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class PlayerMovement : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    public CharacterController controller;</span><br><span class="line"></span><br><span class="line">    public float speed &#x3D; 12f;</span><br><span class="line">    public float gravity &#x3D; -9.81f;</span><br><span class="line">    public float jumpHeight &#x3D; 3f;</span><br><span class="line"></span><br><span class="line">    public Transform groundCheck;</span><br><span class="line">    public float groundDistance &#x3D; 0.4f;</span><br><span class="line">    public LayerMask groundMask;</span><br><span class="line"></span><br><span class="line">    Vector3 velocity;</span><br><span class="line">    bool isGrounded;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Update is called once per frame</span><br><span class="line">    void Update()</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; é˜²æ­¢å‘ä¸‹çš„é€Ÿåº¦æ— é™å¢å¤§</span><br><span class="line">        isGrounded &#x3D; Physics.CheckSphere(groundCheck.position, groundDistance, groundMask);</span><br><span class="line"></span><br><span class="line">        if(isGrounded &amp;&amp; velocity.y &lt; 0)&#123;</span><br><span class="line">            velocity.y &#x3D; -2f;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; ç§»åŠ¨</span><br><span class="line">        float x &#x3D; Input.GetAxis(&quot;Horizontal&quot;);</span><br><span class="line">        float z &#x3D; Input.GetAxis(&quot;Vertical&quot;);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; è¿™æ ·å†™æ˜¯å…¨å±€åæ ‡ï¼Œä¸ç®¡Playeré¢å¯¹ä»€ä¹ˆæ–¹å‘</span><br><span class="line">        &#x2F;&#x2F; Vector3 move &#x3D; new Vector3(x, 0f, z);</span><br><span class="line"></span><br><span class="line">        Vector3 move &#x3D; transform.right * x + transform.forward * z;</span><br><span class="line">        controller.Move(move * speed * Time.deltaTime);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; è·³è·ƒ</span><br><span class="line">        if(Input.GetButtonDown(&quot;Jump&quot;) &amp;&amp; isGrounded)&#123;</span><br><span class="line">            velocity.y &#x3D; Mathf.Sqrt(jumpHeight * -2f * gravity);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; æ¨¡æ‹Ÿé‡åŠ›</span><br><span class="line">        velocity.y +&#x3D; gravity * Time.deltaTime;</span><br><span class="line">        controller.Move(velocity * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=_QajrabyTJc&amp;amp;ab_channel=Brackeys&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.you
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®° Project02 ç‚¹å‡»ç§»åŠ¨</title>
    <link href="http://yoursite.com/2020/12/02/unity-note/"/>
    <id>http://yoursite.com/2020/12/02/unity-note/</id>
    <published>2020-12-02T05:36:44.000Z</published>
    <updated>2020-12-02T09:26:35.690Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.youtube.com/watch?v=y_zdW5LIX5o&ab_channel=PekkeDev" target="_blank" rel="noopener">Click To Move with NavMesh - Unity 3D</a></p></blockquote><p>é€‰ä¸­åœ°é¢</p><p>çª—å£ â†’ AI â†’ å¯¼èˆª: Static &amp; Walkable</p><img src="/images/2020/screencapture2020-12-02_PM1.26.36.jpg"><p>çƒ˜ç„™ â†’ Bake</p><img src="/images/2020/screencapture2020-12-02_PM1.27.18.jpg"><p>PlayeråŠ ç»„ä»¶Nav Mesh Agent</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.AI;</span><br><span class="line"></span><br><span class="line">public class Player : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    NavMeshAgent agent;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Start is called before the first frame update</span><br><span class="line">    void Start()</span><br><span class="line">    &#123;</span><br><span class="line">        agent &#x3D; GetComponent&lt;NavMeshAgent&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Update is called once per frame</span><br><span class="line">    void Update()</span><br><span class="line">    &#123;</span><br><span class="line">        if(Input.GetMouseButtonDown(0))&#123;</span><br><span class="line">            RaycastHit hit;</span><br><span class="line">            Ray ray &#x3D; Camera.main.ScreenPointToRay(Input.mousePosition);</span><br><span class="line">            if(Physics.Raycast(ray, out hit, Mathf.Infinity))&#123;</span><br><span class="line">                agent.SetDestination(hit.point);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=y_zdW5LIX5o&amp;ab_channel=PekkeDev&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Click To Move with 
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®° Project01 Basic</title>
    <link href="http://yoursite.com/2020/11/30/note-unity/"/>
    <id>http://yoursite.com/2020/11/30/note-unity/</id>
    <published>2020-11-30T12:55:58.000Z</published>
    <updated>2020-12-02T09:20:31.015Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.youtube.com/watch?v=pwZpJzpE2lQ&amp;t=4178s&amp;ab_channel=Imphenzia" target="_blank" rel="noopener">https://www.youtube.com/watch?v=pwZpJzpE2lQ&amp;t=4178s&amp;ab_channel=Imphenzia</a></p></blockquote><img src="/images/2020/screencapture2020-11-30 PM9.13.29.jpg"><h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><ol><li><p>äººç‰©è·³è·ƒï¼Œå·¦å³ç§»åŠ¨</p><ul><li><p>è·³è·ƒé€Ÿåº¦ä¸é‡é‡æ— å…³ -&gt; ForceMode.VelocityChange</p></li><li><p>è·³è·ƒæ—¶ä¿æŒå·¦å³é€Ÿåº¦ -&gt; rigidbodyComponent.velocity</p></li><li><p>ä¸å¯åœ¨ç©ºä¸­è·³è·ƒ -&gt; æ£€æŸ¥Physics.OverlapSphere()</p></li><li><p>å·¦å³ç§»åŠ¨åŒæ—¶æ£€æŸ¥â†â†’AD -&gt; Input.GetAxis(â€œHorizontalâ€)</p></li><li><p>ç¢°åˆ°å¢™å£ä¸ä¼šå› ä¸ºé•¿æŒ‰Dè´´åœ¨å¢™ä¸Š -&gt; æ·»åŠ ç‰©ç†æè´¨ï¼Œæ‘©æ“¦åŠ›ä¸º0</p></li></ul></li><li><p>æ‘„åƒå¤´è·Ÿéšè§’è‰² -&gt; å±‚çº§æ”¾åœ¨è§’è‰²ä¸‹å³å¯</p></li><li><p>æ”¶é›†ç¡¬å¸</p><ul><li>ä¸å‘ç”Ÿç¢°æ’ -&gt; å‹¾é€‰æ˜¯è§¦å‘å™¨</li><li>æ£€æµ‹ç¢°æ’ -&gt; OnTriggerEnter()</li><li>ç¢°åˆ°åæ¶ˆé™¤ -&gt; Destroy(other.gameObject);</li></ul></li></ol><h1 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h1><ol><li>åœ¨Update()ä¸­è·å–è¾“å…¥ï¼Œåœ¨FixedUpdate()ä¸­apply physics</li><li>ç”¨[SerializeField] privateï¼Œä¸è¦ç”¨public</li><li>å‡å°‘ä¸å¿…è¦çš„Colliderï¼Œæé«˜æ•ˆç‡</li><li>å¤šç”¨Prefabï¼Œå–„ç”¨Layer</li></ol><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class Player : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    [SerializeField] private Transform groundCheckTransform &#x3D; null;</span><br><span class="line">    [SerializeField] private LayerMask playerMask;</span><br><span class="line">    private bool jumpKeyPressed;</span><br><span class="line">    private float horizontalInput;</span><br><span class="line">    private Rigidbody rigidbodyComponent;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Start is called before the first frame update</span><br><span class="line">    void Start() &#123;</span><br><span class="line">        rigidbodyComponent &#x3D; GetComponent&lt;Rigidbody&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Update is called once per frame</span><br><span class="line">    void Update() &#123;</span><br><span class="line">        horizontalInput &#x3D; Input.GetAxis(&quot;Horizontal&quot;);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Avoid jumping in the air (always colliding with the capsule collider)</span><br><span class="line">        if(Physics.OverlapSphere(groundCheckTransform.position, 0.1f, playerMask).Length &#x3D;&#x3D; 0)&#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if(Input.GetKeyDown(KeyCode.Space))&#123;</span><br><span class="line">            jumpKeyPressed &#x3D; true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; FixedUpdate is called once every physic update (Default 100&#x2F;s)</span><br><span class="line">    private void FixedUpdate() &#123;</span><br><span class="line">        if(jumpKeyPressed)&#123;</span><br><span class="line">            rigidbodyComponent.AddForce(Vector3.up * 5,ForceMode.VelocityChange);</span><br><span class="line">            jumpKeyPressed &#x3D; false;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        rigidbodyComponent.velocity &#x3D; new Vector3(horizontalInput * 2, rigidbodyComponent.velocity.y, 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void OnTriggerEnter(Collider other) &#123;</span><br><span class="line">        &#x2F;&#x2F; Collide with 9.Coin layer</span><br><span class="line">        if(other.gameObject.layer &#x3D;&#x3D; 9)&#123;</span><br><span class="line">            Destroy(other.gameObject);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=pwZpJzpE2lQ&amp;amp;t=4178s&amp;amp;ab_channel=Imphenzia&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ht
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>çœ‹æºç ç¬”è®° DeephageTP</title>
    <link href="http://yoursite.com/2020/11/19/code-note/"/>
    <id>http://yoursite.com/2020/11/19/code-note/</id>
    <published>2020-11-19T09:02:01.000Z</published>
    <updated>2020-11-19T10:16:44.490Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/chuym726/DeephageTP" target="_blank" rel="noopener">https://github.com/chuym726/DeephageTP</a></p></blockquote><h1 id="ç¯å¢ƒæ­å»º-amp-æ•°æ®å‡†å¤‡"><a href="#ç¯å¢ƒæ­å»º-amp-æ•°æ®å‡†å¤‡" class="headerlink" title="ç¯å¢ƒæ­å»º&amp;æ•°æ®å‡†å¤‡"></a>ç¯å¢ƒæ­å»º&amp;æ•°æ®å‡†å¤‡</h1><p>ï¼ˆå·²æœ‰ï¼šconda 4.9.2ï¼‰</p><ol><li><p>ä¸‹è½½<a href="https://github.com/chuym726/DeephageTP" target="_blank" rel="noopener">https://github.com/chuym726/DeephageTP</a></p></li><li><p>åˆ›å»ºæ–°çš„è™šæ‹Ÿç¯å¢ƒdeephageTP</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create --name deephageTP python&#x3D;3.6 numpy theano keras scikit-learn</span><br></pre></td></tr></table></figure><ol start="3"><li><p>æ–°å»ºå·¥ç¨‹æ–‡ä»¶å¤¹DeephageTP-testï¼ˆéœ€è¦çš„æ–‡ä»¶ä»ä¸‹è½½çš„DeephageTP-masteræ‹·ï¼‰</p></li><li><p>PyCharmæ‰“å¼€DeephageTP-testï¼Œæ¿€æ´»ç¯å¢ƒ</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate deephageTP</span><br></pre></td></tr></table></figure><img src="/images/2020/screencapture2020-11-19 PM5.23.40.jpg"><p>Python Interpreterä¹Ÿæ”¹æˆdeephageTP</p><img src="/images/2020/screencapture2020-11-19 PM5.25.35.jpg"><img src="/images/2020/screencapture2020-11-19 PM5.26.51.jpg"><h1 id="æµ‹è¯•example-data-fa"><a href="#æµ‹è¯•example-data-fa" class="headerlink" title="æµ‹è¯•example_data.fa"></a>æµ‹è¯•example_data.fa</h1><p>ä»£ç é‡Œé¢ç›´æ¥è¯»çš„training_data.faaï¼ŒXå’ŒYåº”è¯¥åœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œ</p><p>ä½†æ˜¯ç»™çš„training_data.faa.X.npy.tar.gzã€training_data.faa.Y.npy.tar.gzæ˜¯åœ¨ä¸åŒæ–‡ä»¶</p><p>äºæ˜¯å…ˆç”¨example_data.faè¯•ä¸€ä¸‹ï¼ˆé‡åˆ°bug #1ï¼Œè§£å†³è§Debugï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">(deephageTP) coconutnut@x86_64-apple-darwin13 DeephageTP-test % python DeephageTP_model_training.py</span><br><span class="line">Using TensorFlow backend.</span><br><span class="line">only amino acid code.</span><br><span class="line">ok! there is the same number (193) of labels and sequences. </span><br><span class="line">193</span><br><span class="line">193</span><br><span class="line">193</span><br><span class="line">ok! windows is 900.</span><br><span class="line">ok! raw data has been saved as a npy file example_data.fa.X&#x2F;Y</span><br><span class="line">now runing is DL_Train.</span><br><span class="line">nb_filters:  50</span><br><span class="line">kernel_s:  3</span><br><span class="line">n_batch:  10</span><br><span class="line">n_echos:  20</span><br><span class="line">dropout1:  0.1</span><br><span class="line">dropout2:  0.1</span><br><span class="line">ok! the npy file example_data.fa.X&#x2F;Y.npy are loaded!</span><br><span class="line">ok! all labels are in 4 kinds.</span><br><span class="line">193</span><br><span class="line">now training for all, Be noted here no test part !!!</span><br><span class="line">[[1. 0. 0. 0.]</span><br><span class="line"> [1. 0. 0. 0.]</span><br><span class="line"> [1. 0. 0. 0.]</span><br><span class="line">......</span><br><span class="line"> [0. 0. 0. 1.]</span><br><span class="line"> [0. 0. 0. 1.]</span><br><span class="line"> [0. 0. 0. 1.]</span><br><span class="line"> [0. 0. 0. 1.]]</span><br><span class="line">2020-11-19 17:30:03.895070: I tensorflow&#x2F;core&#x2F;platform&#x2F;cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 FMA</span><br><span class="line">To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.</span><br><span class="line">2020-11-19 17:30:03.895316: I tensorflow&#x2F;core&#x2F;common_runtime&#x2F;process_util.cc:115] Creating new thread pool with default inter op setting: 8. Tune using inter_op_parallelism_threads for best performance.</span><br><span class="line">Epoch 1&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 12s 64ms&#x2F;step - loss: 1.1962 - accuracy: 0.4767</span><br><span class="line">Epoch 2&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 11s 55ms&#x2F;step - loss: 0.4503 - accuracy: 0.8446</span><br><span class="line">Epoch 3&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 53ms&#x2F;step - loss: 0.1844 - accuracy: 0.9534</span><br><span class="line">Epoch 4&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 52ms&#x2F;step - loss: 0.1079 - accuracy: 0.9845</span><br><span class="line">Epoch 5&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 11s 55ms&#x2F;step - loss: 0.0383 - accuracy: 1.0000</span><br><span class="line">Epoch 6&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 50ms&#x2F;step - loss: 0.0203 - accuracy: 1.0000</span><br><span class="line">Epoch 7&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 12s 61ms&#x2F;step - loss: 0.0105 - accuracy: 1.0000</span><br><span class="line">Epoch 8&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 51ms&#x2F;step - loss: 0.0063 - accuracy: 1.0000</span><br><span class="line">Epoch 9&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 51ms&#x2F;step - loss: 0.0058 - accuracy: 1.0000</span><br><span class="line">Epoch 10&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 50ms&#x2F;step - loss: 0.0104 - accuracy: 0.9948</span><br><span class="line">Epoch 11&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 51ms&#x2F;step - loss: 0.0066 - accuracy: 1.0000</span><br><span class="line">Epoch 12&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 51ms&#x2F;step - loss: 0.0041 - accuracy: 1.0000</span><br><span class="line">Epoch 13&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 52ms&#x2F;step - loss: 0.0017 - accuracy: 1.0000</span><br><span class="line">Epoch 14&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 50ms&#x2F;step - loss: 0.0026 - accuracy: 1.0000</span><br><span class="line">Epoch 15&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 51ms&#x2F;step - loss: 0.0017 - accuracy: 1.0000</span><br><span class="line">Epoch 16&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 50ms&#x2F;step - loss: 0.0013 - accuracy: 1.0000</span><br><span class="line">Epoch 17&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 10s 52ms&#x2F;step - loss: 0.0011 - accuracy: 1.0000</span><br><span class="line">Epoch 18&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 9s 48ms&#x2F;step - loss: 8.4943e-04 - accuracy: 1.0000</span><br><span class="line">Epoch 19&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 9s 49ms&#x2F;step - loss: 8.9927e-04 - accuracy: 1.0000</span><br><span class="line">Epoch 20&#x2F;20</span><br><span class="line">193&#x2F;193 [&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;] - 9s 49ms&#x2F;step - loss: 0.0011 - accuracy: 1.0000</span><br><span class="line">the model (example_data.fa.all.h5) has saved!</span><br></pre></td></tr></table></figure><p>äº§ç”Ÿäº†3ä¸ªæ–‡ä»¶</p><p>example_data.fa.all.h5</p><p>example_data.fa.X.npy</p><p>example_data.fa.Y.npy</p><p>æ‰€ä»¥ç»™çš„training_data.faa.X.npy.tar.gzã€training_data.faa.Y.npy.tar.gzä¹Ÿæ˜¯ç”Ÿæˆçš„å—ï¼Ÿdataæ–‡ä»¶å¤¹é‡Œå°±ä¸€ä¸ªå«açš„ç©ºæ–‡ä»¶ï¼Œéš¾é“æ˜¯æ²¡ä¼ training_data.faaï¼ŸğŸ˜§</p><p>çœ‹äº†ä¸‹ä»£ç ï¼Œè¿˜çœŸæ˜¯ğŸ™„</p><p>aa_ref2npy()ç”¨æ¥è½¬æ ¼å¼ï¼Œå­˜æˆone-hotç¼–ç åï¼ŒXå’ŒYåˆ†å¼€çš„å½¢å¼</p><p>DL_Train()ç”¨æ¥è®­ç»ƒ</p><p>æ—¢ç„¶å¦‚æ­¤ï¼Œç›´æ¥ç”¨training_data.faa.X.npy.tar.gzã€training_data.faa.Y.npy.tar.gzè§£å‹ï¼Œä¸è·‘aa_ref2npy()ï¼Œå°±å¯ä»¥ç›´æ¥è®­ç»ƒäº†</p><h1 id="æµ‹è¯•training-data-faa"><a href="#æµ‹è¯•training-data-faa" class="headerlink" title="æµ‹è¯•training_data.faa"></a>æµ‹è¯•training_data.faa</h1><p>è§£å‹training_data.faa.X.npy.tar.gzã€training_data.faa.Y.npy.tar.gz</p><p>ï¼ˆ25.3MBè§£å‹å3.97â€†GBï¼Œæ˜¯å¾—æœ‰å¤šå°‘0å•Šï¼Œä¸æ„§æ˜¯one-hotï¼‰</p><p>ä»£ç æ”¹äº†2å¤„ï¼š</p><p>ç¬¬8è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.cross_validation import train_test_split</span><br></pre></td></tr></table></figure><p>æ”¹æˆ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.model_selection import train_test_split</span><br></pre></td></tr></table></figure><p>æœ€åçš„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if 1:</span><br><span class="line">aa_ref2npy(ref_Data&#x3D;ref_Data,len_w&#x3D;len_w)</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šæ‰</p><p>è¿è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">(deephageTP) coconutnut@x86_64-apple-darwin13 DeephageTP-test % python DeephageTP_model_training.py</span><br><span class="line">Using TensorFlow backend.</span><br><span class="line">only amino acid code.</span><br><span class="line">now runing is DL_Train.</span><br><span class="line">nb_filters:  50</span><br><span class="line">kernel_s:  3</span><br><span class="line">n_batch:  10</span><br><span class="line">n_echos:  20</span><br><span class="line">dropout1:  0.1</span><br><span class="line">dropout2:  0.1</span><br><span class="line">ok! the npy file training_data.faa.X&#x2F;Y.npy are loaded!</span><br><span class="line">ok! all labels are in 4 kinds.</span><br><span class="line">27585</span><br><span class="line">now training for all, Be noted here no test part !!!</span><br><span class="line">[[1. 0. 0. 0.]</span><br><span class="line"> [1. 0. 0. 0.]</span><br><span class="line"> [1. 0. 0. 0.]</span><br><span class="line"> ...</span><br><span class="line"> [0. 0. 0. 1.]</span><br><span class="line"> [0. 0. 0. 1.]</span><br><span class="line"> [0. 0. 0. 1.]]</span><br><span class="line">2020-11-19 17:52:30.350217: I tensorflow&#x2F;core&#x2F;platform&#x2F;cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 FMA</span><br><span class="line">To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.</span><br><span class="line">2020-11-19 17:52:30.350529: I tensorflow&#x2F;core&#x2F;common_runtime&#x2F;process_util.cc:115] Creating new thread pool with default inter op setting: 8. Tune using inter_op_parallelism_threads for best performance.</span><br><span class="line">Epoch 1&#x2F;20</span><br><span class="line"> 1250&#x2F;27585 [&gt;.............................] - ETA: 22:33 - loss: 0.5788 - accuracy: 0.8016</span><br></pre></td></tr></table></figure><p>å¤ªå¤§äº†ï¼Œä¸è·‘äº†</p><h1 id="ä»£ç åˆ†æ"><a href="#ä»£ç åˆ†æ" class="headerlink" title="ä»£ç åˆ†æ"></a>ä»£ç åˆ†æ</h1><p>è®­ç»ƒéƒ¨åˆ† DeephageTP_model_training.py</p><h2 id="aa-ref2npy"><a href="#aa-ref2npy" class="headerlink" title="aa_ref2npy()"></a>aa_ref2npy()</h2><p>åšone-hotç¼–ç ç”¨çš„</p><p>æŠŠè›‹ç™½è´¨åºåˆ—â†“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;UniRef100_A0A017QK57 PBSX family phage terminase large subunit n&#x3D;1 Tax&#x3D;Glaesserella parasuis str. Nagasaki TaxID&#x3D;1117322 RepID&#x3D;A0A017QK57_HAEPR 1</span><br><span class="line">MKIQLNLPPKLIPVFTQQNVRYRGAYGGRGSAKTRTFAKMTAVVAYQRAMQGESGVILCGREFMNSLEDSSLEEIKQAIQSEPWLTDFFEVGEKYVRTKCGRISYIFTGLRHNLDSIKSKARILLAWIDEAESVSEMAWRKLLPTVRENGSEIWLTWNPEKKGSATDLRFRQHQDESMAIVEMNYSDNPWFPDVLEQERLRDKARLDDATYRWIWEGAYLEQSEAQIFRDKFQELEFKPNGDFSGPYFGLDFGFAQDPTAAVKCWVFKDELYIEYEAGKVGLELDDTATFLQKGIVGIEQYVIRADSARPESISYLKRHGLPRIDGVSKWKGSVEDGIAHIKSYKKIYIHPRCQQTLNEFRLYSYKTDRLSGDILPVVLDENNHYIDALRYALEPLMKGRQSWFG</span><br></pre></td></tr></table></figure><p>one-hotç¼–ç ï¼Œnp.arrayæ ¼å¼ï¼Œä¿å­˜ï¼ˆåˆ†åˆ«å­˜Xå’ŒYï¼‰</p><p>æŠŠXæ‰“å‡ºæ¥çœ‹ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[[0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  å¯¹åº”M</span><br><span class="line"> [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],  å¯¹åº”K</span><br><span class="line"> [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],  å¯¹åº”I</span><br><span class="line"> [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0],</span><br><span class="line"> [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],</span><br><span class="line"> [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],</span><br><span class="line"> [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],</span><br><span class="line"> ...</span><br></pre></td></tr></table></figure><p>å°±æ˜¯å’Œè›‹ç™½è´¨åºåˆ—MKIâ€¦ä¸€ä¸€å¯¹åº”çš„one-hotç¼–ç ï¼ˆè¿˜æ˜¯æ‰‹åŠ¨å†™æ­»çš„ï¼‰</p><p>å¤§å°æ˜¯(900, 20)ï¼Œå’Œæ–‡ä¸­æè¿°ä¸€æ ·</p><p>è¿™é‡ŒYæ˜¯0ï¼Œæ ¹æ®æ¯ä¸ªè›‹ç™½è´¨ç¬¬ä¸€è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;UniRef100_A0A017QK57 PBSX family phage terminase large subunit n&#x3D;1 Tax&#x3D;Glaesserella parasuis str. Nagasaki TaxID&#x3D;1117322 RepID&#x3D;A0A017QK57_HAEPR 1</span><br></pre></td></tr></table></figure><p>æœ€åè¿™ä¸ªæ•°å­—-1è¡¨ç¤ºç±»åˆ«</p><p>å¦‚ä¸‹é¢è¿™ä¸ªè›‹ç™½çš„ç±»åˆ«æ˜¯2</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;UniRef100_A0A072NPV4 Phage terminase, small subunit n&#x3D;1 Tax&#x3D;Bacillus azotoformans MEV2011 TaxID&#x3D;1348973 RepID&#x3D;A0A072NPV4_BACAZ 3</span><br><span class="line">MAKDGTNRGGARVGAGAKKKPLTDKIAEGNPGGRKLTVMEFKDTADLKGLEMPEPNKMLEAIQKDGKALVAGEIYRNTWAWLNERGCAALVSPQLLERYAMSVARWIQCEEAVTEYGFLAKHPTTGNAIQSPYVAMGQNYMNQTNRLWMEIFQIVKENCTGEYSGINPQDDVMERLLTARRGK</span><br></pre></td></tr></table></figure><h2 id="DL-Train"><a href="#DL-Train" class="headerlink" title="DL_Train()"></a>DL_Train()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">DL_Train</span><span class="params">(ref_Data, len_w)</span>:</span></span><br><span class="line"><span class="comment"># å‚æ•°è®¾ç½®</span></span><br><span class="line">nb_filters = <span class="number">50</span></span><br><span class="line">kernel_s = <span class="number">3</span></span><br><span class="line">n_batch = <span class="number">10</span></span><br><span class="line">n_echos = <span class="number">20</span></span><br><span class="line">dropout1 = <span class="number">0.10</span></span><br><span class="line">dropout2 = <span class="number">0.10</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"now runing is DL_Train."</span>)</span><br><span class="line"><span class="comment"># end_lossrint("all is ended.")</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"nb_filters: "</span>, nb_filters)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"kernel_s: "</span>, kernel_s)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"n_batch: "</span>, n_batch)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"n_echos: "</span>, n_echos)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"dropout1: "</span>, dropout1)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"dropout2: "</span>, dropout2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†æ•°æ®</span></span><br><span class="line">X2 = np.load(ref_Data + <span class="string">".X.npy"</span>)</span><br><span class="line">Y2 = np.load(ref_Data + <span class="string">".Y.npy"</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"ok! the npy file "</span> + ref_Data + <span class="string">".X/Y.npy are loaded!"</span> )</span><br><span class="line">n_classes = <span class="number">4</span>    <span class="comment">#len(np.unique(Y))</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"ok! all labels are in "</span> + str(n_classes) + <span class="string">" kinds."</span> )</span><br><span class="line">YY_t = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> Y2:</span><br><span class="line">ll = np.zeros(n_classes)</span><br><span class="line">ll[i] = <span class="number">1</span></span><br><span class="line">YY_t.append(ll)</span><br><span class="line">YY_t = np.array(YY_t)</span><br><span class="line">print(len(YY_t))</span><br><span class="line">print(<span class="string">"now training for all, Be noted here no test part !!!"</span>)</span><br><span class="line">X_train = X2.reshape(<span class="number">-1</span>,<span class="number">1</span>,len_w,matrix_size)</span><br><span class="line">Y_train = YY_t</span><br><span class="line">print(Y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„å»ºæ¨¡å‹</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(Conv2D(filters=nb_filters,kernel_size=(<span class="number">7</span>,<span class="number">1</span>),padding=<span class="string">'same'</span>,input_shape=(<span class="number">1</span>,len_w,matrix_size),data_format=<span class="string">'channels_first'</span>))</span><br><span class="line">model.add(Activation(<span class="string">'relu'</span>))</span><br><span class="line">model.add(MaxPooling2D(pool_size=(<span class="number">3</span>,<span class="number">3</span>)))</span><br><span class="line">model.add(Dropout(dropout1))</span><br><span class="line">model.add(Flatten())</span><br><span class="line">model.add(Dense(<span class="number">100</span>,activation=<span class="string">'relu'</span>))</span><br><span class="line">model.add(Dropout(dropout2))</span><br><span class="line">model.add(Dense(n_classes,activation=<span class="string">'softmax'</span>))</span><br><span class="line">model.compile(loss=<span class="string">'categorical_crossentropy'</span>,optimizer=Adam(),metrics=[<span class="string">'accuracy'</span>])   </span><br><span class="line"></span><br><span class="line"><span class="comment"># è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">model.fit(X_train,Y_train,batch_size=n_batch,epochs=n_echos,verbose=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿å­˜æ¨¡å‹</span></span><br><span class="line">model.save(ref_Data + <span class="string">'.all.h5'</span>)</span><br><span class="line">print(<span class="string">"the model ("</span> + ref_Data + <span class="string">".all.h5) has saved!"</span>)</span><br></pre></td></tr></table></figure><h1 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h1><h3 id="1"><a href="#1" class="headerlink" title="#1"></a>#1</h3><p>ç¬¬ä¸€æ¬¡è·‘DeephageTP_model_training.pyæ—¶é‡åˆ°çš„bug</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ModuleNotFoundError: No module named &#39;sklearn.cross_validation&#39;</span><br></pre></td></tr></table></figure><p>è§£å†³ï¼š</p><p><a href="https://blog.csdn.net/qq_35962520/article/details/85295228" target="_blank" rel="noopener">https://blog.csdn.net/qq_35962520/article/details/85295228</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># from sklearn.cross_validation import train_test_split # cross_validationä¸å†ä½¿ç”¨ï¼Œç§»è‡³model_selection</span><br><span class="line">from sklearn.model_selection import train_test_split</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/chuym726/DeephageTP&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/chuym726/DeephageTP&lt;/a&gt;&lt;/
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="bioinformatics" scheme="http://yoursite.com/tags/bioinformatics/"/>
    
  </entry>
  
  <entry>
    <title>è¯»è®ºæ–‡ç¬”è®° DeephageTP</title>
    <link href="http://yoursite.com/2020/11/19/paper-note/"/>
    <id>http://yoursite.com/2020/11/19/paper-note/</id>
    <published>2020-11-19T07:39:03.000Z</published>
    <updated>2020-11-19T09:02:48.965Z</updated>
    
    <content type="html"><![CDATA[<p><strong>DeephageTP: A Convolutional Neural Network Framework for Identifying Phage-specific Proteins from metagenomic sequencing data<br> Running title: an alignment-free deep learning framework for identifying phage- specific proteins</strong></p><p>å‚è€ƒï¼šåŸæ–‡ &amp; Github <a href="https://github.com/chuym726/DeephageTP" target="_blank" rel="noopener">https://github.com/chuym726/DeephageTP</a></p><hr><h1 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h1><p>3 specific proteins of the tailed phage:</p><ol><li>Portal (portal protein)</li><li>TerL (large terminase subunit protein) </li><li>TerS (small terminase subunit protein)</li></ol><p>Develop a <strong>CNN-based framework</strong> to identify these 3 proteins from <strong>metagenome data</strong></p><h1 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h1><h2 id="train-test-set"><a href="#train-test-set" class="headerlink" title="train/test set"></a>train/test set</h2><p>(åŸæ–‡ä½ç½®ï¼š106-127è¡Œ)</p><p>æ¥æºï¼šUniport(<a href="http://www.uniprot.org" target="_blank" rel="noopener">www.uniprot.org</a>)</p><p>é¢„å¤„ç†è¿‡ç¨‹ï¼š</p><ol><li><p>ä»æ•°æ®åº“ä¸­è·å–å„ç±»è›‹ç™½è´¨åºåˆ—</p><blockquote><p>according to the taxonomy in the UniProt database, all proteins in archaea, bacteria and viruses were obtained from the database;</p></blockquote><p>çœ‹example_data.faæ–‡ä»¶ï¼Œé•¿è¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;UniRef100_A0A017QK57 PBSX family phage terminase large subunit n&#x3D;1 Tax&#x3D;Glaesserella parasuis str. Nagasaki TaxID&#x3D;1117322 RepID&#x3D;A0A017QK57_HAEPR 1</span><br><span class="line">MKIQLNLPPKLIPVFTQQNVRYRGAYGGRGSAKTRTFAKMTAVVAYQRAMQGESGVILCGREFMNSLEDSSLEEIKQAIQSEPWLTDFFEVGEKYVRTKCGRISYIFTGLRHNLDSIKSKARILLAWIDEAESVSEMAWRKLLPTVRENGSEIWLTWNPEKKGSATDLRFRQHQDESMAIVEMNYSDNPWFPDVLEQERLRDKARLDDATYRWIWEGAYLEQSEAQIFRDKFQELEFKPNGDFSGPYFGLDFGFAQDPTAAVKCWVFKDELYIEYEAGKVGLELDDTATFLQKGIVGIEQYVIRADSARPESISYLKRHGLPRIDGVSKWKGSVEDGIAHIKSYKKIYIHPRCQQTLNEFRLYSYKTDRLSGDILPVVLDENNHYIDALRYALEPLMKGRQSWFG</span><br><span class="line">&gt;UniRef100_A0A017QKX8 PBSX family phage terminase large subunit n&#x3D;1 Tax&#x3D;Glaesserella parasuis str. Nagasaki TaxID&#x3D;1117322 RepID&#x3D;A0A017QKX8_HAEPR 1</span><br><span class="line">MKIQLNLPPKLIPVFTQQNVRYRGAYGGRGSAKTRTFAKMTAVVAYQRAMQGESGVILCGREFMNSLEDSSLEEIKQAIQSEPWLANFFDVGEKYVHTKCGRISYIFTGLRHNLDSIKSKARILLAWIDEAESVSEMAWRKLLPTVRESGSEIWLTWNPEKKGSATDLRFRQYQDESMAIVEMNYNDNPWFPDVLKQERLRDKARLDDATYRWIWEGDYLEESEAQVFRGKYQELEFKPLPDFEGPYHGLDFGFAQDPTAAIKCWVFKDELYIEYEAGKVGLELDDTATFLQKGIVGIEQYVIRADSARPESISYLKRHGLPRIDGVSKWKGSVEDGIAHIKSYKKIYIHPRCQQTLNEFRLYSYKTDRLSGDVLPTLVDAHNHYIDALRYALNPRIQRKGDFSQNPLKLY</span><br><span class="line">...</span><br></pre></td></tr></table></figure></li><li><p>å»é™¤æ— å…³æ•°æ®</p><blockquote><p>the protein sequences were searched by the keywords (i.e., portal, large terminase subunit, and small terminase subunit), and the noise sequences with the uncertain keywords (e.g., hypothetical, possible, like, predicted) were removed to ensure that the selected protein sequences in the three categories are veracious;</p></blockquote></li><li><p>å…¶å®ƒç±»è¿‡å¤šï¼Œéšæœºç•™ä¸€éƒ¨åˆ†</p><blockquote><p>the remaining sequences without the keywords of interest (portal, large terminase subunit and, small terminase subunit) were labeled as the â€˜othersâ€™ category. However, the size of the â€˜othersâ€™ category is more than 75 times larger than that of the three categories. To relieve the class-imbalance problem brought by this situation, we randomly selected 20000 protein sequences  from the remaining sequences and labeled as the â€˜othersâ€™ category;</p></blockquote></li><li><p>å»é™¤ä¸æ­£å¸¸é•¿åº¦çš„åºåˆ—</p><blockquote><p>to further guarantee that the sequences from the database with the three categories are veracious, we calculated length distribution of these sequences (see Fig. S1), then manually checked the sequences with the abnormal length (&lt;5% and &gt; 95%) using Blastp (<a href="https://blast.ncbi.nlm.nih.gov/Blast.cgi" target="_blank" rel="noopener">https://blast.ncbi.nlm.nih.gov/Blast.cgi</a>) against NCBI nr database, and the sequences without hitting to the targeted references were filtered out (almost all the sequences with abnormal length) and labeled as the â€˜othersâ€™ category.</p></blockquote></li></ol><p>æœ€ç»ˆç»“æœï¼š</p><img src="/images/2020/screencapture2020-11-19 PM4.09.05.jpg"><h2 id="mimic-metagenomic-dataset"><a href="#mimic-metagenomic-dataset" class="headerlink" title="mimic metagenomic dataset"></a>mimic metagenomic dataset</h2><p>(åŸæ–‡ä½ç½®ï¼š128-140è¡Œ)</p><p>æ¥æºï¼šUniRef100 (<a href="https://www.uniprot.org/uniref/" target="_blank" rel="noopener">https://www.uniprot.org/uniref/</a>)</p><p>å¤„ç†è¿‡ç¨‹å’Œä¸Šé¢ç±»ä¼¼</p><p>ä¸”ï¼š2ä¸ªæ•°æ®åº“æœ‰é‡åˆï¼Œæ‰‹åŠ¨åˆ é™¤é‡åˆéƒ¨åˆ†</p><p>ç”¨è¿™ç»„æ•°æ®æµ‹è¯•äº†æ¨¡å‹åœ¨ä¸åŒæ•°æ®é›†å¤§å°ä¸Šçš„è¡¨ç°æ•ˆæœ</p><h2 id="virome-dataset"><a href="#virome-dataset" class="headerlink" title="virome dataset"></a>virome dataset</h2><p>(åŸæ–‡ä½ç½®ï¼š141-147è¡Œ)</p><p>ç”¨äºæµ‹è¯•æ¨¡å‹åœ¨çœŸå®æ•°æ®é›†ä¸Šçš„ç»“æœ</p><p>è¿™ç»„æ˜¯åŸå§‹æ•°æ®ï¼Œè‡ªè¡Œè·å–è›‹ç™½è´¨åºåˆ—</p><h2 id="3ä¸ªæ•°æ®é›†çš„ç”¨é€”"><a href="#3ä¸ªæ•°æ®é›†çš„ç”¨é€”" class="headerlink" title="3ä¸ªæ•°æ®é›†çš„ç”¨é€”"></a>3ä¸ªæ•°æ®é›†çš„ç”¨é€”</h2><p>(åŸæ–‡ä½ç½®ï¼š193-197è¡Œ + Fig.1A)</p><ol><li>ç”¨train/test setè®­ç»ƒæ¨¡å‹ï¼Œåˆ†æå¯è¡Œæ€§</li><li>ç”¨mimic datasetæµ‹è¯•cutoff value</li><li>ç”¨virome datasetæµ‹è¯•çœŸå®æ•ˆæœ</li></ol><blockquote><p>In summary, as shown in Fig. 1A, in this study, the proposed DeephageTP framework was firstly implemented on the training dataset for feasibility analysis, and then the trained model was applied on the mimic dataset for test and the cutoff value of each category of interest was determined according to the responding loss values distributions; finally, we applied the trained model on the real metagenomic datasets for examining the performance of our framework.</p></blockquote><img src="/images/2020/screencapture2020-11-19 PM3.47.08.jpg"><h1 id="è›‹ç™½è´¨åºåˆ—ç¼–ç "><a href="#è›‹ç™½è´¨åºåˆ—ç¼–ç " class="headerlink" title="è›‹ç™½è´¨åºåˆ—ç¼–ç "></a>è›‹ç™½è´¨åºåˆ—ç¼–ç </h1><p>(åŸæ–‡ä½ç½®ï¼š148-161è¡Œ)</p><p>æ–¹æ³•ï¼šone-hot</p><p>å¯¹20ä¸ªæ°¨åŸºé…¸è¿›è¡Œone-hotç¼–ç ï¼Œ1ä¸ªæ°¨åŸºé…¸å 20ä½</p><img src="/images/2020/screencapture2020-11-19 PM4.20.48.jpg" width="300px"><p>Lä¸ªæ°¨åŸºé…¸çš„è›‹ç™½è´¨åºåˆ—å°†è¢«ç¼–ç æˆ L * 20 çš„çŸ©é˜µ</p><p>è¾“å…¥éœ€è¦å›ºå®šï¼Œæ•…è®¾ç½®æœ€å¤§é•¿åº¦ä¸º900ï¼Œå¤šäº†ç æ‰ï¼Œå°‘äº†å¡«0</p><p>æœ€ç»ˆæ¯ä¸ªè›‹ç™½è´¨åºåˆ—éƒ½è¢«ç¼–ç æˆ 900 * 20 çš„çŸ©é˜µï¼Œä½œä¸ºè¾“å…¥</p><h1 id="æ¨¡å‹"><a href="#æ¨¡å‹" class="headerlink" title="æ¨¡å‹"></a>æ¨¡å‹</h1><h2 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h2><p>(åŸæ–‡ä½ç½®ï¼š163-170è¡Œ)</p><ol><li><p>è¾“å…¥å±‚ (ReLu)</p></li><li><p>å·ç§¯å±‚</p></li><li><p>æœ€å¤§æ± åŒ–å±‚ (dropout)</p></li><li><p>å…¨è¿æ¥å±‚1 (ReLu) (dropout)</p></li><li><p>å…¨è¿æ¥å±‚2</p></li><li><p>è¾“å‡ºå±‚ (SoftMax)</p></li></ol><img src="/images/2020/screencapture2020-11-19 PM4.20.481.jpg"><h2 id="è¶…å‚æ•°é€‰æ‹©"><a href="#è¶…å‚æ•°é€‰æ‹©" class="headerlink" title="è¶…å‚æ•°é€‰æ‹©"></a>è¶…å‚æ•°é€‰æ‹©</h2><p>(åŸæ–‡ä½ç½®ï¼š171-189è¡Œ)</p><p>å…¨è¿æ¥å•å…ƒæ•°é‡ã€dropout rateã€learning rateç­‰çš„å–å€¼ï¼Œå¤§éƒ¨åˆ†æ˜¯å¸¸ç”¨çš„é»˜è®¤å€¼ï¼›ä¸€äº›ç”¨5-fold cross-validationç¡®å®š</p><p>20ä¸ªæ°¨åŸºé…¸åˆ†æˆ7ç»„ï¼ˆæ ¹æ®dipole moments &amp; side-chainï¼‰ï¼š {A,G,V}, {I,L,F,P}, {Y,M,T,S}, {H,N,Q,W}, {R,K}, {D,E} and {C} -&gt; å·ç§¯å±‚filterå¤§å°è®¾ç½®ä¸º 7 * 1</p><h2 id="æ¨¡å‹è¯„ä¼°æŒ‡æ ‡"><a href="#æ¨¡å‹è¯„ä¼°æŒ‡æ ‡" class="headerlink" title="æ¨¡å‹è¯„ä¼°æŒ‡æ ‡"></a>æ¨¡å‹è¯„ä¼°æŒ‡æ ‡</h2><p>(åŸæ–‡ä½ç½®ï¼š198-213è¡Œ)</p><ul><li>Accuracy</li><li>Precision</li><li>Recall</li><li>F1-score</li></ul><h2 id="Lossè®¡ç®—"><a href="#Lossè®¡ç®—" class="headerlink" title="Lossè®¡ç®—"></a>Lossè®¡ç®—</h2><p>(åŸæ–‡ä½ç½®ï¼š214-234è¡Œ)</p><img src="/images/2020/screencapture2020-11-19 PM4.50.00.jpg"><p>yk ç¬¬kç»´çš„åºåˆ—çš„çœŸå®æ ‡ç­¾</p><p>pk ç¬¬kç»´çš„åºåˆ—çš„é¢„æµ‹æ ‡ç­¾</p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>(åŸæ–‡ä½ç½®ï¼š190-192è¡Œ)</p><p>Python 3.6</p><p>Keras</p><p><a href="https://github.com/chuym726/DeephageTP" target="_blank" rel="noopener">https://github.com/chuym726/DeephageTP</a></p><h1 id="æ²¡çœ‹æ‡‚çš„"><a href="#æ²¡çœ‹æ‡‚çš„" class="headerlink" title="æ²¡çœ‹æ‡‚çš„"></a>æ²¡çœ‹æ‡‚çš„</h1><ol><li>cutoff valueæ˜¯åšä»€ä¹ˆçš„ï¼Ÿæ€ä¹ˆç®—çš„ï¼Ÿ</li><li>lossæ€ä¹ˆç®—çš„ï¼Ÿ</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;DeephageTP: A Convolutional Neural Network Framework for Identifying Phage-specific Proteins from metagenomic sequencing data&lt;br&gt;
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="bioinformatics" scheme="http://yoursite.com/tags/bioinformatics/"/>
    
  </entry>
  
  <entry>
    <title>è¯»è®ºæ–‡ç¬”è®° ANN to Detect Structural Proteins</title>
    <link href="http://yoursite.com/2020/11/13/reading-note/"/>
    <id>http://yoursite.com/2020/11/13/reading-note/</id>
    <published>2020-11-13T07:15:21.000Z</published>
    <updated>2020-11-14T03:27:08.465Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Artificial Neural Networks Trained to Detect Viral and Phage Structural Proteins</strong></p><h1 id="æ•°æ®"><a href="#æ•°æ®" class="headerlink" title="æ•°æ®"></a>æ•°æ®</h1><p>æ¥æºï¼šGenBankâ€™s non-redun- dant database</p><p>åŸå§‹æ•°æ®ï¼š</p><ul><li><p>æ­£æ ·æœ¬ï¼š6000+å™¬èŒä½“ç»“æ„è›‹ç™½åºåˆ—</p></li><li><p>è´Ÿæ ·æœ¬ï¼š6000+å™¬èŒä½“å’ŒåŸæ ¸åŸºå› ç»„éç»“æ„è›‹ç™½åºåˆ—</p></li></ul><p>å¤„ç†åçš„ç½‘ç»œè¾“å…¥ï¼šæ°¨åŸºé…¸ç™¾åˆ†æ¯”ç»„æˆï¼ˆäººå·¥æ ‡è®°æ¯ä¸ªæ ·æœ¬æ˜¯/ä¸æ˜¯ç»“æ„è›‹ç™½ï¼‰</p><p>ç›®çš„ï¼šæœ‰ä¸€æ®µæ–°çš„åºåˆ—ï¼Œè®¡ç®—æ°¨åŸºé…¸ç™¾åˆ†æ¯”ç»„æˆï¼Œè¾“å…¥ç½‘ç»œï¼Œé¢„æµ‹æ˜¯å¦ä¸ºç»“æ„è›‹ç™½</p><h1 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h1><h2 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h2><p>ç›®æ ‡ï¼šæ‰¾æœ€ä½³çš„ç½‘ç»œç»“æ„&amp;æ•°æ®é›†åˆ’åˆ†</p><p>å¤‡é€‰ç½‘ç»œç»“æ„ï¼š</p><ul><li>éšè—å±‚1ï¼Œ1~100ä¸ªç¥ç»å…ƒ</li><li>éšè—å±‚2ï¼Œ1~30ä¸ªç¥ç»å…ƒ</li></ul><p>å¤‡é€‰train/validation setåˆ’åˆ†ï¼š</p><ul><li>50:50, 60:40, 70:30, 80:20, 95:5</li></ul><p>éªŒè¯æ–¹æ³•ï¼š160-foldäº¤å‰éªŒè¯ï¼ˆå›¾3Aç”»çš„æ˜¯10-foldäº¤å‰éªŒè¯çš„ç»“æœï¼‰</p><p>éªŒè¯ç»“æœï¼š</p><ol><li><p>è¾“å…¥å±‚ï¼ˆ20ä¸ªè¾“å…¥å•å…ƒï¼‰+ 1ä¸ªéšè—å±‚ï¼ˆ90ä¸ªç¥ç»å…ƒï¼‰+ è¾“å‡ºå±‚ï¼ˆ1ä¸ªè¾“å‡ºå•å…ƒï¼‰è¡¨ç°æœ€å¥½ï¼Œå‡†ç¡®ç‡85.6%</p></li><li><p>train/validation setåˆ’åˆ†80:20è¡¨ç°æœ€å¥½ï¼Œå‡†ç¡®ç‡86.2%</p></li><li><p>ç”±äºæ²¡æœ‰å¾ˆå¤§å·®åˆ«ï¼Œæœ€ç»ˆé€‰äº†160ä¸ªç½‘ç»œï¼ŒæŠ•ç¥¨å†³å®š</p></li></ol><h2 id="æ›´å¤šå·¥ä½œ"><a href="#æ›´å¤šå·¥ä½œ" class="headerlink" title="æ›´å¤šå·¥ä½œ"></a>æ›´å¤šå·¥ä½œ</h2><p>å…³æ³¨å¯¹ç»“æ„è›‹ç™½äºšç±»çš„åˆ†ç±»ç»“æœï¼Œå¦‚ï¼šæ˜¯å¦æ˜¯è¡£å£³ç»“æ„è›‹ç™½</p><p>å³è¾“å…¥æ•°æ®çš„æ ‡è®°ï¼ŒåŸæ¥æ ‡è®°æ˜¯å¦ä¸ºç»“æ„è›‹ç™½ï¼Œç°åœ¨æ ‡è®°æ˜¯å¦ä¸ºè¡£å£³ç»“æ„è›‹ç™½ï¼Œé‡æ–°è®­ç»ƒç½‘ç»œï¼Œè¯„ä¼°åˆ†ç±»å‡†ç¡®åº¦</p><p>è¿˜åšäº†é’ˆå¯¹å¤ç»†èŒå’ŒçœŸæ ¸ç”Ÿç‰©è¡£å£³è›‹ç™½çš„</p><p>Isoelectric pointï¼Ÿæ²¡çœ‹æ‡‚</p><h1 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h1><p>Neural Network Toolbox 7.0 in Matlab version 7.6.0.324</p><p>computations and data manipulations were done with Java, UNIX shell utilities, and Perl and Bash scripts</p><h1 id="web-interface"><a href="#web-interface" class="headerlink" title="web interface"></a>web interface</h1><p><a href="https://vdm.sdsu.edu/ivireons/" target="_blank" rel="noopener">https://vdm.sdsu.edu/ivireons/</a></p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>éšä¾¿ä¸ŠGenbankæ‰¾äº†ä¸€ä¸ªåºåˆ—<a href="https://www.ncbi.nlm.nih.gov/protein/SYW18879.1" target="_blank" rel="noopener">https://www.ncbi.nlm.nih.gov/protein/SYW18879.1</a></p><p>ä¸‹è½½FASTAæ ¼å¼</p><p>sequence.fasta:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;SYW18879.1 putative transcriptional regulator (Immunity repressor; phage) [Oenococcus oeni]</span><br><span class="line">MENKPNIAKNIREIRIKEDLTQEKLAELSGLSINFVSRLERSNNQNVSINKLEAIASALKVDIWRLLKSN</span><br><span class="line">DSEINKKEFPLHTKILFDKLSEFDPERSDRISKTILSLLEELELKQK</span><br></pre></td></tr></table></figure><p>æäº¤æµ‹è¯•</p><img src="/images/2020/screencapture2020-11-14 AM11.19.45.jpg"><p><strong>Structural, MCP, &amp; Tail Protein Network Predictions</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">AnnotationStructural</span><br><span class="line">MCP 1:1</span><br><span class="line">MCP 2:1</span><br><span class="line">MCP 3:1</span><br><span class="line">MCP 4:1</span><br><span class="line">MCP 7:1</span><br><span class="line">MCP Lambda:1</span><br><span class="line">MCP Lambda2:1</span><br><span class="line">Tail 1:1</span><br><span class="line">Tail 2:1</span><br><span class="line">Tail 3:1</span><br><span class="line">Tail 4:1</span><br><span class="line">Tail 7:1</span><br><span class="line">Tail Lambda:1</span><br><span class="line">Tail Lambda2:1</span><br><span class="line">SDSSD MCP 1:1</span><br><span class="line">SD MCP 2:1</span><br><span class="line">SD MCP 3:1</span><br><span class="line">SD MCP 4:1</span><br><span class="line">SD MCP 7:1</span><br><span class="line">SD MCP Lambda:1</span><br><span class="line">SD MCP Lambda2:1</span><br><span class="line">SD Tail 1:1</span><br><span class="line">SD Tail 2:1</span><br><span class="line">SD Tail,3:1</span><br><span class="line">SD Tail 4:1</span><br><span class="line">SD Tail 7:1</span><br><span class="line">SD Tail Lambda:1</span><br><span class="line">SD Tail Lambda2:1</span><br></pre></td></tr></table></figure><p><strong>Percent Compositions and Isoelectric Point Estimates (last column)</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0.0427 0.0000 0.0513 0.1197 0.0342 0.0085 0.0085 0.1026 0.1197 0.1453 0.0085 0.0855 0.0256 0.0256 0.0598 0.1026 0.0256 0.0256 0.0085 0.0000 9.07</span><br></pre></td></tr></table></figure><p>æ ¹æ®<a href="http://vdm.sdsu.edu/ivireons/interpret.html" target="_blank" rel="noopener">interpret your results</a>çš„æç¤ºâ€¦æ²¡çœ‹æ‡‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;Artificial Neural Networks Trained to Detect Viral and Phage Structural Proteins&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&quot;æ•°æ®&quot;&gt;&lt;a href=&quot;#æ•°æ®&quot; class=&quot;he
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="bioinformatics" scheme="http://yoursite.com/tags/bioinformatics/"/>
    
  </entry>
  
  <entry>
    <title>AR Foundationç¬”è®°05 Gaze Interaction</title>
    <link href="http://yoursite.com/2020/09/28/note-arfoundation-05/"/>
    <id>http://yoursite.com/2020/09/28/note-arfoundation-05/</id>
    <published>2020-09-28T13:31:47.000Z</published>
    <updated>2020-09-28T15:49:36.200Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.youtube.com/watch?v=OE66gtiF8QQ&amp;ab_channel=ThirdAurora" target="_blank" rel="noopener">https://www.youtube.com/watch?v=OE66gtiF8QQ&amp;ab_channel=ThirdAurora</a></p></blockquote><hr><h1 id="First-Try-Failed"><a href="#First-Try-Failed" class="headerlink" title="First Try (Failed)"></a>First Try (Failed)</h1><h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><p>start from : <a href="https://github.com/Third-Aurora/ARFoundationExample" target="_blank" rel="noopener">https://github.com/Third-Aurora/ARFoundationExample</a> </p><p>æ–°å»ºä¸€ä¸ªProject03ï¼ŒæŠŠAssetsæ‹·è¿›å»</p><p>èµ„æºç®¡ç†å™¨é‡Œ+ARFoundation &amp; AR Core</p><p>åˆ‡æ¢å¹³å°åˆ°Androidï¼Œä¸€ç³»åˆ—è®¾ç½®åŒç¬”è®°01</p><h2 id="Content-Parent"><a href="#Content-Parent" class="headerlink" title="Content Parent"></a>Content Parent</h2><p>å·²å¯¼å…¥èµ„æºï¼š</p><img src="/images/2020/screencapture2020-09-28 PM9.39.17.jpg" width=300><p>Content Parent -&gt; Cube xyzéƒ½æ”¹æˆ0.5</p><p>åˆ›å»ºç©ºå¯¹è±¡å«SectionInfo</p><p>åˆ›å»º3D Object Quadå«InfoParent</p><p>æŠŠSectionInfoæ‹–é«˜ä¸€ç‚¹ Y-&gt;1.5</p><p>æ—‹è½¬InfoParent Y-&gt;180 ç¼©æ”¾ X-&gt;2</p><h2 id="Materials"><a href="#Materials" class="headerlink" title="Materials"></a>Materials</h2><p>Assetsä¸­æ–°å»ºæ–‡ä»¶å¤¹Materials</p><p>åˆ›å»ºæè´¨transï¼Œæ‹–åˆ°InfoParentä¸Š</p><p>é¢œè‰²ï¼šBlack 0.7Opacity</p><p>Rendering Modeï¼šTransparent</p><p>å¦å¤–åˆ›å»ºä¸€ä¸ªblueæè´¨ï¼Œæ‹–åˆ°cubeä¸Š</p><h2 id="InfoParent"><a href="#InfoParent" class="headerlink" title="InfoParent"></a>InfoParent</h2><p>InfoParentä¸‹åˆ›å»ºCubeï¼Œè°ƒæ•´ä¸€ä¸‹ä½ç½®</p><img src="/images/2020/screencapture2020-09-28 PM9.50.14.jpg"><p>ä¹Ÿç”¨transæè´¨</p><p>åˆ›å»ºText - TextMeshProï¼Œimport TMP essentials</p><p>è°ƒæ•´å¤§å°ï¼Œæ–‡å­—å±…ä¸­ï¼ŒAuto Sizeï¼ˆmin 0ï¼Œmax 1000ï¼‰</p><img src="/images/2020/screencapture2020-09-28 PM10.11.12.jpg"><p>InfoParentæ‹–æˆå’ŒSectionInfoåŒçº§</p><p>æ‹–åŠ¨SectionInfoçš„é”šç‚¹é«˜åº¦å’ŒCubeä¸Šæ–¹å¯¹é½</p><p>å†æŠŠInfoParentæ‹–è¿›å»</p><p>æ­¤æ—¶è°ƒæ•´SetcionInfo Scaleçš„yï¼Œç‰Œå­åƒä»Boxé‡Œå‡ºæ¥</p><p>(Text -&gt; Extra Setting -&gt; Order in Layeræ”¹æˆ1 )</p><h2 id="Script"><a href="#Script" class="headerlink" title="Script"></a>Script</h2><ol><li>è®©SectionInfoå‡ºç°</li></ol><p>æ–°å»ºScriptå«InfoBehaviorï¼Œæ‹–åˆ°Cubeä¸Š</p><p>å¹¶æŠŠSetionInfoæ‹–åˆ°å˜é‡ä¸Š</p><img src="/images/2020/screencapture2020-09-28 PM10.42.07.jpg"><ol start="2"><li>SectionInfoæ—‹è½¬å¯¹å‡†æ‘„åƒå¤´</li></ol><p>æ–°å»ºscriptå«FaceCamera</p><p>AR Cameraæ ‡ç­¾ä¸ºMainCamera</p><p>scriptæ‹–åˆ°SectionInfoä¸Š</p><p>æ­¤æ—¶æ‹–åŠ¨cameraï¼Œç‰Œå­å°±ä¼šè·Ÿç€åŠ¨äº†ï¼ˆä¸è¡Œå°±åˆ äº†scriptç„¶åé‡æ–°æ‹–è¿›å»ï¼‰</p><img src="/images/2020/screencapture2020-09-28 PM11.18.36.jpg" width=400><ol start="3"><li>Gaze</li></ol><p>CubeåŠ æ ‡ç­¾hasInfo</p><img src="/images/2020/screencapture2020-09-28 PM11.26.14.jpg" width=400><p>æ–°å»ºscriptå«Gazeï¼Œæ‹–åˆ°MainCameraä¸Š</p><hr><p>æµ‹è¯•å¹¶æ²¡æœ‰é¢„æœŸæ•ˆæœï¼Ÿ</p><p>è€Œä¸”ä¹‹å‰å¯¼å…¥çš„ä¸€å †Assetså¹¶æ²¡æœ‰ç”¨åˆ°ï¼Ÿ</p><p>é‡æ–°åˆ›å»ºç©ºç™½é¡¹ç›®è¯•è¯•</p><hr><h1 id="Second-Try"><a href="#Second-Try" class="headerlink" title="Second Try"></a>Second Try</h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=OE66gtiF8QQ&amp;amp;ab_channel=ThirdAurora&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="ar" scheme="http://yoursite.com/tags/ar/"/>
    
  </entry>
  
  <entry>
    <title>AR Foundationç¬”è®°04 Tap to Place Objects in AR</title>
    <link href="http://yoursite.com/2020/09/28/note-arfoundation-04/"/>
    <id>http://yoursite.com/2020/09/28/note-arfoundation-04/</id>
    <published>2020-09-28T13:05:16.000Z</published>
    <updated>2020-09-28T13:26:42.554Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.youtube.com/watch?v=xguiSueY1Lw&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=5&amp;ab_channel=DineshPunni" target="_blank" rel="noopener">https://www.youtube.com/watch?v=xguiSueY1Lw&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=5&amp;ab_channel=DineshPunni</a></p></blockquote><hr><p>(æ¥ç¬”è®°03)</p><p>Create New Folder (Scripts)</p><p>Create C# Script</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.XR.ARFoundation;</span><br><span class="line">using UnityEngine.XR.ARSubsystems;</span><br><span class="line"></span><br><span class="line">[RequireComponent(typeof(ARRaycastManager))]</span><br><span class="line">public class ARTapToPlaceObject : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    public GameObject gameObjectToInstantiate;</span><br><span class="line">    </span><br><span class="line">    private GameObject spawnedObject;</span><br><span class="line">    private ARRaycastManager arRaycastManager;</span><br><span class="line">    private Vector2 touchPosition;</span><br><span class="line">    </span><br><span class="line">    static List&lt;ARRaycastHit&gt; hits &#x3D; new List&lt;ARRaycastHit&gt;();</span><br><span class="line">    </span><br><span class="line">    private void Awake()</span><br><span class="line">    &#123;</span><br><span class="line">        arRaycastManager &#x3D; GetComponent&lt;ARRaycastManager&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    bool TryGetTouchPosition(out Vector2 touchPosition)</span><br><span class="line">    &#123;</span><br><span class="line">        if(Input.touchCount &gt; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            touchPosition &#x3D; Input.GetTouch(0).position;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        touchPosition &#x3D; default;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    void Update()</span><br><span class="line">    &#123;</span><br><span class="line">        if(!TryGetTouchPosition(out Vector2 touchPosition))</span><br><span class="line">        &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        if(arRaycastManager.Raycast(touchPosition,hits,TrackableType.PlaneWithinPolygon))</span><br><span class="line">        &#123;</span><br><span class="line">            var hitPose &#x3D; hits[0].pose;</span><br><span class="line">            </span><br><span class="line">            if(spawnedObject &#x3D;&#x3D; null)</span><br><span class="line">            &#123;</span><br><span class="line">                spawnedObject &#x3D; Instantiate(gameObjectToInstantiate, hitPose.position, hitPose.rotation);</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                spawnedObject.transform.position &#x3D; hitPose.position;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŠŠScriptæ‹–è¿›AR Session Origin</p><p>Create Cubeæ‹–è¿›Prefabsï¼Œæ‹–è¿›GameObjectToInstantiate</p><img src="/images/2020/screencapture2020-09-28 PM9.20.08.jpg"><p>Build</p><img src="/images/2020/Screenshot_2020-09-28-21-25-16-503_com.coconutnut.jpg" width=400><p>Yeah~</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=xguiSueY1Lw&amp;amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;amp;index=5&amp;amp;ab_channel=
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="ar" scheme="http://yoursite.com/tags/ar/"/>
    
  </entry>
  
  <entry>
    <title>AR Foundationç¬”è®°03 Plane Detection</title>
    <link href="http://yoursite.com/2020/09/28/note-arfoundation-03/"/>
    <id>http://yoursite.com/2020/09/28/note-arfoundation-03/</id>
    <published>2020-09-28T12:16:29.000Z</published>
    <updated>2020-09-28T13:05:02.587Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p> <a href="https://www.youtube.com/watch?v=uWWiYfPTUtU&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=4&amp;ab_channel=DineshPunni" target="_blank" rel="noopener">https://www.youtube.com/watch?v=uWWiYfPTUtU&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=4&amp;ab_channel=DineshPunni</a></p></blockquote><hr><ol><li>add AR Plane Manager</li></ol><p>AR Session Origin-&gt; add component -&gt; AR Plane Manager</p><ol start="2"><li>Build your own plane object (or use prebuilt prefab)</li></ol><p>Create Empty Object</p><p>Add Components</p><img src="/images/2020/screencapture2020-09-28 PM8.44.02.jpg" width=400><p>Line Renderer</p><img src="/images/2020/screencapture2020-09-28 PM8.46.59.jpg" width=400><ol start="3"><li>Add material to Mesh Renderer</li></ol><p>Create a folder in Assets</p><p>Create Material</p><img src="/images/2020/screencapture2020-09-28 PM8.49.54.jpg"><p>Assign to Mesh Renderer</p><ol start="4"><li>Create prefab of this plane</li></ol><p>Create a folder (Prefabs)</p><p>Drag ARPlane to folder</p><p>Assign to AR Plane Manager</p><img src="/images/2020/screencapture2020-09-28 PM8.52.28.jpg"><ol start="5"><li>Build</li></ol><img src="/images/2020/Screenshot_2020-09-28-20-59-24-106_com.coconutnut.jpg" width=400><p>ğŸ§å¾ˆæ˜¯è¿·æƒ‘</p><img src="/images/2020/Screenshot_2020-09-28-21-03-08-471_com.coconutnut.jpg" width=400><p>æ”¹äº†ä¸€ä¸‹é¡ºçœ¼å¤šäº†</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt; &lt;a href=&quot;https://www.youtube.com/watch?v=uWWiYfPTUtU&amp;amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;amp;index=4&amp;amp;ab_channel
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="ar" scheme="http://yoursite.com/tags/ar/"/>
    
  </entry>
  
  <entry>
    <title>AR Foundationç¬”è®°02 Image Tracking</title>
    <link href="http://yoursite.com/2020/09/26/note-arfoundation-02/"/>
    <id>http://yoursite.com/2020/09/26/note-arfoundation-02/</id>
    <published>2020-09-26T10:21:08.000Z</published>
    <updated>2020-09-26T10:49:32.732Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.youtube.com/watch?v=o_z_Eb8Yh2g&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=3&amp;ab_channel=DineshPunni" target="_blank" rel="noopener">https://www.youtube.com/watch?v=o_z_Eb8Yh2g&amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;index=3&amp;ab_channel=DineshPunni</a></p></blockquote><hr><p>AR Session Origin -&gt; Add AR Tracked Image Manager</p><p>Assets -&gt; Create -&gt; XR -&gt; Reference Image Library</p><p>æ‹–ä¸€å¼ å›¾åˆ°Assetsé‡Œ</p><p>Reference Library -&gt; Add Image æŠŠå›¾æ‹–è¿›å»ï¼Œå¡«Physical Size</p><img src="/images/2020/screencapture2020-09-26 PM6.30.20.jpg"><p>AR Session Origin -&gt; æŠŠReference Libraryæ‹–åˆ°AR Tracked Image Managerä¸­</p><p>Assets -&gt; Create -&gt; C# Script -&gt; é‡å‘½åImageRecognitionExample</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.XR.ARFoundation;</span><br><span class="line"></span><br><span class="line">public class NewBehaviourScript : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    private ARTrackedImageManager _arTrackedImageManager;</span><br><span class="line">    </span><br><span class="line">    private void Awake()</span><br><span class="line">    &#123;</span><br><span class="line">        _arTrackedImageManager &#x3D; FindObjectOfType&lt;ARTrackedImageManager&gt;();    </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void OnEnable()</span><br><span class="line">    &#123;</span><br><span class="line">        _arTrackedImageManager.trackedImagesChanged +&#x3D; OnImageChanged;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void onDisable()</span><br><span class="line">    &#123;</span><br><span class="line">        _arTrackedImageManager.trackedImagesChanged -&#x3D; OnImageChanged;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void OnImageChanged(ARTrackedImagesChangedEventArgs args)</span><br><span class="line">    &#123;</span><br><span class="line">        foreach (var trackedImage in args.added)</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(trackedImage.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Create 3D Object Cubeï¼Œè°ƒæ•´ä½ç½®ã€å¤§å°</p><img src="/images/2020/screencapture2020-09-26 PM6.44.08.jpg"><p>æ‹–è¿›Assetsï¼ˆå˜æˆprefabï¼‰ï¼Œåœ¨SampleSceneä¸­åˆ é™¤</p><p>æŠŠprefabæ‹–è¿›AR Tracked Image Manager</p><p>Build</p><img src="/images/2020/Screenshot_2020-09-26-18-48-02-522_com.coconutnut.jpg" width=400><p>æˆåŠŸ~</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=o_z_Eb8Yh2g&amp;amp;list=PL6VJLOFcTt7awvyIGIbLLPOBrW6-Y1R-J&amp;amp;index=3&amp;amp;ab_channel=
      
    
    </summary>
    
    
      <category term="Note" scheme="http://yoursite.com/categories/Note/"/>
    
    
      <category term="ar" scheme="http://yoursite.com/tags/ar/"/>
    
  </entry>
  
</feed>
